<!DOCTYPE html><html lang="fa">
  <head>
    
<meta charset="utf-8">
<meta name="description" content="">
<meta name="author" content="شاهین آزاد">
<title>یادداشتی در مورد hibernate و suspend در لینوکس | شاهینیسم</title>

<link href="../assets/css/rst.css" rel="stylesheet" type="text/css">
<link href="../assets/css/code.css" rel="stylesheet" type="text/css">
<link href="../assets/css/colorbox.css" rel="stylesheet" type="text/css">
<link href="../assets/css/theme.css" rel="stylesheet" type="text/css">

<link href="../assets/css/custom.css" rel="stylesheet" type="text/css">

<!--[if lt IE 9]>
<script src="http://html5shim.googlecode.com/svn/trunk/html5.js" type="text/javascript"></script>
<![endif]-->


<link rel="alternate" type="application/rss+xml" title="RSS fa" href="../rss.xml">




    

  



    
  </head>
  <body class="home blog">
    
    <script type="text/javascript">var addthis_config={"ui_language":"${lang}"};</script>
    

    <div id="siteWrapper">
      <h1 id="vcard author">
        <a href="../" title="شاهینیسم">شاهینیسم</a>
        <a href="http://internetdefenseleague.org"><img src="http://internetdefenseleague.org/images/badges/final/footer_badge.png" alt="Member of The Internet Defense League" style="float: left; position: absolute; margin: 0px 90px;"></a>
      </h1>

      <div id="mainNav">
        <ul>
          


  <li><a href="../stories/drbrh-mn-2.html">About</a>



  </li><li><a href="../archive.html">Archives</a>



  </li><li><a href="../categories/index.html">Tags</a>



  </li><li><a href="http://feeds.feedburner.com/Shahinism">RSS</a>


</li>
        </ul>
      </div>
      <div id="siteDescription">
        
        
        
      </div>
      <div id="coreContent" class="hfeed">
        
<div id="coreContent">
  <div class="post single hentry">
    <div class="postContent">
      <h3 class="entry-title">
<h1>یادداشتی در مورد hibernate و suspend در لینوکس</h1>

</h3>
      <div class="entry-content">
        <p></p><p>کلا چون به دلیل سخت‌افزار قدیمی‌ام تا همین یکی دو سال پیش (شاید هم سه چهار سال پیش ;-)) از Windows XP استفاده می‌کردم (‌لینوکس هم کلا نمی‌دانستم چیست D:) تنها مدل‌هایی که از کنترل وضعیت سیستم می‌شناختم‌، Shutdown و reboot بود‌. بعد از مهاجرت به لینوکس هم اگر قرار بود به صورت دستی سیستم را خاموش کنم فقط همان halt و shutdown را می‌شناختم‌. اما این‌ها همیشه کافی نبودند‌. بعضی وقت‌ها ممکن است فقط برای یک ربع یا نیم ساعت از سیستم دور باشیم‌. انتظار بوت برای یک همچین مدتی کوتاهی‌، واقعا طاقت فرساست‌. مخصوصا که تمامی اطلاعات نشست حاضر از بین می‌رود‌.
متاسفانه وقتی هم که با حالت Suspend (sleep)‎ در KDE سیستم را خاموش می‌کردم‌، (ذخیره اطلاعات در رم‌) امکان بازگشتن سیستم به وضعیت قبلی ۵۰-۵۰ بود‌! گاها تنها با یک صفحه‌ی سیاه روبرو می‌شدم که خوب یعنی سیستم باید reboot شود‌.</p>
<p>این مقدمه را گفتم که بگویم‌، پس از مهاجرتم به مدیرپنجره‌ی Awesome به دنبال همین روش‌ها برای معرفی در پوسته‌اش بودم تا کارم را راحت کنم‌، و این مقدمه‌ی آشناییم با pm-utils بود‌. فریم‌ورکی که برای مدیریت وضعیت سیستم طراحی شده‌. و خوشبختانه به دلیل بسیار سبک بودن Awesome (‌البته حدس می‌زنم همین دلیل باشد‌) سیستم را به خوبی Suspend کرده و می‌توان به راحتی به نشست قبلی بازگشت‌.</p>
<p>با کاربر Root می‌توان با یکی از دو دستور زیر به این امکان دست یافت‌:</p>
<div class="code"><pre>/usr/sbin/pm-hibernate

/usr/sbin/pm-suspend
</pre></div>


<p>اولی که برای خاموش کردن سیستم است‌. و دومی سیستم را در رم خاموش می‌کند و به سیستم این قابلیت را می‌دهد که در هنگام روشن شدن به وضعیت قبلی‌اش بازگردد (‌توجه داشته باشید که خاموش شدن در این وضعیت به دلیل وابستگی به Ram نیازمند ولتاژ اندکی از برق است تا اطلاعات پاک نشود، در صورت قطع برق سیستم‌، سیستم دوباره بوت می‌شود‌).</p>
<p>از آن‌جایی که این ابزار برای کار کردن نیاز به بعضی از دسترسی‌های ریشه دارد‌، پس با یک کاربر عادی نمی‌توان آن‌ها را اجرا کرد و به sudo نیاز است‌. از آن‌جایی هم که روی خوشی ندارد که هر بار برای خاموش کردن سیستم خودمان یک رمز وارد کنیم‌، می‌توان‌، دو خط زیر را به فایل sudoers (‌با استفاده از visudo) و بعد از خطوطی که دسترسی sudo را به کاربران اعلام کرده‌ایم اضافه کرد تا بدون پسوورد اجازه‌ی استفاده از این دستور را داشته باشیم‌:</p>
<div class="code"><pre>username <span class="nv">ALL</span><span class="o">=</span> NOPASSWD: /usr/sbin/pm-hibernate

username <span class="nv">ALL</span><span class="o">=</span> NOPASSWD: /usr/sbin/pm-suspend
</pre></div>


<p>همچنین اگر دیگر خیلی مثل من تنبلید می‌توانید یک Alias تعریف کنید تا هر وقت تایپ کردید pm-hibernate خودش دستور sudo /usr/sbin/pm-hibernate را وارد کرده و سیستم را خاموش کند ;-)</p>
<p></p><p style="text-align: center;"><a title="Pm-utils on arch wiki" href="https://wiki.archlinux.org/index.php/Pm-utils" target="_blank"><strong>ویکی آرچ اطلاعات ارزشمندی در این زمینه دارد که می‌تواند کمک کننده باشد.</strong></a></p>
      </div>
      <div class="postMeta">
        <div class="postDate"><span>ارسال شده:</span> <abbr class="published">2012-03-26 09:42</abbr></div>
        


        <div class="categories">

<span>ارسال‌های بیشتر دربارهٔ</span>

<a class="tag" href="../categories/pm-hibernate.html"><span class="badge-info">pm-hibernate</span></a>

<a class="tag" href="../categories/pm-suspend.html"><span class="badge-info">pm-suspend</span></a>

<a class="tag" href="../categories/pm-utils.html"><span class="badge-info">pm-utils</span></a>

<a class="tag" href="../categories/slkhwr.html"><span class="badge-info">اسلکور</span></a>

<a class="tag" href="../categories/brrsy.html"><span class="badge-info">بررسی</span></a>

<a class="tag" href="../categories/hl-mshkhl.html"><span class="badge-info">حل مشکل</span></a>

<a class="tag" href="../categories/nrm-fzr.html"><span class="badge-info">نرم افزار</span></a>

<a class="tag" href="../categories/gnwlynwkhs.html"><span class="badge-info">گنو/لینوکس</span></a>

<a class="tag" href="../categories/gnwlynwkhs.html"><span class="badge-info">گنو/لینوکس</span></a>


</div>
      </div>
    </div>

    <div class="pageNav">
      
<ul class="pager">
  
  <div class="prev">
    <a href="blog13910106nsb-awesome-wm-rwy-slkhwr.html">← ارسال پیشین</a>
  </div>
  
  
  <div class="next">
    <a href="blog13910108yddshty-dr-mwrd-conky-w-dshtn-khrwjy-frsy-r.html">ارسال بعدی →</a>
  </div>
  
  </ul>

    </div>
    <div class="postMeta">
      
      
    
        <div id="disqus_thread"></div>
        <script type="text/javascript">
        var disqus_shortname ="shahinism";
        
            var disqus_url="http://shahinism.github.io//posts/blog13910107yddshty-dr-mwrd-hibernate-w-suspend-dr-lynwkhs.html";
        
        var disqus_title="\u06cc\u0627\u062f\u062f\u0627\u0634\u062a\u06cc \u062f\u0631 \u0645\u0648\u0631\u062f hibernate \u0648 suspend \u062f\u0631 \u0644\u06cc\u0646\u0648\u06a9\u0633";
        var disqus_identifier="cache/posts/old/blog13910107yddshty-dr-mwrd-hibernate-w-suspend-dr-lynwkhs.html";
        var disqus_config = function () {
            this.language = "";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    

      
    </div>

  </div>
</div>
  
      </div>
    </div>
    <div id="footer">
      <h5>Elsewhere</h5>
      <ul class="elsewhere">
        <a href="https://plus.google.com/117086743723717964659/posts">Google Plus</a> |
<a href="http://www.goodreads.com/user/show/4795670-shahin-azad">Good Reads</a> |
<a href="https://identi.ca/shahinism">Identica</a> |
<a href="http://twitter.com/shahinism">Twitter</a> |
<a href="https://github.com/shahinism">Github</a>
      </ul>

      <div class="footerContent">
        
<!-- Custom search -->
<form method="get" id="searchform" action="http://duckduckgo.com/">
<div id="search">
<input type="hidden" name="sites" value="http://shahinism.github.io/">
<input type="hidden" name="k8" value="#444444">
<input type="hidden" name="k9" value="#D51920">
<input type="hidden" name="kt" value="h">
<input type="text" name="q" maxlength="255" placeholder="جستجو…">
<input type="submit" id="searchsubmit" value="DDG Search">
</div>
</form>
<!-- End of custom search -->

        <p> Contents © 2013 <a href="mailto:ishahinism@gmail.com">شاهین آزاد</a> - Powered by <a href="http://nikola.ralsina.com.ar">Nikola</a> </p>
        <p> Design by <a href="http://themes.jimbarraud.com/manifest/">Jimbarraud</a> + some <a href="http://shahinism.com">Shahinism</a> twists. </p>
      </div>
    </div>
    
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-23874419-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

  </body>
</html>
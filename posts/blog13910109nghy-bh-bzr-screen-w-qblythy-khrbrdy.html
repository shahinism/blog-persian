<!DOCTYPE html>
<html prefix="
og: http://ogp.me/ns#
article: http://ogp.me/ns/article#
" dir="rtl" lang="fa">
<head>
<meta charset="utf-8">
<base href="http://5hah.in/posts/blog13910109nghy-bh-bzr-screen-w-qblythy-khrbrdy.html">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>نگاهی به ابزار Screen و قابلیت‌های کاربردی‌اش | شاهین</title>
<link href="../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta content="#5670d4" name="theme-color">
<link rel="alternate" type="application/rss+xml" title="RSS" href="../rss.xml">
<link rel="canonical" href="http://5hah.in/posts/blog13910109nghy-bh-bzr-screen-w-qblythy-khrbrdy.html">
<link rel="icon" href="favicon.ico" sizes="32x32">
<!--[if lt IE 9]><script src="../assets/js/html5.js"></script><![endif]--><meta name="author" content="شاهین آزاد">
<link rel="prev" href="blog13910108yddshty-dr-mwrd-conky-w-dshtn-khrwjy-frsy-r.html" title="یادداشتی در مورد conky و داشتن خروجی فارسی روی آن" type="text/html">
<link rel="next" href="blog13910110ykh-pwsth-bry-mdyr-pnjrh-awesome.html" title="یک پوسته برای مدیر پنجره Awesome" type="text/html">
<meta property="og:site_name" content="شاهین">
<meta property="og:title" content="نگاهی به ابزار Screen و قابلیت‌های کاربردی‌اش">
<meta property="og:url" content="http://5hah.in/posts/blog13910109nghy-bh-bzr-screen-w-qblythy-khrbrdy.html">
<meta property="og:description" content="hardstatus alwayslastline

hardstatus string '%{= kG}[ %{G}%H %{g}][%= %{=kw}%?%-Lw%?%{r}(%{W}%n*%f%t%?(%u)%?%{r})%{w}%?%+Lw%?%?%= %{g}][%{B}%Y-%m-%d %{W}%c %{g}]'



# Default screens

screen -t shel">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2012-03-28T15:01:38+04:30">
</head>
<body>
  <a href="#content" class="sr-only sr-only-focusable">متن اصلی را نادیده بگیر</a>

  <div class="navigator">
    
  </div>

  <nav class="navbar navbar-default"><div class="container-fluid">
      <!-- Brand and toggle get grouped for better mobile display -->
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../"><img src="../assets/images/logo.png"></a>
      </div>

      <!-- Collect the nav links, forms, and other content for toggling -->
      <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
        <ul class="nav navbar-nav">
<li>
<a href="../stories/about-me.html">درباره</a>
                </li>
<li>
<a href="../">رزومه</a>
                </li>
<li>
<a href="../archive.html">آرشیو</a>
                </li>
<li>
<a href="../categories/index.html">دسته‌ها</a>
                </li>
<li>
<a href="../rss.xml">خوراک</a>

                    
        </li>
</ul>
<!-- DuckDuckGo custom search --><form class="navbar-form navbar-left" role="search" method="get" id="search" action="//duckduckgo.com/">
<div class="input-group">
<input type="hidden" name="sites" value="http://5hah.in/"><input type="hidden" name="k8" value="#444444"><input type="hidden" name="k9" value="#D51920"><input type="hidden" name="kt" value="h"><input type="text" name="q" maxlength="255" class="form-control" placeholder="جستجو..."><span class="input-group-btn">
<input class="btn btn-default" type="submit" value="برو"></span>
</div>
</form>
<!-- End of custom search -->


      </div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container-fluid -->
  </nav><div class="jumbotron">
    <section class="container"><div id="headerbox" class="col-md-6 col-md-offset-3 text-center">
        <h1>شاهین</h1>
        <hr class="hdrline">
<a class="social" href="https://twitter.com/shahinism">
          <img src="../assets/images/github.png"></a>
        <a class="social" href="https://github.com/shahinism">
          <img src="../assets/images/twitter.png"></a>
        <a class="social" href="https://ir.linkedin.com/in/shahinism">
          <img src="../assets/images/linkedin.png"></a>
      </div>
    </section>
</div>

  <div class="container" id="content" role="main">
    <!--Body content-->
    <div class="col-md-6 col-md-offset-3">
      <div class="row">
        
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><div class="text-center">
          <h1 class="p-name entry-title" itemprop="headline name"><a href="#" class="u-url">نگاهی به ابزار Screen و قابلیت‌های کاربردی‌اش</a></h1>

        شاهین آزاد
      <a href="#" rel="bookmark"><time class="published dt-published" datetime="2012-03-28T15:01:38+04:30" itemprop="datePublished" title="2012-03-28 15:01">2012-03-28 15:01</time></a>
    </div>
    
  </header><div class="e-content entry-content" itemprop="articleBody text">
    <div>
<pre class="code literal-block">hardstatus alwayslastline

hardstatus string <span class="s1">'%{= kG}[ %{G}%H %{g}][%= %{=kw}%?%-Lw%?%{r}(%{W}%n*%f%t%?(%u)%?%{r})%{w}%?%+Lw%?%?%= %{g}][%{B}%Y-%m-%d %{W}%c %{g}]'</span>



<span class="c"># Default screens</span>

screen -t shell1 0

screen -t shell2 1

screen -t server <span class="m">2</span> ssh me@myserver
</pre>


<p>دو خط اول‌، یک استاتوس بار درست و درمان به خط فرمان اسکرین اضافه می‌کند که اطلاعاتش می‌تواند بسیار کمک کند‌. و در بخش Default screens نیز چند شل اولیه که می‌خواهیم پس از هر بار فراخوانی لینوکس به صورت Tab باز شوند را اعلان می‌کنیم. نمونه عکس زیر:</p>
<p><img class="aligncenter" src="http://dl.dropbox.com/u/25017694/Blog-photos/screen.png" alt="" width="524" height="243"></p>
<p>ذره‌ای که با آن کار کنید‌، متوجه شباهت زیادش به یک مدیر پنجره‌ی ساده می‌شوید‌. برای تنظیم پنجره‌های پیشفرض می‌توانید از فرمت زیر استفاده کنید‌:</p>
<pre class="code literal-block">screen -t &lt;<span class="nb">command </span><span class="nv">to</span><span class="o">=</span><span class="s2">""</span> <span class="nv">execute</span><span class="o">=</span><span class="s2">""</span>&gt;&lt;/command&gt;
</pre>


<p>خوب حالا نوبت به شروع کار با screen می‌شود‌، که پس از فراخوانی‌اش در ترمینال می‌توانید با دستور‌های پایه‌ای زیر مقداری از قدرتش را تجربه کنید:</p>
<pre class="code literal-block">Ctrl+a 0-9 – سوئیچ بین پنجره‌های <span class="m">۰</span> تا ۹

Ctrl+a Ctrl+n – سوئیچ به پنجره فعال بعدی

Ctrl+a Ctrl+p – سوئیچ به پنجره قبلی

Ctrl+a Ctrl+a – پرش به پنجره قبلی که در آن بودید

Ctrl+a A – تغییر نام نشست حاضر

Ctrl+a K – کشتن نشست حاضر پنجره

Ctrl+a c – ساختن پنجره جدید
</pre>


<p></p>
<h5>قابلیت یاد‌آوری:</h5>
<p>یک امکان جالب Screen این است که می‌توان آن را با Ctrl+a d به قولی دیتچ کرد (‌کلا بست گذاشت کنار) و سپس با دستور Screen -ls و کشف شماره اسکرین دیتچ شده به صورت زیر:</p>
<pre class="code literal-block">There is a screen on:

18851.shahin <span class="o">(</span>Detached<span class="o">)</span>

<span class="m">1</span> Socket in /home/shahin/.screen.
</pre>


<p>با آرگومان‌های زیر به اسکرین دیتچ شده بازگشت:</p>
<pre class="code literal-block">screen -r 18851
</pre>


<h5>قابلیت اشتراک گذاری:</h5>

<p>دیگر قابلیت فوق‌العاده screen قابلیت به اشتراک گذاریش است‌. فرض کنید می‌خواهید فعالیت خود را در ترمینال با دوست دیگرتان (‌چه حالا روی یک سیستم و چه از روی یک اتصال SSH) به اشتراک بگذارید‌ (‌مثلا برای آموزش). این‌جاست که screen وارد می‌شود. برای برپا سازی چنین ارتباطی به صورت زیر عمل می‌کنیم‌:</p>
<pre class="code literal-block"><span class="o">[</span>As root<span class="o">]</span>

chmod u+s /usr/bin/screen

chmod <span class="m">755</span> /var/run/screen
</pre>


<p>حال از کاربر root خارج شوید و به عنوان کاربری که می‌خواهید screenاش به اشتراک گذاشته شود به سیستم متصل شده و دستورات زیر را بزنید‌:</p>
<pre class="code literal-block">ctrl+a :multiuser

ctrl+a :acladd shahin <span class="o">(</span>به جای شاهین نام کاربری که می‌خواهید اسکرین را با او به اشتراک بگذارید را وارد کنید‌<span class="o">)</span>
</pre>


<p>تا این‌جا کار کاربر میزبان به پایان رسیده‌. کاربر مهمان نیز تنها پس از اتصال به سیستم می‌تواند با زدن دستور screen -x shahinism/‎ که به جای shahinism نام کاربری میزبان را وارد کرده به سیستم متصل شود (‌به اکسلش پایان دستور توجه کنید‌).</p>
<p>اسکرین امکانات فوق‌العاده‌ی دیگری هم دارد که برای پی بردن به آن‌ها صفحه‌ی man این دستور مکان خوبی برای شروع است‌. بزرگترین مزیت استفاده از این ابزار برای من در مدیریت سرور است که با توجه به محدودیت حجمی و سرعت اینترنت نمی‌توانم به یک مدیر پنجره دسترسی داشته باشم. </p>
</div>
    </div>
    <aside class="postpromonav"><nav><ul class="pager hidden-print">
<li class="previous">
                <a href="blog13910108yddshty-dr-mwrd-conky-w-dshtn-khrwjy-frsy-r.html" rel="prev" title="یادداشتی در مورد conky و داشتن خروجی فارسی روی آن">ارسال پیشین</a>
            </li>
            <li class="next">
                <a href="blog13910110ykh-pwsth-bry-mdyr-pnjrh-awesome.html" rel="next" title="یک پوسته برای مدیر پنجره Awesome">ارسال بعدی</a>
            </li>
        </ul></nav></aside></article><script>var disqus_shortname="shahinism";(function(){var a=document.createElement("script");a.async=true;a.src="//"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script>
</div>
    </div>
    <!--End of body content-->
  </div>

  <footer id="footer" class="site-footer">
    Contents © 2015         <a href="mailto:me@5hah.in">شاهین آزاد</a> - Powered by         <a href="http://getnikola.com" rel="nofollow">Nikola</a>         
    
  </footer><script src="../assets/js/all-nocdn.js"></script><script src="../assets/js/colorbox-i18n/jquery.colorbox-fa.js"></script><script>$('a.image-reference:not(.islink) img:not(.islink)').parent().colorbox({rel:"gal",maxWidth:"100%",maxHeight:"100%",scalePhotos:true});</script><!-- fancy dates --><script>
    moment.locale("fa");
    fancydates(0, "YYYY-MM-DD HH:mm");
  </script><!-- end fancy dates -->
</body>
</html>

<!DOCTYPE html>
<html prefix="
og: http://ogp.me/ns#
article: http://ogp.me/ns/article#
" dir="rtl" lang="fa">
<head>
<meta charset="utf-8">
<meta name="wot-verification" content="1e0ce5594a67af53269c">
<meta name="keywords" content="برنامه‌نویسی‌، لینوکس، پایتون‌، اندروید‌، روبی‌، جاوا‌، دیتابیس‌، Programming, Python, Linux, Android, Java, Ruby, Rails, Arch, Database">
<meta name="author" content="شاهین آزاد">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>سیر صعودی $ و روش‌های مختلفی که برای دانلود در لینوکس یاد گرفتم! | وبلاگ شاهین</title>
<link href="../../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta content="#5670d4" name="theme-color">
<link rel="alternate" type="application/rss+xml" title="RSS" href="../../../rss.xml">
<link rel="canonical" href="https://5hah.in/posts/wp/syr-swdy-w-rwshhy-mkhtlfy-khh-bry-dn/">
<!--[if lt IE 9]><script src="../../../assets/js/html5.js"></script><![endif]--><script type="application/ld+json">
      {
        "@context" : "http://schema.org",
        "@type" : "Organization",
        "name" : "وبلاگ شاهین",
        "url" : "https://5hah.in",
        "sameAs" : [
        "https://twitter.com/shahinism",
        "https://plus.google.com/117086743723717964659",
        "https://www.facebook.com/shahinism",
        "https://www.linkedin.com/in/shahinism"
        ]
      }
    </script><meta name="author" content="شاهین">
<link rel="prev" href="../dunst-tl-rsn-khwchkh-bry-mdyrpnjrhh/" title="Dunst اطلاع رسان کوچک برای مدیر‌پنجره‌های سبک مثل i3 یا DWM" type="text/html">
<link rel="next" href="../trmynl-dropdown-mthl-quake-dr-mdyr-pnjrh-i3/" title="ترمینال dropdown (مثل quake) در مدیر پنجرهٔ i3" type="text/html">
<meta property="og:site_name" content="وبلاگ شاهین">
<meta property="og:title" content="سیر صعودی $ و روش‌های مختلفی که برای دانلود در لینوکس یاد گرفتم!">
<meta property="og:url" content="https://5hah.in/posts/wp/syr-swdy-w-rwshhy-mkhtlfy-khh-bry-dn/">
<meta property="og:description" content="این شد که تصمیم گرفتم که راهی غیر از وب سرور برای انتقال فایل از سرور (که می‌توان دقیقا یک کامپیوتر با یک اتصال اینترنت به درد بخور فرضش کرد) به کامپیوتر خودمان پیدا کنم‌. در این مسیر همراهم باشید و ع">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2012-10-17T01:10:24+03:30">
<meta name="twitter:card" content="summary">
<meta name="twitter:creator" content="@shahinism">
</head>
<body>
  <a href="#content" class="sr-only sr-only-focusable">متن اصلی را نادیده بگیر</a>

  <div class="navigator">
    
  </div>

  <nav class="navbar navbar-default"><div class="container-fluid">
      <!-- Brand and toggle get grouped for better mobile display -->
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../../../"><img src="../../../assets/images/logo.png"></a>
      </div>

      <!-- Collect the nav links, forms, and other content for toggling -->
      <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
        <ul class="nav navbar-nav">
<li>
<a href="../../../stories/about-me">درباره</a>
                </li>
<li>
<a href="../../../docs/resume.pdf">رزومه</a>
                </li>
<li>
<a href="../../../archive.html">آرشیو</a>
                </li>
<li>
<a href="../../../categories/">دسته‌ها</a>
                </li>
<li>
<a href="../../../rss.xml">خوراک</a>

                    
        </li>
</ul>
<!-- DuckDuckGo custom search --><form method="get" id="search" action="https://duckduckgo.com/" class="navbar-form pull-left">
<input type="hidden" name="sites" value="https://5hah.in/"><input type="hidden" name="k8" value="#444444"><input type="hidden" name="k9" value="#D51920"><input type="hidden" name="kt" value="h"><input type="text" name="q" maxlength="255" placeholder="جستجو" class="form-control" style="margin-top: 4px;"><input type="submit" value="DuckDuckGo Search" style="visibility: hidden;">
</form>
<!-- End of custom search -->


      </div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container-fluid -->
  </nav><section class="container"><div id="headerbox" class="col-md-6 col-centered">
      <div class="terminal">
        <span class="prompt"> <span class="cursor"></span></span>
      </div>
    </div>
  </section><div class="container" id="content" role="main">
    <!--Body content-->
    <div class="col-md-7 col-centered">
      <div class="row">
        
  <article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><div class="publish-date">
      <i class="glyphicon glyphicon-calendar"></i>
      <time class="published dt-published" datetime="2012-10-17T01:10:24+03:30" title="2012-10-17 01:10">2012-10-17 01:10</time>
</div>

        <h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">سیر صعودی $ و روش‌های مختلفی که برای دانلود در لینوکس یاد گرفتم!</a></h1>

    
  </header><div class="e-content entry-content" itemprop="articleBody text">
      <div>
<p>این شد که تصمیم گرفتم که راهی غیر از وب سرور برای انتقال فایل از سرور (که می‌توان دقیقا یک کامپیوتر با یک اتصال اینترنت به درد بخور فرضش کرد) به کامپیوتر خودمان پیدا کنم‌. در این مسیر همراهم باشید و عمرا قصه نخورید که چرا در سیستم عامل استکباریتان‌، خواب چنین وسایلی را به راحتی نمی‌بینیند:</p>
<p></p>
<h5>Konqueror:</h5>
<p>خوب اولین ابزار دم دستمان مرورگر پیش‌فرض KDE است‌. برای دیدن فایل‌های روی وب‌سرور تنها کافیست در آدرس‌بار چنین چیزی بنویسیم:</p>
<pre class="code literal-block"><span></span>fish://USER@IPSERVER
</pre>


<p>خودش پس از شروع به جستجو پسوورد می‌پرسد که همان پسوورد ssh (پسوورد یوزر) خواهد بود‌. و دیگر می‌توانید با فایل‌ها جوری رفتار کنید که انگار روی کامپیوتر خودتان قرار دارند‌. ولی خوب بدیهی است که با سرعت اینترنت بالای ما‌، خیلی دردناک است‌. برای فایل‌های کوچک حداکثر تا دو سه مگابایتی می‌توان با یک کپی پیست ساده سر و ته قضیه را هم آورد‌. ولی اگر فایل دو گیگ باشد‌، باید دنبال چارهٔ بهتر گشت‌.</p>
<h5>scp</h5>

<p>یا همان Safe CoPy‌، که به این صورت مورد استعمال قرار می‌گیرد:</p>
<pre class="code literal-block"><span></span>scp USER@IPSERVER:PATH_TO_FILE _Path_to_download_
</pre>


<p>بعد از اجرا یک پرامپتی می‌آید و پسوورد می‌پرسد (عین ssh خودمان) و عملیات کپی انجام می‌شود‌. بدبختی‌اش این‌جاست که چون ما خیلی به سرعت انتقالمان اطمینان داریم‌، یک بار زبانم لال، فایلمان ناقص دانلود شود‌ (لنگر است دیگر‌، می‌افتد‌)، دیگر نمی‌توان Resume‌اش کرد و باید دوباره از اول شروع کنید‌.</p>
<p>scp خوب است‌، ولی باز هم زیاد به درد موقعیت ما نمی‌خورد‌. می‌رویم گزینهٔ بعدی.</p>
<h5>Filezilla</h5>

<p>این فایلزیلای پدر سوخته را احتمالا از روی استفاده‌هایش برای FTP می‌شناسید‌. خوب خوشبختانه این‌ها از پروتکلی به اسم SFTP هم پشتیبانی می‌کنند که منظورش این است که SSH می‌تواند برای وصل شدن به سرور مقصد قرار گیرد‌. پس کافیست از منوی فایل روی Site manager کلیک کنید و صفحهٔ باز شده را مثل عکس زیر کانفیگ کنید:</p>
<p style="text-align: center;"><a href="http://dl.dropbox.com/u/25017694/Blog-photos/filezilla.png"><img class="aligncenter" title="Filezilla site manager" src="http://dl.dropbox.com/u/25017694/Blog-photos/filezilla.png" alt="Filezilla site manager" width="419" height="331"></a></p>

<p>و بعد هم روی connect بزنید و تمام‌. خیلی راحت وصل می‌شوید و می‌توانید با Drog &amp; Drop فایل را انتقال دهید به سیستم‌تان‌. آسان بود‌. ولی خوب ما فقیر فقرا که ساعت ۲ تا ۷ صبح سرعت اینترنت‌مان سر به فلک می‌کشد‌، با تک نخی بودن مدل دانلود‌مان احتمالا طی پنج ساعت نمی‌توانیم ۲ درصد یک فایل دو گیگی را دانلود کنیم‌. می‌توانیم؟</p>
<p>پس فایلزیلا هم با تمام خوبی‌هایش بهتر است برود جلو بوق بزند‌. ما باید برای مساله‌مان دنبال یک راه حل بهتر باشیم‌.</p>
<h5>rsync</h5>

<p>یاد‌تان می‌آید گفتیم که scp سرعت خوبی داشت ولی Resume نمی‌کرد‌. یک ابزار دیگر هم داریم که جینگولک بازی‌هایش در زمان Resume فوق‌العاده است و زبان زد خاص و عام‌. مثل این نقل قول:</p>
<blockquote>ای کسانی که ویندوز آورده‌اید‌، اگر راست می‌گویید rsync بیاورید «<del>منبع نامعلوم</del><a href="http://shahinism.com/blog/1391/07/26/%d8%b3%db%8c%d8%b1-%d8%b5%d8%b9%d9%88%d8%af%db%8c-%d9%88-%d8%b1%d9%88%d8%b4%e2%80%8c%d9%87%d8%a7%db%8c-%d9%85%d8%ae%d8%aa%d9%84%d9%81%db%8c-%da%a9%d9%87-%d8%a8%d8%b1%d8%a7%db%8c-%d8%af%d8%a7%d9%86/#comment-537"> منبع خودش اومد اعتراف کرد ;-)</a>»</blockquote>

<p>این می‌شود که از آن به صورت زیر استفاده می‌کنیم:</p>
<pre class="code literal-block"><span></span>rsync -az --progress --rsh<span class="o">=</span><span class="s1">'ssh'</span> --partial USER@IPSERVER:PATH_TO_FILE _Path_to_download
</pre>


<p>خیلی هم خوب‌. یکی از ویژگی‌هایش این است که می‌توانید آدرس یک پوشه را برای دانلود بهش بخورانید و دیگر دست به دستور نزنید و فقط هر وقت خواستید رانش کنید‌. خودش آخرین فایل‌های آن پوشه را می‌گیرد‌. اما امان از سرعت‌. این جینگولک بازی‌های rsync روی قابلیت‌های فوق‌العاده resume‌اش هزینه دارد و آن هم سرعت است‌! که ما به آن هم خیلی نیاز داریم‌. برای این کار بسته به موقعیت می‌توانیم آن آرگومان z را حذف کنیم‌. ولی حقیقتش برای ما فرق چندانی نداشت‌.</p>
<p>این است که rsync هم می‌گذاریم برای وقتی که لازمش داریم و می‌رویم دنبال یک راه حل بهتر که هم Resume کند‌، هم چند نخه دانلود کند‌، و از آن مهم‌تر این که هی مجبورمان نکند پسوورد بزنیم! آخر چه کسی حالش را دارد ساعت ۲ صبح پسوورد یادش بیاورد؟</p>
<h5>lftp</h5>

<p>فوق‌العاده‌ است‌. فوق‌العاده‌. و این‌طوری استفاده می‌شود:</p>
<pre class="code literal-block"><span></span>lftp -c <span class="s2">"mirror -c --use-pget-n=10 --verbose sftp://USER:PASSWORD@IPSERVER/PATH_TO_FILE"</span>
</pre>


<p>هوم‌، یک کمی طولانی شد‌. ولی بگذارید کمی در موردش صحبت کنیم‌. چون واقعا لازم به توضیح است:</p>
<ul>
<li>‎-c اول یعنی این که دستور روبرو را اجرا کن‌.</li>
    <li>mirror یک برنامه توکار برای lftp است‌. یکی دیگر مثلا pget است‌. هر کدام به درد جایی می‌خورد و این mirror الان به درد ما‌. (از pget هم می‌توان استفاده کرد ولی این یکی بیشتر به مزاقم نشست).</li>
    <li>‎-c این آرگومان مال mirror است و یعنی Resume کن اگر می‌توانی D:</li>
    <li>‎--user-pget-n=10 یعنی فایل را ده قسمت کن و همه را با هم بگیر‌. این همان قابلیت چند نخی است که باعث افزایش سرعت می‌شود و دانلود منیجر‌های مدرن با آن پز می‌دهند ;-)</li>
    <li>USER:PASSWORD یعنی این‌ور یوزر را می‌نویسیم و آن‌ورش رمز عبورش را!</li>
    <li>PATH_TO_FILE این‌بار کمی با باقی مواقع فرق دارد‌. قبلا آدرس را از پوشهٔ خانگی یوزری که وارد شده بود وارد می‌کردیم و موضوع حل بود‌. ولی اینجا آدرس را از ریشه (/) می‌نویسیم‌. یعنی اگر در پوشهٔ خانگی‌تان است می‌شود این:</li>
</ul>
<pre class="code literal-block"><span></span>/home/USER/File
</pre>


<p>lftp هم مانند rsync (شاید هم scp) زورش را دارد که پوشه‌ای که به آن خورانده‌ایم را دانلود کند‌.</p>
<p>همین دیگر‌. دیدید؟ باز هم بگویید بد است‌. لامصب را می‌بینید که چقدر به فکر جیب آدم است؟ با هر پولی و با هر سازی که دلتان خواست برایش بنوازید‌، برای‌تان آن‌قدر خوب رقص می‌کند که انگشت به دهن می‌بانید ;-)</p>
</div>
    </div>

    <div class="terminal">
      <span class="prompt">python ./share.py help</span>
      <div class="result">
        <span>
          If you enjoyed it you can use following links to share this article:
        </span>
        <ol>
<li><a href="https://twitter.com/intent/tweet/?text=%D8%B3%DB%8C%D8%B1%20%D8%B5%D8%B9%D9%88%D8%AF%DB%8C%20%24%20%D9%88%20%D8%B1%D9%88%D8%B4%E2%80%8C%D9%87%D8%A7%DB%8C%20%D9%85%D8%AE%D8%AA%D9%84%D9%81%DB%8C%20%DA%A9%D9%87%20%D8%A8%D8%B1%D8%A7%DB%8C%20%D8%AF%D8%A7%D9%86%D9%84%D9%88%D8%AF%20%D8%AF%D8%B1%20%D9%84%DB%8C%D9%86%D9%88%DA%A9%D8%B3%20%DB%8C%D8%A7%D8%AF%20%DA%AF%D8%B1%D9%81%D8%AA%D9%85!%20by%20@shahinism&amp;url=https://5hah.in/posts/wp/syr-swdy-w-rwshhy-mkhtlfy-khh-bry-dn/" target="_blank">twitter</a></li>
          <li><a href="https://plus.google.com/share?url=https://5hah.in/posts/wp/syr-swdy-w-rwshhy-mkhtlfy-khh-bry-dn/" target="_blank">google_plus</a></li>
          <li><a href="https://facebook.com/sharer/sharer.php?u=https://5hah.in/posts/wp/syr-swdy-w-rwshhy-mkhtlfy-khh-bry-dn/" target="_blank">facebook</a></li>
        </ol>
</div>
      
      <span class="prompt">ls ./tags</span>
      

      <span class="prompt"><span class="cursor"></span></span>
    </div> <!-- .terminal -->
    <nav><ul class="pager hidden-print">
<li class="previous">
                <a href="../dunst-tl-rsn-khwchkh-bry-mdyrpnjrhh/" rel="prev" title="Dunst اطلاع رسان کوچک برای مدیر‌پنجره‌های سبک مثل i3 یا DWM">ارسال پیشین</a>
            </li>
            <li class="next">
                <a href="../trmynl-dropdown-mthl-quake-dr-mdyr-pnjrh-i3/" rel="next" title="ترمینال dropdown (مثل quake) در مدیر پنجرهٔ i3">ارسال بعدی</a>
            </li>
        </ul></nav><section class="comments hidden-print"><h2>دیدگاه‌‌‌ها</h2>
                        <div id="disqus_thread"></div>
        <script>
        var disqus_shortname ="shahinism",
            disqus_url="https://5hah.in/posts/wp/syr-swdy-w-rwshhy-mkhtlfy-khh-bry-dn/",
        disqus_title="\u0633\u06cc\u0631 \u0635\u0639\u0648\u062f\u06cc $ \u0648 \u0631\u0648\u0634\u200c\u0647\u0627\u06cc \u0645\u062e\u062a\u0644\u0641\u06cc \u06a9\u0647 \u0628\u0631\u0627\u06cc \u062f\u0627\u0646\u0644\u0648\u062f \u062f\u0631 \u0644\u06cc\u0646\u0648\u06a9\u0633 \u06cc\u0627\u062f \u06af\u0631\u0641\u062a\u0645!",
        disqus_identifier="cache/posts/wp/syr-swdy-w-rwshhy-mkhtlfy-khh-bry-dn.html",
        disqus_config = function () {
            this.language = "fa";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script><noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
    <a href="//disqus.com" class="dsq-brlink" rel="nofollow">Comments powered by <span class="logo-disqus">Disqus</span></a>


      </section></article><script>var disqus_shortname="shahinism";(function(){var a=document.createElement("script");a.async=true;a.src="//"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script>
</div>
    </div>
    <!--End of body content-->
  </div>

  <footer id="footer" class="site-footer">
    Contents © 2017         <a href="mailto:me@5hah.in">شاهین</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         
    
  </footer><script src="../../../assets/js/all-nocdn.js"></script><script src="../../../assets/js/colorbox-i18n/jquery.colorbox-fa.js"></script><script>$('a.image-reference:not(.islink) img:not(.islink)').parent().colorbox({rel:"gal",maxWidth:"100%",maxHeight:"100%",scalePhotos:true});</script><!-- fancy dates --><script>
    moment.locale("fa");
    fancydates(0, "YYYY-MM-DD HH:mm");
  </script><!-- end fancy dates -->
</body>
</html>

<!DOCTYPE html>
<html prefix="
og: http://ogp.me/ns#
article: http://ogp.me/ns/article#
" lang="en">
<head>
<meta charset="utf-8">
<meta name="wot-verification" content="1e0ce5594a67af53269c">
<base href="https://5hah.in/posts/wp/dnlwd-tmm-khshy-simpledesktop-b-sh-kht-dr-bash/">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>دانلود تمام عکس‌های SimpleDesktop با سه خط در Bash! | شاهین</title>
<link href="../../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta content="#5670d4" name="theme-color">
<link rel="alternate" type="application/rss+xml" title="RSS" href="../../../rss.xml">
<link rel="canonical" href="https://5hah.in/posts/wp/dnlwd-tmm-khshy-simpledesktop-b-sh-kht-dr-bash/">
<!--[if lt IE 9]><script src="../../../assets/js/html5.js"></script><![endif]--><meta name="author" content="شاهین">
<link rel="prev" href="../trmyntwr-akhrlzmn-trmynlh/" title="ترمیناتور، آخر‌الزمان ترمینال‌ها" type="text/html">
<link rel="next" href="../wqy-ngry-shkhsy-szy-emacs-qsmt-wl/" title="وقایع نگاری شخصی سازی emacs قسمت اول" type="text/html">
<meta property="og:site_name" content="شاهین">
<meta property="og:title" content="دانلود تمام عکس‌های SimpleDesktop با سه خط در Bash!">
<meta property="og:url" content="https://5hah.in/posts/wp/dnlwd-tmm-khshy-simpledesktop-b-sh-kht-dr-bash/">
<meta property="og:description" content="http://simpledesktops.com/download/?desktop=301



همهٔ آدرس جز عدد ۳۰۱ در انتهایش ثابتند و آن عدد از ۱ یکی‌‌یکی زیاد می‌شود‌. هر کدام از این عکس‌ها پس از درخواست شدنشان به آدرس یکی از عکس‌های روی سرو">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2012-06-21T04:57:20+04:30">
</head>
<body>
  <a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

  <div class="navigator">
    
  </div>

  <nav class="navbar navbar-default"><div class="container-fluid">
      <!-- Brand and toggle get grouped for better mobile display -->
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../../../"><img src="../../../assets/images/logo.png"></a>
      </div>

      <!-- Collect the nav links, forms, and other content for toggling -->
      <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
        <ul class="nav navbar-nav">
<li>
<a href="../../../stories/about-me">درباره</a>
                </li>
<li>
<a href="../../../docs/resume.pdf">رزومه</a>
                </li>
<li>
<a href="../../../archive.html">آرشیو</a>
                </li>
<li>
<a href="../../../categories/">دسته‌ها</a>
                </li>
<li>
<a href="../../../rss.xml">خوراک</a>

                    
        </li>
</ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container-fluid -->
  </nav><div class="jumbotron">
    <section class="container"><div id="headerbox" class="col-md-6 col-md-offset-3 text-center">
        <h1>شاهین</h1>
        <hr class="hdrline">
<a class="social" href="https://github.com/shahinism">
          <img src="../../../assets/images/github.png"></a>
        <a class="social" href="https://twitter.com/shahinism">
          <img src="../../../assets/images/twitter.png"></a>
        <a class="social" href="https://ir.linkedin.com/in/shahinism">
          <img src="../../../assets/images/linkedin.png"></a>
      </div>
    </section>
</div>

  <div class="container" id="content" role="main">
    <!--Body content-->
    <div class="col-md-6 col-md-offset-3">
      <div class="row">
        
  <article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><div class="text-center">
          <h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">دانلود تمام عکس‌های SimpleDesktop با سه خط در Bash!</a></h1>

        شاهین
      <a href="." rel="bookmark"><time class="published dt-published" datetime="2012-06-21T04:57:20+04:30" itemprop="datePublished" title="2012-06-21 04:57">2012-06-21 04:57</time></a>
    </div>
    
  </header><div class="e-content entry-content" itemprop="articleBody text">
      <div>
<pre class="code literal-block"><span></span>http://simpledesktops.com/download/?desktop<span class="o">=</span>301
</pre>


<p>همهٔ آدرس جز عدد ۳۰۱ در انتهایش ثابتند و آن عدد از ۱ یکی‌‌یکی زیاد می‌شود‌. هر کدام از این عکس‌ها پس از درخواست شدنشان به آدرس یکی از عکس‌های روی سرور اشاره می‌کنند‌. خوب دیگر داستان از این هم ساده‌تر می‌شود؟ کافیست که اراده کنیم و با یک حلقهٔ for اعداد را تولید کنیم و جلوی آدرس ثابتمان بنویسیم‌. پس می‌شود این:</p>
<pre class="code literal-block"><span></span><span class="ch">#!/usr/bin/bash</span>



<span class="k">for</span> i in <span class="o">{</span>1..5000<span class="o">}</span>

<span class="k">do</span>

<span class="nb">echo</span> <span class="s2">"http://simpledesktops.com/download/?desktop=</span><span class="nv">$i</span><span class="s2">"</span>

<span class="k">done</span>
</pre>


<p>به بش گفتیم که هر بار یک عدد از یک تا پنج‌هزار (البته به ترتیب از کم به زیاد) تولید کن و در خروجی چاپ کن‌. یک بار اسکریپت را ران می‌کنیم و ... بعله خروجی دقیقا همان آدرس‌هایی که خواستیم می‌شود‌:</p>
<pre class="code literal-block"><span></span>...

http://simpledesktops.com/download/?desktop<span class="o">=</span>4995

http://simpledesktops.com/download/?desktop<span class="o">=</span>4996

http://simpledesktops.com/download/?desktop<span class="o">=</span>4997

http://simpledesktops.com/download/?desktop<span class="o">=</span>4998

http://simpledesktops.com/download/?desktop<span class="o">=</span>4999

http://simpledesktops.com/download/?desktop<span class="o">=</span>5000
</pre>


<p>حالا کافیست در اسکریپت به جای echo که هر چه جلویش باشد را در خروجی استاندارد چاپ می‌کند یک wget بنویسیم تا آدرس‌های جلویش را دانلود کند‌. اما نه‌! در اولین اقدام تیرمان خطا رفت‌! در سرور‌های Apache یک فایلی هست به اسم ‎.htaccess و همان‌طور که از نامش معلوم است کارش این است که کنترل کند چه کسی به کجا دسترسی دارد‌. هر نرم‌افزاری هم که به یکی از این سرور‌ها درخواست بدهد موظف است اول خودش را معرفی کند‌. خوب wget که از نامش فساد می‌بارد عموما از طرف چنین سایت‌هایی مسدود می‌شود‌.</p>
<p>این است که باید به wget بگوییم نقابش را به صورت بزند و دوباره اقدام کند‌. اینبار اسکریپتمان این شکلی می‌شود‌:</p>
<pre class="code literal-block"><span></span><span class="ch">#!/usr/bin/bash</span>



<span class="k">for</span> i in <span class="o">{</span>100..5000<span class="o">}</span>

<span class="k">do</span>

wget -U <span class="s2">"Mozilla/5.0 (Windows NT 5.1; rv:10.0.2) Gecko/20100101 Firefox/10.0.2"</span> <span class="s2">"http://simpledesktops.com/download/?desktop=</span><span class="nv">$i</span><span class="s2">"</span>

<span class="k">done</span>
</pre>


<p>و بعله‌! ران می‌کنیم و خیلی خوشکل اقدام به دانلود عکس‌ها می‌کنیم ;-)</p>
<p><strong>پی‌نوشت:</strong> در حین جستجو برای نوشتن این اسکریپت کشف کردم که قبلا اسکریپت‌هایی با Python یا PHP هم برای شیره‌کشی از این سایت نوشته شده‌. ولی این اسکریپت از همه‌شان کوتاه‌تر بود و خوب سادگی زیبـــــاست ;-)</p>
<p><strong>پی‌نوشت ۲</strong>: دیگر خودتان حواستان باشد که ‎#!‎/‎usr/bin/bash آدرس bash سیستم من است و می‌توانید با یک whereis bash پیدا کنید که مال شما کجاست‌!</p>
<p><span style="color: #ff0000;"><strong>پی‌نوشت ۳:</strong> ممکنه بعد از دانلود متوجه بشین که فایل‌های دانلودی با یه همچین اسمایی ذخیره می‌شن index.html?desktop=100 اتفاقی که برای من روی سرور آرچ افتاد‌. عجیب بود که اسم فایل درست رو می‌دید ولی خودش از رو این Querystring ساخته شده اسم رو می‌نوشت‌. پس از جستجو کشف کردم که باید آپشن زیر هم به wget اضافه بشه:</span></p>
<p>```bash</p>
<p>--content-disposition</p>
<p>```</p>
</div>
    </div>
    <aside class="share"><!-- Sharingbutton Facebook --><a class="resp-sharing-button__link" href="https://facebook.com/sharer/sharer.php?u=https://5hah.in/posts/wp/dnlwd-tmm-khshy-simpledesktop-b-sh-kht-dr-bash/" target="_blank" aria-label="">
        <div class="resp-sharing-button resp-sharing-button--facebook resp-sharing-button--small">
<div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
            <svg version="1.1" x="0px" y="0px" width="24px" height="24px" viewbox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve"><g><path d="M18.768,7.465H14.5V5.56c0-0.896,0.594-1.105,1.012-1.105s2.988,0,2.988,0V0.513L14.171,0.5C10.244,0.5,9.5,3.438,9.5,5.32 v2.145h-3v4h3c0,5.212,0,12,0,12h5c0,0,0-6.85,0-12h3.851L18.768,7.465z"></path></g></svg>
</div>
        </div>
      </a>

      <!-- Sharingbutton Twitter -->
      <a class="resp-sharing-button__link" href="https://twitter.com/intent/tweet/?text=%D8%AF%D8%A7%D9%86%D9%84%D9%88%D8%AF%20%D8%AA%D9%85%D8%A7%D9%85%20%D8%B9%DA%A9%D8%B3%E2%80%8C%D9%87%D8%A7%DB%8C%20SimpleDesktop%20%D8%A8%D8%A7%20%D8%B3%D9%87%20%D8%AE%D8%B7%20%D8%AF%D8%B1%20Bash!%20from%20@shahinism&amp;url=https://5hah.in/posts/wp/dnlwd-tmm-khshy-simpledesktop-b-sh-kht-dr-bash/" target="_blank" aria-label="">
        <div class="resp-sharing-button resp-sharing-button--twitter resp-sharing-button--small">
<div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
            <svg version="1.1" x="0px" y="0px" width="24px" height="24px" viewbox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve"><g><path d="M23.444,4.834c-0.814,0.363-1.5,0.375-2.228,0.016c0.938-0.562,0.981-0.957,1.32-2.019c-0.878,0.521-1.851,0.9-2.886,1.104 C18.823,3.053,17.642,2.5,16.335,2.5c-2.51,0-4.544,2.036-4.544,4.544c0,0.356,0.04,0.703,0.117,1.036 C8.132,7.891,4.783,6.082,2.542,3.332C2.151,4.003,1.927,4.784,1.927,5.617c0,1.577,0.803,2.967,2.021,3.782 C3.203,9.375,2.503,9.171,1.891,8.831C1.89,8.85,1.89,8.868,1.89,8.888c0,2.202,1.566,4.038,3.646,4.456 c-0.666,0.181-1.368,0.209-2.053,0.079c0.579,1.804,2.257,3.118,4.245,3.155C5.783,18.102,3.372,18.737,1,18.459 C3.012,19.748,5.399,20.5,7.966,20.5c8.358,0,12.928-6.924,12.928-12.929c0-0.198-0.003-0.393-0.012-0.588 C21.769,6.343,22.835,5.746,23.444,4.834z"></path></g></svg>
</div>
        </div>
      </a>

      <!-- Sharingbutton Google+ -->
      <a class="resp-sharing-button__link" href="https://plus.google.com/share?url=https://5hah.in/posts/wp/dnlwd-tmm-khshy-simpledesktop-b-sh-kht-dr-bash/" target="_blank" aria-label="">
        <div class="resp-sharing-button resp-sharing-button--google resp-sharing-button--small">
<div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
            <svg version="1.1" x="0px" y="0px" width="24px" height="24px" viewbox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve"><g><path d="M11.366,12.928c-0.729-0.516-1.393-1.273-1.404-1.505c0-0.425,0.038-0.627,0.988-1.368 c1.229-0.962,1.906-2.228,1.906-3.564c0-1.212-0.37-2.289-1.001-3.044h0.488c0.102,0,0.2-0.033,0.282-0.091l1.364-0.989 c0.169-0.121,0.24-0.338,0.176-0.536C14.102,1.635,13.918,1.5,13.709,1.5H7.608c-0.667,0-1.345,0.118-2.011,0.347 c-2.225,0.766-3.778,2.66-3.778,4.605c0,2.755,2.134,4.845,4.987,4.91c-0.056,0.22-0.084,0.434-0.084,0.645 c0,0.425,0.108,0.827,0.33,1.216c-0.026,0-0.051,0-0.079,0c-2.72,0-5.175,1.334-6.107,3.32C0.623,17.06,0.5,17.582,0.5,18.098 c0,0.501,0.129,0.984,0.382,1.438c0.585,1.046,1.843,1.861,3.544,2.289c0.877,0.223,1.82,0.335,2.8,0.335 c0.88,0,1.718-0.114,2.494-0.338c2.419-0.702,3.981-2.482,3.981-4.538C13.701,15.312,13.068,14.132,11.366,12.928z M3.66,17.443 c0-1.435,1.823-2.693,3.899-2.693h0.057c0.451,0.005,0.892,0.072,1.309,0.2c0.142,0.098,0.28,0.192,0.412,0.282 c0.962,0.656,1.597,1.088,1.774,1.783c0.041,0.175,0.063,0.35,0.063,0.519c0,1.787-1.333,2.693-3.961,2.693 C5.221,20.225,3.66,19.002,3.66,17.443z M5.551,3.89c0.324-0.371,0.75-0.566,1.227-0.566l0.055,0 c1.349,0.041,2.639,1.543,2.876,3.349c0.133,1.013-0.092,1.964-0.601,2.544C8.782,9.589,8.363,9.783,7.866,9.783H7.865H7.844 c-1.321-0.04-2.639-1.6-2.875-3.405C4.836,5.37,5.049,4.462,5.551,3.89z"></path><polygon points="23.5,9.5 20.5,9.5 20.5,6.5 18.5,6.5 18.5,9.5 15.5,9.5 15.5,11.5 18.5,11.5 18.5,14.5 20.5,14.5 20.5,11.5  23.5,11.5 	"></polygon></g></svg>
</div>
        </div>
      </a>

    </aside><!-- aside.share --><aside class="postpromonav"><nav><div class="bg-info">
          
        </div>
                <ul class="pager hidden-print">
<li class="previous">
                <a href="../trmyntwr-akhrlzmn-trmynlh/" rel="prev" title="ترمیناتور، آخر‌الزمان ترمینال‌ها">Previous post</a>
            </li>
            <li class="next">
                <a href="../wqy-ngry-shkhsy-szy-emacs-qsmt-wl/" rel="next" title="وقایع نگاری شخصی سازی emacs قسمت اول">Next post</a>
            </li>
        </ul></nav></aside><section class="comments hidden-print"><h2>Comments</h2>
                        <div id="disqus_thread"></div>
        <script>
        var disqus_shortname ="shahinism",
            disqus_url="https://5hah.in/posts/wp/dnlwd-tmm-khshy-simpledesktop-b-sh-kht-dr-bash/",
        disqus_title="\u062f\u0627\u0646\u0644\u0648\u062f \u062a\u0645\u0627\u0645 \u0639\u06a9\u0633\u200c\u0647\u0627\u06cc SimpleDesktop \u0628\u0627 \u0633\u0647 \u062e\u0637 \u062f\u0631 Bash!",
        disqus_identifier="cache/posts/wp/dnlwd-tmm-khshy-simpledesktop-b-sh-kht-dr-bash.html",
        disqus_config = function () {
            this.language = "en";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script><noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
    <a href="//disqus.com" class="dsq-brlink" rel="nofollow">Comments powered by <span class="logo-disqus">Disqus</span></a>


      </section></article><script>var disqus_shortname="shahinism";(function(){var a=document.createElement("script");a.async=true;a.src="//"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script>
</div>
    </div>
    <!--End of body content-->
  </div>

  <footer id="footer" class="site-footer">
    Contents © 2016         <a href="mailto:me@5hah.in">شاهین</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         
    
  </footer><script src="../../../assets/js/all-nocdn.js"></script><script>$('a.image-reference:not(.islink) img:not(.islink)').parent().colorbox({rel:"gal",maxWidth:"100%",maxHeight:"100%",scalePhotos:true});</script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
  </script><!-- end fancy dates -->
</body>
</html>

<!DOCTYPE html>
<html prefix="
og: http://ogp.me/ns#
article: http://ogp.me/ns/article#
" dir="rtl" lang="fa">
<head>
<meta charset="utf-8">
<base href="http://5hah.in/posts/new/blog13910107yddshty-dr-mwrd-hibernate-w-suspend-dr-lynwkhswp.html">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>یادداشتی در مورد hibernate و suspend در لینوکس .. date: | شاهین</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta content="#5670d4" name="theme-color">
<link rel="alternate" type="application/rss+xml" title="RSS" href="../../rss.xml">
<link rel="canonical" href="http://5hah.in/posts/new/blog13910107yddshty-dr-mwrd-hibernate-w-suspend-dr-lynwkhswp.html">
<link rel="icon" href="favicon.ico" sizes="32x32">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="شاهین آزاد">
<link rel="prev" href="blog13910106nsb-awesome-wm-rwy-slkhwrwp.html" title="نصب Awesome WM روی اسلکور .. date: 2012/3/25 22:12:34" type="text/html">
<link rel="next" href="blog13910108yddshty-dr-mwrd-conky-w-dshtn-khrwjy-frsy-rwp.html" title="یادداشتی در مورد conky و داشتن خروجی فارسی روی آن .. date:" type="text/html">
<meta property="og:site_name" content="شاهین">
<meta property="og:title" content="یادداشتی در مورد hibernate و suspend در لینوکس .. date:">
<meta property="og:url" content="http://5hah.in/posts/new/blog13910107yddshty-dr-mwrd-hibernate-w-suspend-dr-lynwkhswp.html">
<meta property="og:description" content="کلا چون به دلیل سخت‌افزار قدیمی‌ام تا همین یکی دو سال پیش (شاید هم سه
چهار سال پیش ;-)) از Windows XP استفاده می‌کردم (‌لینوکس هم کلا
نمی‌دانستم چیست D:) تنها مدل‌هایی که از کنترل وضعیت سیستم می‌شناخت">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2015-11-01T00:00:00+03:30">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">متن اصلی را نادیده بگیر</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="http://5hah.in/">

                <span id="blog-title">شاهین</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../../">Home</a>
                </li>
<li>
<a href="../../stories/about-me.html">About</a>
                </li>
<li>
<a href="../../">Resume</a>
                </li>
<li>
<a href="../../archive.html">Archives</a>
                </li>
<li>
<a href="../../categories/index.html">Tags</a>
                </li>
<li>
<a href="../../rss.xml">RSS</a>

                
            </li>
</ul>
<!-- Custom search --><form method="get" id="search" action="http://duckduckgo.com/" class="navbar-form pull-left">
<input type="hidden" name="sites" value="http://5hah.in/"><input type="hidden" name="k8" value="#444444"><input type="hidden" name="k9" value="#D51920"><input type="hidden" name="kt" value="h"><input type="text" placeholder="جستجو…" maxlength="255" name="q"><input id="searchsubmit" type="submit" value="DDG Search">
</form>
<!-- End of custom search -->


            <ul class="nav navbar-nav navbar-right">
<li>
    <a href="blog13910107yddshty-dr-mwrd-hibernate-w-suspend-dr-lynwkhswp.rst" id="sourcelink">منبع</a>
    </li>
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="#" class="u-url">یادداشتی در مورد hibernate و suspend در لینوکس .. date:</a></h1>

        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">
                    شاهین آزاد
            </span></p>
            <p class="dateline"><a href="#" rel="bookmark"><time class="published dt-published" datetime="2015-11-01T00:00:00+03:30" itemprop="datePublished" title="2015-11-01 00:00">2015-11-01 00:00</time></a></p>
                <p class="commentline">            <a href="blog13910107yddshty-dr-mwrd-hibernate-w-suspend-dr-lynwkhswp.html#disqus_thread" data-disqus-identifier="cache/posts/new/blog13910107yddshty-dr-mwrd-hibernate-w-suspend-dr-lynwkhs.wp.html">Comments</a>


                    </p>
<p class="sourceline"><a href="blog13910107yddshty-dr-mwrd-hibernate-w-suspend-dr-lynwkhswp.rst" id="sourcelink">منبع</a></p>

        </div>
        
    </header><div class="e-content entry-content" itemprop="articleBody text">
    <div>
<p></p>
<p>کلا چون به دلیل سخت‌افزار قدیمی‌ام تا همین یکی دو سال پیش (شاید هم سه
چهار سال پیش ;-)) از Windows XP استفاده می‌کردم (‌لینوکس هم کلا
نمی‌دانستم چیست D:) تنها مدل‌هایی که از کنترل وضعیت سیستم می‌شناختم‌،
Shutdown و reboot بود‌. بعد از مهاجرت به لینوکس هم اگر قرار بود به صورت
دستی سیستم را خاموش کنم فقط همان halt و shutdown را می‌شناختم‌. اما
این‌ها همیشه کافی نبودند‌. بعضی وقت‌ها ممکن است فقط برای یک ربع یا نیم
ساعت از سیستم دور باشیم‌. انتظار بوت برای یک همچین مدتی کوتاهی‌، واقعا
طاقت فرساست‌. مخصوصا که تمامی اطلاعات نشست حاضر از بین می‌رود‌. متاسفانه
وقتی هم که با حالت Suspend (sleep)‎ در KDE سیستم را خاموش می‌کردم‌،
(ذخیره اطلاعات در رم‌) امکان بازگشتن سیستم به وضعیت قبلی ۵۰-۵۰ بود‌!
گاها تنها با یک صفحه‌ی سیاه روبرو می‌شدم که خوب یعنی سیستم باید reboot
شود‌.</p>
<p>این مقدمه را گفتم که بگویم‌، پس از مهاجرتم به مدیرپنجره‌ی Awesome به
دنبال همین روش‌ها برای معرفی در پوسته‌اش بودم تا کارم را راحت کنم‌، و
این مقدمه‌ی آشناییم با pm-utils بود‌. فریم‌ورکی که برای مدیریت وضعیت
سیستم طراحی شده‌. و خوشبختانه به دلیل بسیار سبک بودن Awesome (‌البته حدس
می‌زنم همین دلیل باشد‌) سیستم را به خوبی Suspend کرده و می‌توان به راحتی
به نشست قبلی بازگشت‌.</p>
<p>با کاربر Root می‌توان با یکی از دو دستور زیر به این امکان دست یافت‌:</p>
<pre class="code bash"><a name="rest_code_02cf69958c424ee6bf695ba6d8f9a794-1"></a>/usr/sbin/pm-hibernate
<a name="rest_code_02cf69958c424ee6bf695ba6d8f9a794-2"></a>
<a name="rest_code_02cf69958c424ee6bf695ba6d8f9a794-3"></a>/usr/sbin/pm-suspend
</pre>
<p>اولی که برای خاموش کردن سیستم است‌. و دومی سیستم را در رم خاموش می‌کند و
به سیستم این قابلیت را می‌دهد که در هنگام روشن شدن به وضعیت قبلی‌اش
بازگردد (‌توجه داشته باشید که خاموش شدن در این وضعیت به دلیل وابستگی به
Ram نیازمند ولتاژ اندکی از برق است تا اطلاعات پاک نشود، در صورت قطع برق
سیستم‌، سیستم دوباره بوت می‌شود‌).</p>
<p>از آن‌جایی که این ابزار برای کار کردن نیاز به بعضی از دسترسی‌های ریشه
دارد‌، پس با یک کاربر عادی نمی‌توان آن‌ها را اجرا کرد و به sudo نیاز
است‌. از آن‌جایی هم که روی خوشی ندارد که هر بار برای خاموش کردن سیستم
خودمان یک رمز وارد کنیم‌، می‌توان‌، دو خط زیر را به فایل sudoers (‌با
استفاده از visudo) و بعد از خطوطی که دسترسی sudo را به کاربران اعلام
کرده‌ایم اضافه کرد تا بدون پسوورد اجازه‌ی استفاده از این دستور را داشته
باشیم‌:</p>
<pre class="code bash"><a name="rest_code_b9fb5cda2b7e4c15aaedeff7a7b538bb-1"></a>username <span class="nv">ALL</span><span class="o">=</span> NOPASSWD: /usr/sbin/pm-hibernate
<a name="rest_code_b9fb5cda2b7e4c15aaedeff7a7b538bb-2"></a>
<a name="rest_code_b9fb5cda2b7e4c15aaedeff7a7b538bb-3"></a>username <span class="nv">ALL</span><span class="o">=</span> NOPASSWD: /usr/sbin/pm-suspend
</pre>
<p>همچنین اگر دیگر خیلی مثل من تنبلید می‌توانید یک Alias تعریف کنید تا هر
وقت تایپ کردید pm-hibernate خودش دستور sudo /usr/sbin/pm-hibernate را
وارد کرده و سیستم را خاموش کند ;-)</p>
<p style="text-align: center;"></p>
<p>ویکی آرچ اطلاعات ارزشمندی در این زمینه دارد که می‌تواند کمک کننده باشد.</p>
</div>
    </div>
    <aside class="postpromonav"><nav><ul class="pager hidden-print">
<li class="previous">
                <a href="blog13910106nsb-awesome-wm-rwy-slkhwrwp.html" rel="prev" title="نصب Awesome WM روی اسلکور .. date: 2012/3/25 22:12:34">ارسال پیشین</a>
            </li>
            <li class="next">
                <a href="blog13910108yddshty-dr-mwrd-conky-w-dshtn-khrwjy-frsy-rwp.html" rel="next" title="یادداشتی در مورد conky و داشتن خروجی فارسی روی آن .. date:">ارسال بعدی</a>
            </li>
        </ul></nav></aside><section class="comments hidden-print"><h2>دیدگاه‌‌‌ها</h2>
                        <div id="disqus_thread"></div>
        <script>
        var disqus_shortname ="shahinism",
            disqus_url="http://5hah.in/posts/new/blog13910107yddshty-dr-mwrd-hibernate-w-suspend-dr-lynwkhswp.html",
        disqus_title="\u06cc\u0627\u062f\u062f\u0627\u0634\u062a\u06cc \u062f\u0631 \u0645\u0648\u0631\u062f hibernate \u0648 suspend \u062f\u0631 \u0644\u06cc\u0646\u0648\u06a9\u0633 .. date:",
        disqus_identifier="cache/posts/new/blog13910107yddshty-dr-mwrd-hibernate-w-suspend-dr-lynwkhs.wp.html",
        disqus_config = function () {
            this.language = "fa";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script><noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
    <a href="//disqus.com" class="dsq-brlink" rel="nofollow">Comments powered by <span class="logo-disqus">Disqus</span></a>


        </section></article><script>var disqus_shortname="shahinism";(function(){var a=document.createElement("script");a.async=true;a.src="//"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2015         <a href="mailto:me@5hah.in">شاهین آزاد</a> - Powered by         <a href="http://getnikola.com" rel="nofollow">Nikola</a>         
            
        </footer>
</div>
</div>

            <script src="../../assets/js/all-nocdn.js"></script><script src="../../assets/js/colorbox-i18n/jquery.colorbox-fa.js"></script><script>$('a.image-reference:not(.islink) img:not(.islink)').parent().colorbox({rel:"gal",maxWidth:"100%",maxHeight:"100%",scalePhotos:true});</script><!-- fancy dates --><script>
    moment.locale("fa");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates -->
</body>
</html>

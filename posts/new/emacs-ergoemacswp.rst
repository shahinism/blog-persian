.. title: این ایمکس دوست داشتنی (ergoemacs-mode) .. date: 2013/4/8
14:24:21

.. raw:: html

   <html>

.. raw:: html

   <body>

.. raw:: html

   <p>

قبلا هم گفتم‌، ایمکس در حالت عادی‌، قابل قبول است‌، ولی خیلی خیلی
می‌تواند بهتر باشد. یکی از اولین عادت‌ها بعد از مهاجرت به ایمکس‌،
کلید‌های میانبر پر استفاده‌اش است. در پست قبلی در موزد کلید‌های میانبر
ایمکس حرف زدیم. اما بدیهی است که تعریف کلید میانبر برای دستوراتی این
چنین پر استفاده که هم با دیگر کلید‌های میانبر تعریف شده در محیط‌های
مختلف تداخل نداشته باشد و هم یاد آوری‌شان آسان باشد‌، کار آسانی نیست.
خصوصا این که ایمکس پیشنهاد می‌کند کلید میانبر‌تان با C-c شروع شود و با
یک کاراکتر تکی ادامه یابد. تعارف که نداریم‌، خیلی محدود است. ضمن این که
ما کلید‌های آن‌چنان پر استفادهٔ زیادی نداریم که بخواهیم به همچین
آکورد‌های سنگینی محدود شویم. کلید‌های پر استفادهٔ عمومی شامل انتقال
نشانگر‌، Yanking، پاک کردن کاراکتر‌ها‌، مدیریت پنجره‌ها و جستجو‌هاست.
این‌ها دستوراتی هستند که در اکثر ویرایش‌ها به آن‌ها نیاز داریم. ضمن این
که بسیاری از این دستورات در برنامه‌های دیگر هم شامل کلید‌های میانبری
هستند که تقریبا به صورت یک استاندارد در آمده‌اند. نمونه‌ای از این
دستورات‌، کپی و پیست است. شما در اکثر محیط‌ها‌، از جمله مرورگر‌تان‌، با
C-c کپی می‌کنید و با C-v پیست. حالا باید در ایمکس آن را با C-w و C-y
جایگزین کنید. خوب یک کمی ترک عادت نیاز دارد‌، ولی تلاش سختی است. البته
ایمکس خودش یک CUA-mode دارد که می‌توان به راحتی اضافه کردن(cua-mode 1)
در ‎.emacs آن را فعال کنید. ولی در مورد باز کردن یک فایل جدید چطور؟ در
اکثر برنامه‌ها این کار با C-o امکان‌پذیر است‌، در حالی که در ایمکس باید
این کار را با C-x C-f انجام دهید! سخت است دیگر!

سخت‌تر از همه این که به QWERTY وابسته‌اند. آن وقت است که اگر به Workman
یا Colemak سوئیچ کنید‌، انگار به کیبورد‌تان دینامیت بسته‌اید! از آن
بد‌تر این که با کاراکتر‌های فارسی کار نمی‌کنند.

این مقدمه را گفتم که بگویم‌، عده‌ای جمع شده‌اند و مدی ساخته‌اند به اسم
ergoemacs-mode که هدفش حل مشکلات ذکر شده در مقدمهٔ بالاست. نتیجه‌، از
عکس زیر معلوم است:

 

 ergoemacs-mode رو چینش workman

این عکس طبق چینش Workman تولید شده‌،‌ ولی جای دکمه‌ها در لایوت‌های
دیگر‌، از جمله QWERTY و Colemak هم یک‌سان است. از نکات مهم مد نظر قرار
داده شده در هنگام طراحی این Key binding‌ها می‌توان به موارد زیر اشاره
کرد:

.. raw:: html

   </p>

.. raw:: html

   <ul>

.. raw:: html

   <li>

  کلید‌های Home row بهترین‌ها هستند.

.. raw:: html

   </li>

::

    <li>Alt خیلی بهتر از Ctrl است. Alt را باید با شصت گرفت که زورش خیلی بیشتر از انگشت کوچیکهٔ مخصوص Ctrl است!</li>
    <li>به جای سرحرف اول دستورات‌، بهتر است به مکان دستورات هم خوانواده توجه شود. مثلا به مکان کلید‌های جاب‌جایی نگاه کنید. همین‌طور کلید‌های پاک کردن را ببینید!</li>
    <li>و چند‌تای دیگر که آن‌قدرها هم مهم نیستند.</li>

.. raw:: html

   </ul>

نکته این‌جاست که نتیجهٔ کار خیلی عالی شده. آن‌قدر عالی که طی رد و بدل
چند ایمیل‌ در لیست ایمیل پروژه‌، زبان فارسی را هم به این مجموعهٔ کامل
اضافه کردیم که نتیجه‌اش را در زیر می‌بینید:

 ergoemacs-mode روی چینتش استاندارد فارسی

کیبورد استاندارد فارسی است که به صورت پیش‌فرض در لینوکس وجود دارد‌، ولی
ویندوزی‌ها باید برنامهٔ متناسبش را پیدا و نصب کنند تا پشتیبانی شود D:

.. raw:: html

   <h4>

نصب

.. raw:: html

   </h4>

طبق آن‌چه که در گذشته گفتم‌، ergoemacs-mode را از مدیر‌بسته‌های ایمکس
نصب کنید و سپس تنظیمات زیر را به فایل ‎.emacs‌‌تان اضافه کنید:

.. code:: cl

    (setenv "ERGOEMACS_KEYBOARD_LAYOUT" "workman")

    (require 'ergoemacs-mode)

    (ergoemacs-mode 1)

در خط اول‌، اسم لایوت پیش‌فرض را اضافه می‌کنیم‌، و در خط‌های بعد
ergoemacs-mode را فراخوانی و فعال می‌کنیم. بعد از یک Restart‌، با
کلید‌های جدید روبرو می‌شوید D:

.. raw:: html

   <h4>

گرفتن کمک

.. raw:: html

   </h4>

خوب یک تغییر عادت است و احتمالا اول کار خیلی پیش می‌آید که دستورات
قبلی‌تان را بزنید و نتیجه نگیرید! برای پیدا کردن کلید‌های جدید‌، کافیست
C-h o را وارد کرده و سپس کلید قبلی‌تان را وارد کنید. این تابع بعد از
بررسی کلید‌های قدیمی‌، هم‌تایان جدید‌شان را معرفی می‌کند.

.. raw:: html

   <h4>

دیگر سطوح

.. raw:: html

   </h4>

یکی از ویژگی‌های ergoemacs-mode‌، قابلیت تعیین سطحش است. سطوح مختلفی که
با توجه به سلیقه‌های مختلف کاربران طراحی شده است. مثلا سطح guru کلید‌های
فلش را برای تغییر موقعیت نشانگر می‌بندد و بعد از هر بار زدنشان‌،
کلید‌های متناسب با سلیقهٔ ایمکس را نشان‌تان می‌دهد. و یا سطح master (فکر
کنم) کلید backspace را خاموش می‌کند تا مجبور شوید از روش‌های پاک کردن
کاراکتر ایمکس بهره بگیرید که سریع‌تر است. برای تنظیم این ویژگی‌ها کافیست
سطح مورد نظر را انتخاب کنید (بعد از نصب ergoemacs از منو انتخابش کنید و
ergoemacs variants را ببینید) و در دستور(setq ergoemacs-variant "SATH")
آن را در جای SATH قرار دهید.

.. raw:: html

   <h4>

ergoemacs-extras

.. raw:: html

   </h4>

با فراخوانی این تابع در ایمکس‌، ergoemacs اقدام به ایجاد فایل‌های
راهنمای کیبورد ergo در سطوح مختلف به فرمت svg می‌کند که می‌تواند خیلی
کمک کننده باشد (عکس‌های موجود در این نوشته هم با همین روش ایجاد
شده‌اند.). همین‌طور فایل‌هایی برای تطابق این کلید‌ها با محیط‌های دیگر از
جمله bash ایجاد می‌شود که می‌توانند در ایجاد یک‌پارچگی برای محیط کار
عالی باشند. (هنوز امتحانش نکرده‌ام ولی نتیجه‌اش را به زودی اطلاع
می‌دهم.)

این فایل‌ها در مسیر ‎~‎‍/.emacs/ergoemacs-extras در دسترسند که با توجه
به سطوح مختلف پوشه‌بندی شده‌اند.

.. raw:: html

   <h4>

نتیجه

.. raw:: html

   </h4>

به نظر من نتیجهٔ کار فوق‌العاده قابل قبول است. راحتی استفاده از کلید‌های
پر کاربرد و راحت‌تر از آن معکوس کردن اکثر دستورات با Shift فوق‌العاده
کمک می‌کند. به طور پیش‌فرض برای خیلی کار‌ها مجبوریم در ایمکس از ارسال
آرگومان به دستورات برای تغییر حالت‌شان استفاده کنیم که در Ergoemacs این
کار عموما با Shift انجام می‌گیرد. مثلا C-f جستجوی رو به جلو انجام می‌دهد
و C-S-f جستجوی رو به عقب!

از طرفی کلید‌های C-a که در تمام محیط‌های دیگر برای انتخاب کل محتویات
صفحه است و یا کلید‌های C-z, C-x, C-c, C-v, C-f, C-o, C-s, C-s-s , و خیلی
کلید‌های دیگر که در محیط‌های دیگر از آن‌ها بهره می‌گیریم‌، به راحتی در
این‌جا نیز جواب می‌دهند و کار ویرایش را فوق‌العاده راحت‌تر کرده‌اند. حتی
با Ergoemacs دستور جدیدی اضافه شده که می‌توان با C-n یک صفحهٔ جدید
ساخت‌، بدون این که نیاز به افزودن نامی به آن داشته باشیم.

یک قابلیت جالب دیگر‌، استفاده از کلید‌های yanking‌ (کپی پیست در ایمکس)
بدون Region (متن انتخاب شده) است. در این صورت‌، دستورات کل خط یا صفحه را
تحت تاثیر قرار می‌دهند.

در آینده بیشتر هم در مورد ergoemacs حرف می‌زنیم.

.. raw:: html

   </body>

.. raw:: html

   </html>

<!DOCTYPE html><html lang="fa"><head><meta charset="utf-8"><meta name="description" content=""><meta name="author" content="شاهین آزاد"><title>این ایمکس دوست داشتنی (تعریف کلید میانبر) | شاهینیسم</title><link href="../assets/css/rst.css" rel="stylesheet" type="text/css"><link href="../assets/css/code.css" rel="stylesheet" type="text/css"><link href="../assets/css/colorbox.css" rel="stylesheet" type="text/css"><link href="../assets/css/theme.css" rel="stylesheet" type="text/css"><link href="../assets/css/custom.css" rel="stylesheet" type="text/css"><!--[if lt IE 9]>
<script src="http://html5shim.googlecode.com/svn/trunk/html5.js" type="text/javascript"></script>
<![endif]--><link rel="alternate" type="application/rss+xml" title="RSS fa" href="../rss.xml"></head><body class="home blog">
    
    <script type="text/javascript">var addthis_config={"ui_language":"${lang}"};</script><div id="siteWrapper">
      <h1 id="vcard author">
        <a href="../" title="شاهینیسم">شاهینیسم</a>
        <a href="http://internetdefenseleague.org"><img src="http://internetdefenseleague.org/images/badges/final/footer_badge.png" alt="Member of The Internet Defense League" style="float: left; position: absolute; margin: 0px 90px;"></a>
      </h1>

      <div id="mainNav">
        <ul><li><a href="../stories/drbrh-mn-2.html">About</a>



  </li><li><a href="../archive.html">Archives</a>



  </li><li><a href="../categories/index.html">Tags</a>



  </li><li><a href="http://feeds.feedburner.com/Shahinism">RSS</a>


</li>
        </ul></div>
      <div id="siteDescription">
        
        
        
      </div>
      <div id="coreContent" class="hfeed">
        
<div id="coreContent">
  <div class="post single hentry">
    <div class="postContent">
      <h3 class="entry-title">
<h1>این ایمکس دوست داشتنی (تعریف کلید میانبر)</h1>

</h3>
      <div class="entry-content">
        <p></p><p>یکی از حیاتی‌ترین چیز‌هایی که در ایمکس لازم است بدانیم‌، چگونگی تعریف کلید میانبر برای توابع مختلف است. همان‌طور که احتمالا تا این‌جای قضیه متوجه شده‌اید‌، همهٔ کار‌هایی که در ایمکس انجام می‌دهیم‌، توابعی است که چه همراه خود ایمکس وجود دارند و چه با استفاده از بسته‌هایی که نصب می‌کنیم به آن اضافه می‌شوند. این توابع را می‌توان به صورت M-x FUNCTION_NAME RET  صدا کرد. اما در هنگام کار در ایمکس‌، سخت است که برای هر دستوری‌، مثل رفتن به خط بعد/قبل بیاییم و به این روش عمل کنیم. این است که برای هر تابع پر استفاده‌ای که داریم‌، یک کلید میانبر تعریف می‌کنیم.
لازم به ذکر است که برای اثبات بحث بالا‌، می‌توانید از تابع describe-key  همراه ایمکس استفاده کنید. کار این تابع این است که به شما بگوید که کلید میانبر مد نظر‌تان‌، چه تابعی را صدا می‌کند. برای نمونه‌، این دستور را وارد کنید M-x describe-key RET C-x C-f . همان‌طور که می‌بینید تابع مربوطه در یک پنجرهٔ جدید به نمایش در می‌آید. حالا برویم سر بحث تعریف کلید میانبر:</p>
<p></p><h5>کلید میانبر سراسری</h5>
<p>منظور از کلید میانبر سراسری‌، کلید‌هایی است که در همهٔ Major-mode‌ها (مد‌های اصلی) به راحتی عمل می‌کنند. برای نمونه C-n  یک کلید میانبر سراسری است. در تمامی مد‌ها اعم از ویرایش متن معمولی و یا کد برنامهٔ C‌، این کلید میانبر‌، نشانگر را به خط بعد منتقل می‌کند. برای تعریف چنین کلید میانبری می‌توانیم از یکی از دو روش زیر بهره ببریم:</p>
<div class="code"><pre><span class="p">(</span><span class="nv">global-set-key</span> <span class="s">"KEY"</span> <span class="ss">'FUNCTION_NAME</span><span class="p">)</span>

<span class="p">(</span><span class="nv">define-key</span> <span class="nv">global-map</span> <span class="s">"KEY"</span> <span class="ss">'FUNCTION_NAME</span><span class="p">)</span>
</pre></div>


<p>برای کسب اطلاعات بیشتر در مورد هر کدام از این توابع می‌توانید از تابع describe-function  همراه ایمکس کمک بگیرید. برای مثال M-x describe-function RET global-set-key RET . یا از کلید میانبرش استفاده کنید C-h f . همین‌طور اگر نشان‌گرتان روی یک تابع ایمکس باشد‌، خود تابع می‌تواند آن را حدس بزند.</p>
<p>تابع اول که تقریبا سر راست است. global-set-key  همان‌طور که از نامش پیداست‌، یک کلید سراسری به اسم KEY که می‌تواند ترکیبی به صورت<span class="lang:default decode:true  crayon-inline">"‎\C-c f" باشد‌، برای تابع FUNCTION_NAME تعریف می‌کند. همان‌طور که احتمالا متوجه شده‌اید‌، من برای نشان‌دادن Ctrl  در کلید میانبرم از ‎‎\C  استفاده کردم. همین‌طور برای Alt  باید از ‎\M  استفاده کنم. تعریف کلید به این صورت شاید کمی خسته کننده و نا خوانا به نظر بیاید. برای راحتی بیشتر می‌توان از تابع kbd  استفاده کرد. برای نمونه طبق مثالمان‌، همچین چیزی خواهیم داشت:</span></p>
<div class="code"><pre><span class="p">(</span><span class="nv">global-set-key</span> <span class="p">(</span><span class="nv">kbd</span> <span class="s">"C-c f"</span><span class="p">)</span> <span class="ss">'FUNCTION_NAME</span><span class="p">)</span>
</pre></div>


<p>خود تابع kbd  می‌داند که چطور این کلید را ترجمه کند. برای کسب اطلاعات بیشتر در این مورد می‌توانید باز هم از C-h f  یا تابع متناظرش استفاده کنید. باور کنید که اطلاعات خیلی بهتری به دست می‌آورید ;-)</p>
<p>در تابع دوم ما کار مشابهی را انجام دادیم‌، با این تفاوت که تابع define-key  نیاز به این دارد که بداند کلید میانبر را در کدام محیط اجرا کند. به عبارت دیگر‌، کلید میانبر در کدام Mode در دسترس باشد. از آن‌جایی که قصد ما تعریف کلید میانبر سراسری است به محیط global-map  اشاره می‌کنیم که به define-key  می‌فهماند کلید باید در همه جا در دسترس باشد.</p>
<h5>کلید میابر محدود به مد خاص</h5>

<p>با این توضیح آخر بخش قبل‌، فکر کنم موضوع کاملا روشن شده باشد. کافیست برای تعریف میانبر برای یک مد خاص‌، محیط مربوط به آن مد را به define-key  نشان دهیم. برای مثال اگر می‌خواهیم که کلید میانبر تنها در محیط متنی در دسترس باشد‌، به جای global-map  از text-mode-map  استفاده می‌کنیم. محیط‌های مربوط به هر مد اصلی‌، عموما به صورت mode-name-map  شناسایی می‌شوند و در هنگام تعریف کلید‌، کافیست نام map مد مورد نظر‌تان را کشف کنید ;-)</p>
      </div>
      <div class="postMeta">
        <div class="postDate"><span>ارسال شده:</span> <abbr class="published">2013-04-06 09:06</abbr></div>
        


        <div class="categories">

<span>ارسال‌های بیشتر دربارهٔ</span>

<a class="tag" href="../categories/define-key.html"><span class="badge-info">define-key</span></a>

<a class="tag" href="../categories/emacs.html"><span class="badge-info">Emacs</span></a>

<a class="tag" href="../categories/global-map.html"><span class="badge-info">global-map</span></a>

<a class="tag" href="../categories/global-set-key.html"><span class="badge-info">global-set-key</span></a>

<a class="tag" href="../categories/text-mode-map.html"><span class="badge-info">text-mode-map</span></a>

<a class="tag" href="../categories/ymkhs.html"><span class="badge-info">ایمکس</span></a>

<a class="tag" href="../categories/brnmh-nwysy.html"><span class="badge-info">برنامه نویسی</span></a>

<a class="tag" href="../categories/nrm-fzr.html"><span class="badge-info">نرم افزار</span></a>

<a class="tag" href="../categories/khdbz.html"><span class="badge-info">کدباز</span></a>


</div>
      </div>
    </div>

    <div class="pageNav">
      
<ul class="pager"><div class="prev">
    <a href="blog13920114chynsh-lywt-workman-w-dstn-mhjrtm.html">← ارسال پیشین</a>
  </div>
  
  
  <div class="next">
    <a href="blog13920119yn-ymkhs-dwst-dshtny-ergoemacs-mode.html">ارسال بعدی →</a>
  </div>
  
  </ul></div>
    <div class="postMeta">
      
      
    
        <div id="disqus_thread"></div>
        <script type="text/javascript">
        var disqus_shortname ="shahinism";
        
            var disqus_url="http://shahinism.github.io/posts/blog13920117yn-ymkhs-dwst-dshtny-tryf-khlyd-mynb.html";
        
        var disqus_title="\u0627\u06cc\u0646 \u0627\u06cc\u0645\u06a9\u0633 \u062f\u0648\u0633\u062a \u062f\u0627\u0634\u062a\u0646\u06cc (\u062a\u0639\u0631\u06cc\u0641 \u06a9\u0644\u06cc\u062f \u0645\u06cc\u0627\u0646\u0628\u0631)";
        var disqus_identifier="cache/posts/old/blog13920117yn-ymkhs-dwst-dshtny-tryf-khlyd-mynb.html";
        var disqus_config = function () {
            this.language = "";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    

      
    </div>

  </div>
</div>
  
      </div>
    </div>
    <div id="footer">
      <h5>Elsewhere</h5>
      <ul class="elsewhere"><a href="https://plus.google.com/117086743723717964659/posts">Google Plus</a> |
<a href="http://www.goodreads.com/user/show/4795670-shahin-azad">Good Reads</a> |
<a href="https://identi.ca/shahinism">Identica</a> |
<a href="http://twitter.com/shahinism">Twitter</a> |
<a href="https://github.com/shahinism">Github</a>
      </ul><div class="footerContent">
        
<!-- Custom search -->
<form method="get" id="searchform" action="http://duckduckgo.com/">
<div id="search">
<input type="hidden" name="sites" value="http://shahinism.github.io"><input type="hidden" name="k8" value="#444444"><input type="hidden" name="k9" value="#D51920"><input type="hidden" name="kt" value="h"><input type="text" name="q" maxlength="255" placeholder="جستجو…"><input type="submit" id="searchsubmit" value="DDG Search"></div>
</form>
<!-- End of custom search -->

        <p> Contents © 2013 <a href="mailto:ishahinism@gmail.com">شاهین آزاد</a> - Powered by <a href="http://nikola.ralsina.com.ar">Nikola</a> </p>
        <p> Design by <a href="http://themes.jimbarraud.com/manifest/">Jimbarraud</a> + some <a href="http://shahinism.com">Shahinism</a> twists. </p>
      </div>
    </div>
    
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-23874419-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script></body></html>
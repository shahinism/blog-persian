<!DOCTYPE html>
<html prefix="
og: http://ogp.me/ns#
article: http://ogp.me/ns/article#
" lang="en">
<head>
<meta charset="utf-8">
<meta name="wot-verification" content="1e0ce5594a67af53269c">
<base href="https://5hah.in/index-19.html">
<meta name="description" content="Sometimes you gotta run before you can walk">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>شاهین (old posts, page 19) | شاهین</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta content="#5670d4" name="theme-color">
<link rel="alternate" type="application/rss+xml" title="RSS" href="rss.xml">
<link rel="canonical" href="https://5hah.in/index-19.html">
<link rel="prev" href="index-20.html" type="text/html">
<link rel="next" href="index-18.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
  <a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

  <div class="navigator">
    
  </div>

  <nav class="navbar navbar-default"><div class="container-fluid">
      <!-- Brand and toggle get grouped for better mobile display -->
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="."><img src="assets/images/logo.png"></a>
      </div>

      <!-- Collect the nav links, forms, and other content for toggling -->
      <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
        <ul class="nav navbar-nav">
<li>
<a href="stories/about-me">درباره</a>
                </li>
<li>
<a href="docs/resume.pdf">رزومه</a>
                </li>
<li>
<a href="archive.html">آرشیو</a>
                </li>
<li>
<a href="categories/">دسته‌ها</a>
                </li>
<li>
<a href="rss.xml">خوراک</a>

                    
        </li>
</ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container-fluid -->
  </nav><div class="jumbotron">
    <section class="container"><div id="headerbox" class="col-md-6 col-md-offset-3 text-center">
        <h1>شاهین</h1>
        <hr class="hdrline">
<a class="social" href="https://github.com/shahinism">
          <img src="assets/images/github.png"></a>
        <a class="social" href="https://twitter.com/shahinism">
          <img src="assets/images/twitter.png"></a>
        <a class="social" href="https://ir.linkedin.com/in/shahinism">
          <img src="assets/images/linkedin.png"></a>
      </div>
    </section>
</div>

  <div class="container" id="content" role="main">
    <!--Body content-->
    <div class="col-md-6 col-md-offset-3">
      <div class="row">
        
<div class="postindex">
    <article class="h-entry post-text"><div class="text-center">

        <h1 class="p-name entry-title"><a href="posts/wp/ftkhr-dwsty-b-khnwdh-stackexchange/" class="u-url">افتخار دوستی با خانوادهٔ StackExchange</a></h1>
            شاهین
      <a href="posts/wp/ftkhr-dwsty-b-khnwdh-stackexchange/" rel="bookmark"><time class="published dt-published" datetime="2012-08-17T07:57:59+04:30" title="2012-08-17 07:57">2012-08-17 07:57</time></a>
    </div>
    <div class="e-content entry-content">
    <div>
<p>احتمالا اکثرتان با Stackoverflow یا نهایتا با <a title="Super User" href="http://superuser.com/" target="_blank">SuperUser</a> آشنا هستید‌. اما این خانواده اعضای جالب‌تری هم دارد‌.</p>
<h5><a title="English on StackExchange" href="http://english.stackexchange.com/" target="_blank">English</a></h5>

<p>اگر مثل من یک کمی دیر به فکر تقویت زبان‌تان افتاده‌اید‌، ممکن است سوال‌هایی داشته باشید که جوابش در کتاب‌هایتان نبوده و جستجو در گوگل هم نتیجه‌ای برایتان به همراه نیاورد‌. آن وقت است که فضایی مثل یاران StackExchange به دادتان می‌رسد‌.</p>
<h5><a title="Tex on StackExchange" href="http://tex.stackexchange.com/" target="_blank">Tex</a></h5>

<p>این یکی مخصوصا برای اولین تجربه از Tex و توله‌هایش خیلی خوب به کارتان می‌آید‌. قبلا در مورد تک <a title="چرا باید LaTeX را دوست داشت‌؟" href="http://shahinism.com/blog/1390/06/14/%da%86%d8%b1%d8%a7-%d8%a8%d8%a7%db%8c%d8%af-latex-%d8%b1%d8%a7-%d8%af%d9%88%d8%b3%d8%aa-%d8%af%d8%a7%d8%b4%d8%aa%e2%80%8c%d8%9f/" target="_blank">صحبت کرده‌ام‌</a>. اصولا آن ضرب‌المثل معروف کاربران LaTex (‌اولین بار که داری با لاتک مقاله‌ای آماده می‌کنی می‌گی دیگه سراغش نمی‌رم‌، ولی وقتی مقاله تموم شد‌، دیگه جز با لاتک کاری انجام نمی‌دی) توصیف کنندهٔ وضعیت فعلی من است و مقالات و نوشته‌هایی که با ابزار‌های دیگری نوشته شده‌اند هیچ گونه اشتیاقی برای استفاده در من ایجاد نمی‌کنند‌!‌ دیکتاتوری است دیگر D:</p>
<h5><a title="Ubuntu on StackExchange" href="http://askubuntu.com/" target="_blank">Ubuntu</a></h5>

<p>چه دوست داشته باشم یا نه‌، اوبونتو طیف وسیعی از تازه‌کاران سوال کننده (و البته کهنه کاران پاسخ دهنده) را به سوی خود جذب می‌کند‌. این می‌شود که بخش Ubuntu از StackExchange به یکی از باحال‌ترین مکان‌ها برای پیدا کردن راه حل مشکلات عجیب غریب‌تان تبدیل می‌شود‌!</p>
<p>اگر شما هم مثل من Ubuntu را یک سیستم عامل خارق‌العادهٔ‌، متفاوت‌، از همهٔ لینوکس‌ها بهتر نمی‌دانید و تنها مثل هر توزیع دیگری و کاملا دموکراتیک به عنوان یک سیستم‌عامل لینوکسی/یونیکسی آن را در دستهٔ مشخصی قرار می‌دهید‌، <a title="Unix on stackexchange" href="http://unix.stackexchange.com/" target="_blank">Unix/Linux</a> در StackExchange می‌تواند جای خوبی برای طرح سوال‌های عجیب غریبتان باشد‌! البته اگر سوالاتتان طیف وسیع‌تری را پوشش می‌دهد‌، می‌توانید SuperUser را امتحان کنید‌!</p>
<h5>دیگران</h5>

<p>خانوادهٔ StackExchange بزرگتر از این حرف‌هاست که بشود در یک مطلب به توضیح تک‌تکشان پرداخت‌! از طرفی من هم سواد بررسی همهٔ آن‌ها را ندارم تا در موردشان نقد و بررسی درست درمانی بنویسم‌! این می‌شود که پیشنهاد می‌کنم‌، برای آشنایی با آن‌ها یکی از سایت‌های هم‌خانواده‌ای را که معرفی کردم باز کنید و اسکرولتان را تا پایین صفحه بچرخانید و چشمتان را به جمال عجایبی همچون Wordpress, Photography, Teoreticalcs و حتی Cooking روشن کنید‌!</p>
<h5>احتیاط</h5>

<p>می‌دانم که عموم خوانندگان این مطلب را کاربرانی تشکیل می‌دهند که بلدند چطور سوال بپرسند و قبل از طرح کردن مساله‌ای به خوبی تمام جوانبش را بررسی می‌کنند و وقتی دیگر از گوگل و تمام منابع دم دستشان نا امید شدند به فکر سوال کردن در فرومی‌، جایی می‌افتند‌! اما اگر خدای نکرده کسی از این جمع یادش رفت و یکی از اصول چندگانهٔ طرح سوال را رعایت نکرد‌، بداند که تنها باعث منزوی شدن نام کاربری‌اش در جامعهٔ StackExchange می‌شود و این کلا چیز خوبی برای ادامهٔ حیات در آن جامعه نیست ;-)</p>
</div>
    </div>

    <div class="text-center">
                    <a class="btn btn-success" href="posts/wp/ftkhr-dwsty-b-khnwdh-stackexchange/#disqus_thread" data-disqus-identifier="cache/posts/wp/ftkhr-dwsty-b-khnwdh-stackexchange.html">Comments</a>


    </div>

    </article><article class="h-entry post-text"><div class="text-center">

        <h1 class="p-name entry-title"><a href="posts/wp/prwjh-ngr-w-msybsh/" class="u-url">پروژهٔ نگار و مصائبش</a></h1>
            شاهین
      <a href="posts/wp/prwjh-ngr-w-msybsh/" rel="bookmark"><time class="published dt-published" datetime="2012-08-11T03:31:44+04:30" title="2012-08-11 03:31">2012-08-11 03:31</time></a>
    </div>
    <div class="e-content entry-content">
    <div>
<p style="text-align: center;"><a href="https://raw.github.com/shahinism/Negar/master/Negar-State.png"><img class="aligncenter" src="https://raw.github.com/shahinism/Negar/master/Negar-State.png" alt="" width="560" height="249"></a></p>

<p>نگار با پایتون نوشته شده‌، اما به احتمال زیاد کتابخانهٔ ویرایشش به چند زبان دیگر (نظیر PHP و javascript برگردانده خواهد شد). از این رو نگار روی <a title="negar on github" href="https://github.com/shahinism/Negar" target="_blank">گیت‌هاب</a> منتشر می‌شود و شدیدا پذیرای ایده‌های نو و صد البته همکاری شما در توسعه‌اش است‌.</p>
<p>و از همه مهمتر این که نگار توسط یک تازه‌کار در حال توسعه است و می‌تواند کمک خوبی برای تازه‌کاران یا مشتاقان یادگیری برنامه نویسی باشد‌.</p>
<h5>مصائب توسعه نگار</h5>

<p>آن‌هایی که مرا از نزدیک می‌شناسند احتمالا می‌دانند که مدت‌هاست مشتاقم که برنامه‌نویس شوم ولی درصدی تنبلی و درصدی دیگر پیچیدگی امر برنامه‌نویسی مانع از رسیدن به این علاقه‌ام شده‌. بار‌ها به سمت زبان‌های C‎+‎+‎‌، C، PHP، Javascript و ... کشیده شده‌ام‌، سینتکس‌شان را یادگرفته‌ام‌، تعدادی مسائل و الگوریتم پایه‌ای را حل کرده‌ام ولی آخر سر نتوانسته‌ام که به خودم اجازهٔ برنامه‌نویس بودن بدهم D:</p>
<p>خوبی این تلاش‌های به بن‌بست رسیده برایم این بوده که بفهمم برنامه‌نویسی را توی کتاب‌ها یاد نمی‌دهند D: (البته منظورم سینتکس و این‌ها نیست‌ها!). یاد گرفتن واقعی از وقتی شروع می‌شود که شروع به نوشتن پروژه‌ای می‌کنید‌. ایدهٔ توسعهٔ نگار را مدت زیادی بود که در سر می‌پروراندم‌. خصوصا از وقتی که ایمان <a title="ویراستیار" href="http://virastyar.ir" target="_blank">ویراستیار</a> را به عنوان جایگزینی برای <a title="ویراسباز" href="http://virasbaz.persianlanguage.ir/" target="_blank">ویراستباز</a> که من استفاده می‌کردم معرفی کرد و گفت که ای کاش یک نسخهٔ کلاینت هم برای این کار روی لینوکس بود‌. (درست که ویراستیار یک نسخهٔ کلاینت دارد‌، ولی آن با زبان جهنمی C#‎ نوشته شده که نصبش برای من هفت خوان می‌طلبد!)</p>
<p>این اشتیاق به قوت خودش باقی ماند تا این که <a href="http://www.swaroopch.org/notes/Python" target="_blank">کتاب یک بایت از پایتون</a> را تمام کردم‌. کتاب خیلی خوبی بود‌‌ و خیلی از مسائل را به سادگی و روشنی توضیح می‌داد‌. این بود که ما هم جو این که هر کاری را می‌توانیم به راحتی با پایتون انجام دهیم گرفتمان و زدیم به کار نوشتن نگار‌!</p>
<p>اولین الگوریتم پیاده‌سازی شده افتضاح بود‌! بعضی ایده‌هایش هنوز هم به نظرم جالب می‌آید ولی حجم کار بی‌خودی زیادی را به هر تابع واگذار کرده بودم که در نهایت هم نتیجهٔ دلچسبی در خروجی ظاهر نمی‌شد‌. این بود که کمی ذلسرد شدم و ناامیدانه به دنبال ابزاری گشتم که برای همین هدف نوشته شده باشد و بتوانم با بررسی سورسش مفهوم طراحی و پیاده‌سازی یک برنامه را بهتر درک کنم‌. سورس ویراستیار جدای از گندگی بیش از اندازه‌اش برای من‌، به زبانی بود که اصلا نمی‌فهمیدمش‌! جستجو‌ها نتجه نداد تا وقتی که روی صفحهٔ گیت <a href="https://github.com/behnam" target="_blank">بهنام اسفهبد</a> با پروژهٔ ویراستار آشنا شدم‌. نویسندهٔ پروژه<a href="https://github.com/aziz/virastar-app" target="_blank"> عزیز </a>(که فکر کنم توسعه دهندهٔ بالاترین هم باشد) کد <a href="https://github.com/aziz/virastar%5C" target="_blank">کتابخانه</a> را به روبی نوشته بود و یک نمونهٔ تحت وب که خروجی فوق‌العاده‌ای هم از ویرایش متن داشت با آن ساخته بود‌.</p>
<p>سادگی و کامنت شدن بیشتر توابع این کتابخانه را به شروع خوبی برای من تبدیل کرد‌. تصمیم گرفتم که آن را با پایتون دوباره نویسی کنم تا هم سواد خودم را (که بعد‌تر فهمیدم اصلا ندارم D:) محک بزنم و هم یه شروع برای پروژهٔ نگار ایجاد کنم‌.</p>
<p>کار از آن چیزی که به نظر می‌رسید سخت‌تر بود‌. تفاوت‌های زبان روبی و پایتون گاها در سینتکس خیلی کوچک بودند ولی در عملکرد زمین تا آسمان متفاوت بودند‌.</p>
<p>نکته‌ای که بیش از همه به نظرم جالب آمد طرز تفکر من نسبت به عبارات باقائده بود‌. قبلا در وبلاگ دوست خوبم علی با آن‌ها آشنا شده بودم‌. ولی زیاد دل به یاد گرفتن‌شان ندادم و فکر هم نمی‌کردم آن‌چنان دانستن‌شان به کارم بیاید‌. حقیقتش را بخواهید بیش از ۹۰ درصد ویراستار نگار بر پایهٔ همین regex‌ها بنا شده ;-)</p>
<p>یا از طرف دیگر unicode ها که در عمل آن‌قدر بهشان عادت کرده بودم که نمی‌دیدمشان‌، خودشان را در این‌جا بیش از پیش به رخ می‌کشیدند‌.</p>
<h5>کمک‌های Stackoverflow و Github</h5>

<p>این که می‌گویند همیشه ابزار درست نتیجه را بهتر می‌کند (نقل از خودم) حقیقت محض است‌. در حین نوشتن نگار به مشکلاتی بر می‌خوردم که هیچ‌جوره با منطقم جور در نمی‌آمد‌. سرچ در گوگل هم خصوصا این که با فارسی در ارتباط بود و طبیعتا نمی‌شود دلی به نتایجش خوش کرد چندان فایده‌ای نداشت‌ (البته چند باری به جای فارسی دنبال Arabic‌ها گشتم که راهنمایی‌های خوبی برای یونیکد نوشتن در پایتون به دست آوردم). در چنین شرایطی بود که <a href="http://stackoverflow.com/" target="_blank">stackoverflow</a> و کاربرانش به دادم رسیدند‌. دو سوالی که پرسیدم را آن‌چنان کامل و متناسب با شرایط مختلف جواب دادند که عمرا نمی‌شود در هیچ کتابی به این صراحت جوابی پیدا کرد D:</p>
<p>اما حل مشکلات به این راحتی‌ها هم نبود‌. بار‌ها پیش می‌آمد که شروع به ویرایش یک تابع می‌کردم و آن‌قدر تغییر می‌دادم که در نهایت نه ایده‌هایم برای حل مشکل کارساز بود و هم کل کد را خراب کرده بودم‌. این‌جا بود که Git کمک می‌کرد‌. فوق‌العاده است‌. فوق‌العاده‌. کدام ابزار دیگری را می‌شناسید که هم یک ورژن کنترل عالی باشد‌، هم به راحتی قابلیت مستندسازی پروژه را دو دستی تقدیمتان کند؟ (منظورم wiki و page است). در آینده بیشتر در مورد شگفتی‌های گیت و مخصوصا <a href="http://github.com" target="_blank">گیت‌هاب</a> می‌نویسم‌!</p>
<h5>نتیجه:</h5>

<p>نتیجهٔ کار که دیگر معلوم است‌. اما در آخر باز هم اعلام می‌کنم که اگر علاقه به همکاری در یک پروژهٔ آزاد فارسی دارید تنها زحمتی که باید به خودتان بدهید‌، این است که پروژه را از گیت‌هاب فورک کنید ;-)</p>
</div>
    </div>

    <div class="text-center">
                    <a class="btn btn-success" href="posts/wp/prwjh-ngr-w-msybsh/#disqus_thread" data-disqus-identifier="cache/posts/wp/prwjh-ngr-w-msybsh.html">Comments</a>


    </div>

    </article><article class="h-entry post-text"><div class="text-center">

        <h1 class="p-name entry-title"><a href="posts/wp/z-autojump-dr-trmynl-qfl-nshwyd/" class="u-url">از Autojump در ترمینال غافل نشوید‌!</a></h1>
            شاهین
      <a href="posts/wp/z-autojump-dr-trmynl-qfl-nshwyd/" rel="bookmark"><time class="published dt-published" datetime="2012-08-04T09:09:09+04:30" title="2012-08-04 09:09">2012-08-04 09:09</time></a>
    </div>
    <div class="e-content entry-content">
    <div>
<p>هــاها‌! کدام ابزار را می‌شناسید که سریع‌تر بین دایرکتوری‌ها جابجایتان کند؟ خوب دیگر پر حرفی بس است‌. برویم سر اصل ماجرا‌. نصب و حل یک مشکل‌!</p>
<h5>نصب</h5>

<p>برای نصب اگر پایتون روی سیستم‌تان بالا‌تر از ۲.۷ است که خیال‌تان راحت و تنها کافییست که آن را از کانال گیتش دریافت کنید و پس از ورود به پوشه‌اش اسکریپت install.sh را اجرا کنید‌. اما اگر مثل من با این ترافیک داغان اینترنت روی اسلکور استیبل گیر کرده‌اید (این یعنی پایتون ۲.۶) پس باید یک چند‌تا کار اضافه انجام دهید‌ (یا شاید هم بخواهید به ورژن ۱۹ که توی اسلک‌بیلد‌ها پیدا می‌شود بسنده کنید):</p>
<pre class="code literal-block"><span></span>sbopkg -R -i <span class="s2">"pysetuptools pip"</span>
</pre>


<p>امیدوارم sbopkg را نصب کرده و بی‌خودی زندگی را برای خود سخت نگیرید ;-) حالا هم کافیست که با pip بستهٔ مورد نیاز Autojump را نصب کنید‌:</p>
<pre class="code literal-block"><span></span>pip install argparse
</pre>


<p>و سپس:</p>
<pre class="code literal-block"><span></span>git clone git://github.com/joelthelion/autojump.git

<span class="nb">cd</span> autojump

./install.sh --force
</pre>


<p>و حالا خط زیر را به ‎.zshrc اضافه کنید:</p>
<pre class="code literal-block"><span></span><span class="o">[[</span> -s /etc/profile.d/autojump.zsh <span class="o">]]</span> <span class="p">&amp;</span>amp<span class="p">;&amp;</span>amp<span class="p">;</span> <span class="nb">source</span> /etc/profile.d/autojump.zsh
</pre>


<p>و سر‌انجام:</p>
<pre class="code literal-block"><span></span><span class="nb">source</span> ~/.zshrc
</pre>


<h5>مشکل</h5>

<p>و خوب کار باید تمام شده باشد اما دستور زیر را امتحان کنید:</p>
<pre class="code literal-block"><span></span>vim ~/.zsh<span class="o">[</span>TAB<span class="o">]</span>
</pre>


<p>که احتمالا چیزی شبیه خروجی زیر نصیبتان می‌شود:</p>
<pre class="code literal-block"><span></span>_arguments:439: _vim_files: <span class="k">function</span> definition file not found

_arguments:439: _vim_files: <span class="k">function</span> definition file not found

_arguments:439: _vim_files: <span class="k">function</span> definition file not found
</pre>


<p>و این یعنی اتوکامپلیشن فوق‌العادهٔ ZSH جلوی دستور vim از کار می‌افتد‌! خوب چه کنیم؟ تنها یک راه حل در اینترنت جواب این مساله بود و آن هم <a title="Problem on Arch forum" href="https://bbs.archlinux.org/viewtopic.php?id=37245" target="_blank">از انجمن آرچر‌های </a>اعظم:</p>
<pre class="code literal-block"><span></span>$ <span class="nb">echo</span> <span class="nv">$fpath</span> <span class="o">(</span>see the <span class="k">function</span> PATH of zsh<span class="o">)</span>

/usr/share/zsh/site-functions /usr/share/zsh/4.3.11/functions

$ <span class="nb">cd</span> /usr/share/zsh/4.3.11/functions

$ ls _vi*

_vim

rm _vim
</pre>


<p>و حالا لذت ببرید ;-)</p>
</div>
    </div>

    <div class="text-center">
                    <a class="btn btn-success" href="posts/wp/z-autojump-dr-trmynl-qfl-nshwyd/#disqus_thread" data-disqus-identifier="cache/posts/wp/z-autojump-dr-trmynl-qfl-nshwyd.html">Comments</a>


    </div>

    </article><article class="h-entry post-text"><div class="text-center">

        <h1 class="p-name entry-title"><a href="posts/wp/chgwnh-ymkhsmn-r-trbyt-khnym-qsmt-dw/" class="u-url">چگونه ایمکس‌مان را تربیت کنیم (قسمت دوم)</a></h1>
            شاهین
      <a href="posts/wp/chgwnh-ymkhsmn-r-trbyt-khnym-qsmt-dw/" rel="bookmark"><time class="published dt-published" datetime="2012-07-23T10:49:27+04:30" title="2012-07-23 10:49">2012-07-23 10:49</time></a>
    </div>
    <div class="e-content entry-content">
    <div>
<p>یکی از اجزای جدا نشدنی توابع برنامه نویسی‌، آرگومان‌هایی هستند که می‌توان با استقاده از آن‌ها کارکرد توابع را تحت تاثیر قرار داد‌. توابع ایمکس هم از این قائده مستثنا نیستند‌. برای مثال می‌توان با C-u 3 C-x C-n نشانگر را به سه پنجره بعد از پنجرهٔ حاضر منتقل کرد‌. می‌خواهید امتحان کنید؟ ایمکس‌تان را باز کنید و آن را به چهار پنجره تقسیم کنید و فرمان بالا را وارد کنید‌. همان‌طور که می‌بینید تابع other-window که در این‌جا مورد بحث ماست‌، با استفاده از آرگومان دریافتی توسط C-u که همان عدد سه است‌، می‌تواند به سه پنجره بعد بپرد و ما را از فراخوانی پیاپی‌اش نجات دهد‌. حالا نکته این‌جاست که این تابع آرگومان منفی‌ای مثل ‎-۱ را هم می‌پذیرد‌. و احتمالا این دقیقا همان چیزی است که ما برای حرکت در پنجره‌ها به سمت چپ نیاز داریم‌. یک بار امتحانش کنید: C-u -1 C-x C-n</p>
<p><strong>نکته:</strong> اکثر توابع موجود در ایمکس با استفاده از مقادیری مثل ‎-۱ عکس عمل عادی‌شان را انجام می‌دهند‌. فکر کنید که با این ترکیب چه توابع جالب و کاربردی‌ای می‌توان ساخت‌. مثلا کلید delete عقب‌گرد که در ایمکس به طور عادی تعریف نشده D: (در آینده یک نمونه خواهیم ساخت ;-))</p>
<h5>تعریف اولیه other-window-backward</h5>

<p>برای این که از سختی وارد کردن همچون دستوری بکاهیم‌، بهتر است که آن را به صورت یک تابع تعریف کنیم تا هر جایی که نیاز بود بتوانیم به راحتی از آن استفاده کنیم:</p>
<pre class="code literal-block"><span></span><span class="o">(</span>defun other-window-backward <span class="o">(</span> <span class="o">)</span>

<span class="s2">"Select the previous window."</span>

<span class="o">(</span>interactive<span class="o">)</span>

<span class="o">(</span>other-window -1<span class="o">))</span>
</pre>


<p>خوب این خطوط به چه معناست؟ به ترتیب آن‌ها را بررسی می‌کنیم:</p>
<pre class="code literal-block"><span></span><span class="o">(</span>defun other-window-backward <span class="o">(</span> <span class="o">)</span>
</pre>


<p>در این خط مثل اکثر زبان‌های برنامه‌نویسی دیگر‌، شروع به تعریف تابع می‌کنیم‌. defun عبارتی است مانند def در پایتون که وظیفهٔ تعریف توابع را بر عهده دارد‌. در ادامه نیز اسم تابع other-window-backward و یک جفت پرانتز خالی (که محل تعریف آرگومان‌هایمان در آینده است) را قرار می‌دهیم‌.</p>
<p>در خط دوم:</p>
<pre class="code literal-block"><span></span><span class="s2">"Select the previous window"</span>
</pre>


<p>تنها یک توضیح کوتاه برای عملکرد تابع می‌نویسیم‌. این توضیح عملا تاثیری در روند اجرا تابع ندارد‌. اما وقتی کاربر بخواهد با دستوری مثل describe-function از نحوهٔ عملکرد تابع مطلع شود‌، این توضیح است که نمایش داده می‌شود‌.</p>
<p>خط سوم شامل:</p>
<pre class="code literal-block"><span></span><span class="o">(</span>interactive<span class="o">)</span>
</pre>


<p>این خط در واقع بر نوع عملکرد تابع نسبت به آرگومان‌ها در زمان فراخوانی‌شان دلالت می‌کند‌. در ادامه با مزایای این دستور بیشتر آشنا خواهیم شد‌. فعلا الاالحساب آن را همانطور که هست وارد می‌کنیم‌.</p>
<p>و خط آخر:</p>
<pre class="code literal-block"><span></span><span class="o">(</span>other-window -1<span class="o">))</span>
</pre>


<p>همان‌طور که معلوم است‌، تابع other-window آشنایمان را با آرگومان ‎-۱ صدا می‌کند‌. این آرگومان منفی همانطور که توضیح دادیم به تابع می‌فهماند که باید عقب‌گرد حرکت کند‌.</p>
<p>حالا دیگر تقریبا کارمان تمام است‌. تنها کافی است که آن را به کلید ترکیبی مد نظرمان (C-x C-p چنان که در قسمت قبل تصمیم گرفتیم) پیوند دهیم:</p>
<pre class="code literal-block"><span></span><span class="o">(</span>global-set-key <span class="s2">"\C-x\C-p"</span> <span class="err">'</span>other-window-backward<span class="o">)</span>
</pre>


<p>و کار تقریبا تمام است‌.</p>
<h5>افزودن مزایای آرگومان‌ها</h5>

<p>تا این‌جای کار other-window-backward کاری که می‌خواهیم را درست انجام می‌دهد‌. اما هنوز یک کمبود دارد‌. کدام کمبود؟ همانطور که بالا‌تر توضیح دادم ما می‌توانستیم با C-u به other-window بگوییم که مثلا به دو پنجره بعد بپرد و ما را از فراخوانی دوباره و دوباره‌اش نجات دهد‌. اما تابعی که الان تعریف کردیم‌، این قابلیت را ندارد‌. در نتیجه کاربر بخت برگشته باید برای پرش به سه پنجره قبل سه بار این کلید‌ها را فشار دهد‌! و این یعنی عذاب ;-)</p>
<p>برای این که تابع‌مان یک آرگومان بپذیرد‌، آن را به شکل زیر ویرایش می‌کنیم:</p>
<pre class="code literal-block"><span></span><span class="o">(</span>defun other-window-backward <span class="o">(</span>n<span class="o">)</span>

<span class="s2">"Select Nth previous window."</span>

<span class="o">(</span>interactive <span class="s2">"p"</span><span class="o">)</span>

<span class="o">(</span>other-window <span class="o">(</span>- n<span class="o">)))</span>
</pre>


<p>همانطور که می‌بینید در خط اول‌، یک آرگومان به لیست آرگومان‌های تابع به اسم n اضافه کردیم‌. با این کار به تابع فهماندیم اگر کاربر با C-u آرگومانی را فرستاد (مثلا ۲) آن را در متغیر n قرار بده‌.</p>
<p>همینطور در خط آخر به جای استفاده از ‎-۱ تابع other-window را با آرگومان منفی n صدا زدیم‌. یعنی هر عددی به n فرستاده شد‌، به ترکیب فوق‌، به صورت منفی به other-window فرستاده می‌شود‌.</p>
<p><strong>توجه:</strong> به فاصلهٔ میان علامت منفی و حرف n توجه کنید‌. در صورتی که بخواهید آن را به صورت:</p>
<pre class="code literal-block"><span></span><span class="o">(</span>-n<span class="o">)</span>
</pre>


<p>بنویسید‌، مفسر لیسپ به مشکل بر می‌خورد‌. احتمالا یادتان هست که برای تفریق دو عدد چه کار باید می‌کردیم:</p>
<pre class="code literal-block"><span></span><span class="o">(</span>- <span class="m">2</span> 6<span class="o">)</span>
</pre>


<p>لیسپ در این‌جا دو عدد را از هم کم می‌کند‌، اما اگر به جای دو عدد فقط یک عدد وجود داشته باشد‌، مثل تابع ما‌، آن را به صورت عدد منفی تلقی می‌کند‌.</p>
<p>اما یک نکتهٔ مهم و اساسی در خط سوم وجود دارد که باید به آن نیز بپردازیم‌. ما در این خط به صورت زیر عمل کردیم‌:</p>
<pre class="code literal-block"><span></span><span class="o">(</span>interactive <span class="s2">"p"</span><span class="o">)</span>
</pre>


<p>جریان آن p مشکوک چیست؟ اگر تابع مثل روش اول‌مان‌، هیچ آرگومانی نگیرد‌، interactive هم بدون آرگومان می‌ماند‌. اما اگر مثل روش اخیرمان بخواهیم در تابع از آرگومانی استفاده کنیم‌، باید یک آرگومان به صورت رشته کد به interactive هم اضافه کنیم‌. کد p کوچک به تابع می‌فهماند که اگر یک آرگومان به تابع فرستاده شد آن را به صورت یک عدد ترجمه کن و به تابع برگردان‌. اما اگر آرگومانی فرستاده نشد‌، خودت به صورت پیش‌فرض عدد ۱ را به تابع برگردان‌. و این دقیقا کاری است که ما تا این‌جای کار از تابع‌مان می‌خواهیم‌.</p>
<h5>اختیاری کردن آرگومان</h5>

<p>همان‌طور که می‌بینید‌، این تابع قابلیت فراخوانی توسط توابع دیگر لیسپ را نیز دارد‌. اما در این وضعیت (منظورم در حالتی است که تابع توسط توابع دیگر فراخوانده شود و نه در صورتی که توسط کاربر صدا زده می‌شوند) حتما باید به همراه فراخوانی تابع یک آرگومان هم به آن اطلاق شود‌. و این کمی کار را پیچیده می‌کند و ممکن است در آینده خسته کننده به نظر بیاید‌. بهتر است تابع را طوری تعریف کنیم که وقتی به صورت other-window-backward صدا شد خودکار روش انجام کار پیش‌فرضش را پیش بگیرد‌. پس آن را به صورت زیر ویرایش می‌کنیم:</p>
<pre class="code literal-block"><span></span><span class="o">(</span>defun other-window-backward <span class="o">(</span><span class="p">&amp;</span>amp<span class="p">;</span>optional n<span class="o">)</span>

<span class="s2">"Select Nth previous window."</span>

<span class="o">(</span>interactive <span class="s2">"p"</span><span class="o">)</span>

<span class="o">(</span><span class="k">if</span> n

<span class="o">(</span>other-window <span class="o">(</span>- n<span class="o">))</span> <span class="p">;</span> <span class="k">if</span> n is non-nil

<span class="o">(</span>other-window -1<span class="o">)))</span> <span class="p">;</span> <span class="k">if</span> n is nil
</pre>


<p>در خط اول با ‏‎&amp;optional به تابع می‌فهمانیم که آرگومان n باید اختیاری باشد‌. یعنی اگر فرستاده شد مقدار دهی شود و اگر نه‌، بی‌خیالش باشد‌. همچنین از یک عبارت کنترلی if هم استفاده کردیم‌. در این عبارت اگر n مقدار داشته باشد‌، پس if با یک وضعیت non-nil یا همان True در اکثر زبان‌های برنامه نویسی روبروست‌. و اگر مقدار نداشته باشد‌، برابر است با nil یا False. با توجه با کامنت‌های موجود در کد احتمالا می‌توانید بفهمید که در صورت وقوع هر یک از این وضعیت‌ها کدام حالت رخ خواهد داد‌.</p>
<p>فکر می‌کنم تا این‌جای کار برای امروز کافی باشد‌. کارمان هنوز با این تابع تمام نشده‌. هنوز کمی دیگر راه باقی است که بتوان آن را به عنوان یک تابع ایمکس لیسپی کامل قبول کرد‌. اما لازم است قبل از توضیح بیشتر و سخت کردن کار‌، مفاهیم گفته شده تا این‌جای کار کاملا درک شوند‌.</p>
<p><strong>پی‌نوشت:</strong> مرا به علت دیر‌کرد این چند وقته در انتشار ادامهٔ مطلب حاضر ببخشید‌. امروز هم احتمالا نتوانسته‌ام آن‌طور که باید و شاید حق مطلب رو عدا کنم‌. حقیقتش امروز از آن روز‌هایی بود که در مود نوشتن برای وبلاگ نبودم ولی باید حتما تا این‌جای کار را بیان می‌کردم تا نوشته‌ها از خودم عقب نمانند ;-)</p>
</div>
    </div>

    <div class="text-center">
                    <a class="btn btn-success" href="posts/wp/chgwnh-ymkhsmn-r-trbyt-khnym-qsmt-dw/#disqus_thread" data-disqus-identifier="cache/posts/wp/chgwnh-ymkhsmn-r-trbyt-khnym-qsmt-dw.html">Comments</a>


    </div>

    </article><article class="h-entry post-text"><div class="text-center">

        <h1 class="p-name entry-title"><a href="posts/wp/chgwnh-ymkhsmn-r-trbyt-khnym-qsmt-w/" class="u-url">چگونه ایمکس‌مان را تربیت کنیم (قسمت اول)</a></h1>
            شاهین
      <a href="posts/wp/chgwnh-ymkhsmn-r-trbyt-khnym-qsmt-w/" rel="bookmark"><time class="published dt-published" datetime="2012-07-13T13:45:12+04:30" title="2012-07-13 13:45">2012-07-13 13:45</time></a>
    </div>
    <div class="e-content entry-content">
    <div>
<p>احتمالا هم دیگر معلوم است که چند وقتی است دارم عادت می‌کنم که با ایمکس کار کنم‌. شاید برای باقی ملت این هم جزء همان جو گرفتن‌های اولیه باشد‌. ولی این بار این‌طور نیست‌. موضوع ناموسی شده‌! بیشتر از تمام نرم‌افزار‌هایی که در طول عمرم با آن‌ها سر و کار داشته‌ام‌، دوست دارم با ایمکس کار کنم‌. ولی این یکی تمام دانسته‌هایم را‌، عادت‌هایم را‌، علایقم را‌، بود و نبودم را به چالش می‌کشد‌! چطور؟ در این‌جا با نرم‌افزاری طرف هستم که بسیاری چیز دارد که من نمی‌خواهم‌، و بسیاری چیز دیگر ندارد که من می‌خواهم‌، (که دقیقا عکس همین عبارت هم صادق است). حالا نکته‌اش این‌جاست که این نرم‌افزار این قابلیت را به من می‌دهد که تبدیلش کنم به همان چیزی که می‌خواهم‌! چطور؟ elisp‌! </p>
<p>در این مدت دو سه ماهه که با ایمکس سر و کله زده‌ام‌، منابعی یافته‌ام (که در پست بعدی سعی می‌کنم معرفی‌شان کنم) که کمکم کرده تا اندکی این زبان و تنظیمات (زیادزیادزیاد) ایمکس را درک کنم‌. همین درک اندک کلی هیجان هم برایم به همراه آورده‌. این است که می‌خواهم تا تمام شدن دوره کردن این منابعم‌، هر چیزی که به نظرم جالب و کاربردی می‌آید را تحت یک سری مقاله منتشر کنم‌. باشد که برای آیندگان مفید واقع شود ;-)</p>
<h4>پیشنیاز</h4>

<p>من این‌طور فرض می‌کنم که خوانندهٔ عادی این متن تا الان حداقل کلید‌های میانبر ایمکس را حفظ کرده‌، بلد است Frame کدام است‌، یا چطور بین پنجره‌ها جابجا شود یا پکیجی نصب کند‌! در این‌جا قرار است ما یاد بگیریم که چطور پکیج‌های خودمان را بسازیم ;-)</p>
<h5>یک نکته</h5>

<p>قرار نیست که در مورد هر دستوری که استفاده می‌کنم کامل توضیح دهم‌. گاهی می‌شود که تنها به یک توضیح کوتاه و نشان دادن عملکرد دستور بسنده می‌کنم‌. این‌طوری سعی دارم که بیشتر تمرکز را بگذارم روی هدف اصلی مطلب.</p>
<h4>ساختار دستورات elisp</h4>

<p>اولین نکته در مورد لیسپ (یا در این مورد elisp) این است که تمامی دستوراتش باید داخل پرانتز نوشته شود‌. یعنی فرمی به صورت زیر:</p>
<pre class="code literal-block"><span></span><span class="o">(</span><span class="nb">command</span><span class="o">)</span>
</pre>


<p>نکتهٔ بعد نوع نوشتن دستورات است‌. در زبان‌هایی مانند C یا Python یا دیگر زبان‌هایی که تا الان دیده بودم‌ (جز اسمبلی) دستورات تقریبا به صورت عامیانه نوشته می‌شد‌. مثلا ۲ + ۳ را دقیقا همینطور می‌نوشتیم‌. ولی در لیسپ باید این ترتیب رعایت شود:‌ ۱- عملگر ۲- آرگومان‌ها‌. یعنی برای دستور ۲ + ۳ داریم:</p>
<pre class="code literal-block"><span></span><span class="o">(</span>+ <span class="m">2</span> 3<span class="o">)</span>
</pre>


<p>خوب مزیتش می‌شود این که دیگر برای ۲ + ۳ + ۴ + ۵ + ۶ فقط می‌نویسیم:</p>
<pre class="code literal-block"><span></span><span class="o">(</span>+ <span class="m">2</span> <span class="m">3</span> <span class="m">4</span> <span class="m">5</span> <span class="m">6</span> <span class="o">)</span>
</pre>


<p>و دیگر خبری هم از دردسر اولویت عملگر‌ها نمی‌شود‌. مثلا:</p>
<pre class="code literal-block"><span></span><span class="o">(</span>+ <span class="m">3</span> <span class="o">(</span>* <span class="m">4</span> 5<span class="o">))</span> که جوابش می‌شود ۲۳

<span class="o">(</span>* <span class="o">(</span>+ <span class="m">3</span> 4<span class="o">)</span> 5<span class="o">)</span> که جوابش می‌شود ۳۵
</pre>


<p>یا مثلا اگر قرار بود قبلا تابعی را با آرگومان‌هایش به صورت زیر فرا بخوانیم:</p>
<pre class="code literal-block"><span></span>foo <span class="o">(</span><span class="m">3</span> + 4, <span class="m">5</span> + 6<span class="o">)</span>
</pre>


<p>الان کارمان به این صورت انجام می‌گیرد:</p>
<pre class="code literal-block"><span></span><span class="o">(</span>foo <span class="o">(</span>+ <span class="m">3</span> 4<span class="o">)</span> <span class="o">(</span>+ <span class="m">5</span> 6<span class="o">))</span>
</pre>


<p>ساده بود؟‌ خوب نکتهٔ‌ بعدی لیست‌ها هستند‌. که به صورت زیر تعریف می‌شوند:</p>
<pre class="code literal-block"><span></span><span class="o">(</span>hello there<span class="o">)</span> که لیست شامل دو نشانه است.

<span class="o">(</span><span class="m">1</span> <span class="m">2</span> xyz <span class="s2">") که لیستی شامل دو عدد و یک رشته است‌.</span>

<span class="s2">(a (b c)) که لیستی شامل یک نشانه و یک زیر لیست است‌.</span>

<span class="s2">() که یک لیست خالی است‌.</span>
</pre>


<p>خوب تنها نکته‌ای که باقی می‌ماند و از باقی نکته‌ها مهم‌تر است کامنت است‌! در لیسپ کامنت‌ها بعد از «;» نوشته می‌شوند‌. هر وقت این علامت ظاهر شد تا انتهای خط به عنوان کامنت توسط مفسر لیسپ کامنت طلقی شده و نادیده گرفته می‌شود‌.</p>
<p>نکات پایه‌ای در مورد نحو لیسپ را تا این‌جای کار دیدیم‌. نکات ضریف‌تر و کاربردی‌تری هم وجود دارد که در ادامهٔ مقالات و وقتی به آن‌ها نیاز شد مطالعه‌شان می‌کنیم.</p>
<h4>کلید‌ها در elisp</h4>

<p>برای این که به ایمکس بفمانیم با فشرده شدن فلان کلید فلان کار را انجام بده‌، باید اول بدانیم که چطور یک کلید را تعریف کنیم‌. کلید‌ها در حالت عادی بین دو کتیشن "" و به صورت یک رشته تعریف می‌شوند‌. مثلا در مثلا زیر ما سه کلید xyz را تعریف می‌کنیم:</p>
<pre class="code literal-block"><span></span><span class="s2">"xyz"</span>
</pre>


<p>اما نکته این‌جاست که چطور کلید‌های Ctrl و Alt را به ایمکس حالی کنیم‌! این کلید‌ها عملا با حرف C بزرگ برای Ctrl و M برای کلید Meta یا همان Alt شناخته می‌شوند‌. اما اگر ما "M" یا "C" استفاده کنیم، حروف M بزرگ و C بزرگ را معرفی کرده‌ایم و نه Ctrl و Alt را‌. این‌جاست که از علامت شکنندهٔ «\» استفاده می‌کنیم‌. (اگر قبلا برنامه نویسی کرده باشید احتمالا خوب از مزایایش با خبرید‌). و داریم:</p>
<pre class="code literal-block"><span></span><span class="s2">"\M"</span>
</pre>


<p>خوب دیگر کارمان راحت شد‌. فقط یک نکتهٔ کوچک دیگر باقی می‌ماند‌. این که چطور فرق بین پایین نگه داشتن کلید Ctrl و زدن x و بعد رها کردن هر دویشان و زدن مثلا کلید l را تعیین کنیم‌. این عبارت در ایمکس به صورت C-x l نوشته می‌شود‌. خوب احتمالا حدس زده‌اید‌:</p>
<pre class="code literal-block"><span></span><span class="s2">"\C-x l"</span>
</pre>


<p><strong>نکته</strong>: برای نمایش کلید Esc به صورت "\e" و برای کلید Del از عبارت "\C-‎?‎" استفاده می‌کنیم.</p>
<h4>امتحان تغییرات ایجاد شده روی ایمکس</h4>

<p>خوب ما تغییرات و توابع ایجاد شده‌یمان را در فایل ‎.emacs موجود در پوشهٔ خانگیمان وارد می‌کنیم‌. اما چطور تغییرات را اعمال کنیم؟ ساده‌ترین راه و اولین چیزی که احتمالا به ذهنتان می‌رسد بستن ایمکس و باز کردن دوباره‌اش است. روش خوبی است‌‌، ولی آسان‌تر از این هم پیدا می‌شود‌. مثلا زدن دستور زیر:</p>
<pre class="code literal-block"><span></span>M-x eval-buffer RET
</pre>


<p>این دستور تقریبا کار راه انداز است‌. ولی موقعی که فایل کانفیگتان زیادی سنگین شد‌، و مثلا رسید به هزار خط (‌می‌رسد‌، غم مخورید ;-)) ممکن است زمان زیادی تا لود شدن طول بکشد‌. پس منطقی نیست که همهٔ فایل را لود کنیم‌. چطور است که فقط تغییرات ایجاد شده را دوباره لود کنیم؟ (همین انتخاب‌های گسترده است که دارد عاشق دل باخته‌ام می‌کند ;-)) پس راه بعدی‌مان می‌شود این که برویم در انتهای خطی که تغییر جدیدمان را اعمال کرده‌ایم بایستیم و کلید‌های زیر را وارد کنیم:</p>
<pre class="code literal-block"><span></span>C-x C-e
</pre>


<p>کار این کلید‌ها این است که خط قبل از علامت نشانگر را پردازش کنند و در کانفیگ حاضر ایمکس مداخله دهند‌. </p>
<p>خوب ما می‌دانیم که این کلید‌ها حتما یک دستوری را پشت پردهٔ ایمکس اجرا می‌کنند‌. می‌خواهید بدانید که آن دستور چیست؟ اول دستور زیر را وارد کنید:</p>
<pre class="code literal-block"><span></span>M-x describe-key
</pre>


<p>و سپس کلید‌های ترکیبی‌تان را وارد کنید‌. یک توضیح کامل از دستور مورد استفاده در پنجره‌ای جدید روبرویتان ظاهر می‌شود‌.</p>
<p>خوب دیگر بحث تئوری کافیست‌. بهتر است برویم سراغ کمی کار عملی‌. </p>
<h4>حل مشکل پرش بین پنجره‌های ایمکس</h4>

<p>مساله خیلی ساده است‌. تا به حال حتما پیش آمده که چند تا پنجرهٔ باز دارید و می‌خواهید بین‌شان سوئیچ کرده و به پنجرهٔ سمت راست‌تان بروید. خوب برای این کار از کلید‌های C-x o استفاده می‌کنید‌. حالا اگر بخواهید به سمت چپ بروید چطور؟ شاید وقتی دو پنجرهٔ باز دارید کار سختی نباشد و با تکرار همین دستور به سمت چپی هدایت شوید‌. ولی در پنج پنجرهٔ باز چطور؟ چهار بار باید این کار را انجام دهید‌. یا شاید اصلا نظرتان به نظر من نزدیک باشد که C-x o یک کمی را دست نباشد‌. (این نظر شخصیست) طی ادامهٔ این شماره از مقاله و شمارهٔ بعد قصد حل این مساله را داریم‌. یعنی اول این که کلید‌های C-x o که وظیفه‌شان پرش به پنجرهٔ بعدی است را با یک کلید دلخواه جایگزین کنیم‌. و سپس یک کلید که بتواند عکس همین عمل را یعنی پرش به پنجرهٔ سمت چپ را انجام دهد هم بسازیم‌.</p>
<p>خوب تا این‌جای کار می‌دانیم چه کار‌هایی می‌توان انجام داد و می‌دانیم که چه مساله‌ای پیش رو داریم‌. پس حل تقریبا آسان است‌. پس شروع می‌کنیم‌. اولین کاری که باید بکنیم این است که بفهمیم با چه دستوری می‌توان یک کلید میانبر تعریف کرد‌. دستور مورد نظر ما global-set-key نام دارد‌. که به صورت زیر می‌تواند مورد استفاده قرار گیرد:</p>
<pre class="code literal-block"><span></span><span class="o">(</span>global-set-key KEY COMMAND<span class="o">)</span>
</pre>


<p>خوب حالا دو چیز بعدی که نیاز داریم هم سر و کله‌شان پیدا شد‌. اولی KEY که منظور کلید‌های میانبر مورد نظرمان است‌، و دیگری COMMAND که دستوری است که می‌خواهیم با زدن کلید‌های KEY اجرا شود‌. خوب چه کلید‌هایی را انتخاب کنیم؟ این کتابی که من به عنوان راهنما استفاده می‌کنم کلید‌های C-x C-n را برای پرش به پنجرهٔ سمت راست و C-x C-p را برای پرش به پنجرهٔ سمت چپ انتخاب کرده‌. انتخاب جالبی به نظر می‌رسد و من هم همان‌ها را انتخاب می‌کنم‌. اما نکته این‌جاست که اول ببینیم نکند یادمان نباشد و بزنیم یکی از کلید‌های میانبر حاضرمان را ناکار کنیم‌. پس می‌آییم و با describe-key ته و توی قضیه را می‌ریزیم روی دایره‌. هاها بعله‌، این کلید‌ها به ترتیب برای فراخوانی set-goal-column و mark-page استفاده می‌شوند‌. که خوب حتی روحم هم از وجود چنین چیز‌هایی خبر‌دار نبود‌. پس فکر نمی‌کنم که این تغییر اشکالی داشته باشد‌. ضمن این که هر وقت که بخواهم می‌توانم دستورام را بعد از M-x وارد و اجرا کنم D:. پس کلید‌ها هم تعیین شد و تا اینجای کار دستور مربوط به پرشمان به پنجرهٔ سمت راست چیزی شبیه به این شده:</p>
<pre class="code literal-block"><span></span><span class="o">(</span>global-set-key <span class="s2">"\C-x\C-n"</span> COMMAND<span class="o">)</span>
</pre>


<p>و حالا بخش آخر داستان‌. حتما دیگر یاد گرفته‌اید که چطور دستور مربوط به C-x o را که می‌خواهیم به C-x C-n پیوند بدهیم را پیدا کنید‌. ما پیدایش کردیم و فهمیدیم که دستوری به اسم other-window را اجرا می‌کند‌. پس احتمالا می‌گویید که دستورمان بعد از تکامل می‌شود این:</p>
<pre class="code literal-block"><span></span><span class="o">(</span>global-set-key <span class="s2">"\C-x\C-n"</span> other-window<span class="o">)</span>
</pre>


<p>خوب تا حدودی راست گفته‌اید‌. ولی مشکل اینجاست که لیسپ کمی خنگ است و آن دستوری که سمت راست نوشته‌ایم other-window را هم اجرا می‌کند و این اصلا خوب نیست‌. پس باید یک جوری حالیش کنیم که بی‌خیال این دستور شود و فقط سمت چپی را اجرا کند‌. این است که یک «'» به تنهایی به کمکمان می‌آید و دستور می‌شود:</p>
<pre class="code literal-block"><span></span><span class="o">(</span>global-set-key <span class="s2">"\C-x\C-n"</span> <span class="err">'</span>other-window<span class="o">)</span>
</pre>


<p>همین کتیشن کوچک در ابتدای دستور از اجرای دستور دوم جلوگیری می‌کند و دستورمان کامل می‌شود‌. حالا می‌ماند که چطور به ایمکس بگوییم که از آن استفاده کند‌. خوب قبلا در موردش توضیح دادم‌. مثلا همین الان بروی به آخر خط همین دستور (C-e) و بزنید C-x C-e و تمام‌. حالا دستورتان را امتحان کنید‌. </p>
<p>چیزی که باقی می‌ماند این است که کلید C-x C-p را تعریف کنیم تا پس از زدنشان به پنجرهٔ قبلی یا سمت چپی‌مان برود و چون این کار یک کمی پیچیده‌تر است بهتر است آن را برای قسمت بعد بگذاریم‌. قسمتی که شما تا این‌جای داستان را به درستی درک کرده‌اید ;-)</p>
</div>
    </div>

    <div class="text-center">
                    <a class="btn btn-success" href="posts/wp/chgwnh-ymkhsmn-r-trbyt-khnym-qsmt-w/#disqus_thread" data-disqus-identifier="cache/posts/wp/chgwnh-ymkhsmn-r-trbyt-khnym-qsmt-w.html">Comments</a>


    </div>

    </article><article class="h-entry post-text"><div class="text-center">

        <h1 class="p-name entry-title"><a href="posts/wp/yddshty-bry-khnfyg-i3/" class="u-url">یادداشتی برای کانفیگ i3</a></h1>
            شاهین
      <a href="posts/wp/yddshty-bry-khnfyg-i3/" rel="bookmark"><time class="published dt-published" datetime="2012-07-07T06:32:28+04:30" title="2012-07-07 06:32">2012-07-07 06:32</time></a>
    </div>
    <div class="e-content entry-content">
    <div>
<p><a title="تجربهٔ کار با i3 یک رقیب قدر‌!" href="http://shahinism.com/blog/1391/04/15/%d8%aa%d8%ac%d8%b1%d8%a8%d9%87%d9%94-%da%a9%d8%a7%d8%b1-%d8%a8%d8%a7-i3-%db%8c%da%a9-%d8%b1%d8%ba%db%8c%d8%a8-%d9%82%d8%af%d8%b1%e2%80%8c/">در ارسال قبلی</a>
از میز‌کار
<a title="i3 official website" href="http://i3wm.org" target="_blank">i3</a>
صحبت کردم‌. قرار شد در این پست در مورد کانفیگ و رفع نیاز‌های اولیه‌مان روی این مدیر‌پنجره صحبت کنیم‌. اول از همه طبق معمول باید این میزکار را نصب کنیم‌. همانطور که در پست قبل گفتم این میزکار از نوع اعلان فونت X استفاده می‌کند که متاسفانه در فونت‌هایی که من امتحان کردم نتوانستم تایتل فارسی پنجره‌ها را به درستی نمایش دهم‌ (دوست خوبم فرود در کامنت‌های
<a title="تجربهٔ کار با i3 یک رقیب قدر‌!" href="http://shahinism.com/blog/1391/04/15/%d8%aa%d8%ac%d8%b1%d8%a8%d9%87%d9%94-%da%a9%d8%a7%d8%b1-%d8%a8%d8%a7-i3-%db%8c%da%a9-%d8%b1%d8%ba%db%8c%d8%a8-%d9%82%d8%af%d8%b1%e2%80%8c/" target="_blank">پست قبل</a>
گفتند که از قرار با فونت Ubuntu مشکل حل شده بود‌). پس از
<a title="unicode question on i3faq" href="http://faq.i3wm.org/question/208/unicode-title-for-windows/" target="_blank">
تماس با توسعه دهندگان
</a> i3 و راهنمایی‌شان‌، برای پشتیبانی از xft و طبیعتا دست بازتر در انتخاب فونت‌ها سورس را با<a title="i3 pango patch" href="https://aur.archlinux.org/packages/i3/i3-pango/i3-pango.tar.gz" target="_blank"> این پچ</a>
آماده کردم‌. دوستان آرچر می‌توانند از این
<a title="i3 pango aur" href="https://aur.archlinux.org/packages.php?ID=59344" target="_blank">بسته</a>
برای نصب استفاده کنند‌. اما باقی که می‌خواهند خودشان کامپایل کنند کافیست پچ را در پوشهٔ‌ سورس کپی کنند و با دستور زیر ترتیب کار را بدهند:‌</p>
<pre class="code literal-block"><span></span>patch -p1 &lt; i3-wm-pango.patch
</pre>


<p>دوستان اسلکوری هم می‌توانند باقی کار را به این <a title="i3 &amp; i3status slackbuilds" href="http://slackbuilds.org/result/?search=i3&amp;sv=13.37" target="_blank">Slackbuild</a> بسپارند‌. پس از نصب میزکار را اجرا کنید‌. چیزی که ما می‌خواهیم در نهایت شبیهش شویم به صورت زیر است:</p>
<p style="text-align: center;"><a href="http://dl.dropbox.com/u/25017694/Blog-photos/snapshot.png"><img class="aligncenter" src="http://dl.dropbox.com/u/25017694/Blog-photos/snapshot.png" alt="" width="430" height="323"></a></p>

<p>قبل از این که بگویید این که چیزی ندارد تا بخواهیم کانفیگش کنیم بگذارید بگویم که دو روز وقتم را گرفت تا بتوانم به اینجا برسانمش ;-)</p>
<p>برای شروع کار می‌خواهیم فونت میزکار را تعیین کنیم‌. فایل کانفیگ i3 برای هر کاربر از شاخهٔ ‎~/.i3/config خوانده می‌شود‌ (توجه داشته باشید که در اولین اجرا اگر این فایل وجود نداشته باشد برنامهٔ کانفیگ خودکار i3 شروع می‌شود و از شما می‌پرسد که کدام کلید را به عنوان metaیتان تعریف کند‌ و بعد این فایل ساخته می‌شود-اگر هم نشد در <a title="i3 userguide" href="http://i3wm.org/docs/userguide.html" target="_blank">userguide</a> دنبالش بگردید و مسیرش را ببینید!) فایل کانفیگ را پیدا می‌کنیم و دنبال خط زیر می‌گردیم:</p>
<pre class="code literal-block"><span></span>font -misc-fixed-medium-r-normal--13-120-75-75-C-70-iso10646-1
</pre>


<p>و آن را به صورت زیر ویرایش می‌کنیم:</p>
<pre class="code literal-block"><span></span>font xft:Terminus 9
</pre>


<p>همچنین از آن‌جا که ترمینال پیش‌فرض i3 را دوست نداریم و می‌خواهیم Terminator جایگزینش شود به دنبال ‎# start a terminal می‌گردیم و خط زیرش را به صورت زیر ویرایش می‌کنیم:</p>
<pre class="code literal-block"><span></span>bindsym <span class="nv">$mod</span>+Return <span class="nb">exec</span> --no-startup-id terminator
</pre>


<p>در ادامهٔ کار با کانفیگ‌های پیش‌فرض i3 می‌سازیم‌، جز این که یک مشکل کوچک و قابل حل وجود دارد‌. آن هم این که بعد از تغییر layout کیبورد به فارسی دیگر کلید‌های میانبر میزکارمان کار نمی‌کنند و باید layout را انگلیسی کنیم تا به کار بیافتند‌. برای حل این مشکل باید به جای کلید‌های bindsym (کلید‌های میانبری که با اسم کلید مثلا shift, Return و ... تعریف می‌شوند) از bindcode استفاده کنیم‌. برای نمونه ما کلید‌های میانبر تغییر layout را به این صورت تعریف می‌کنیم.</p>
<p>کلید‌های مدنظر ما برای تغییر صفحه کلید Alt+Shift است‌. اول از همه در اول فایل کانفیگ یک متغیر به اسم ‎$mod1 که به Alt اشاره می‌کند به صورت زیر تعریف می‌کنیم:</p>
<pre class="code literal-block"><span></span><span class="nb">set</span> <span class="nv">$mod1</span> Mod1
</pre>


<p>و سپس خطوط زیر را در انتهای فایل کانفیگ اضافه می‌کنیم:</p>
<pre class="code literal-block"><span></span>bindcode <span class="nv">$mod1</span>+62 <span class="nb">exec</span> ~/.i3/changekb.sh

bindcode <span class="nv">$mod1</span>+50 <span class="nb">exec</span> ~/.i3/changekb.sh
</pre>


<p>خوب حالا این دو خط چه می‌کنند؟ دستور bindcode به i3 می‌فهماند که باید از کد کلید‌های کیبورد برای شناسایی کلید ترکیبی استفاده کند‌. ‎$mod1 را هم که پیشتر خودمان به عنوان کلید Alt تعریف کردیم‌. حالا می‌ماند اعداد ۶۲ و ۵۰‌. این اعداد کد‌هایی هستند که کلید‌های شیفت چپ و راست کیبورد با آن‌ها شناخته می‌شوند و دقیقا مختص همین کلید‌ها هستند‌. برای کشفشان می‌توانید در ترمینال برنامهٔ xev را اجرا کنید کلید مورد نظرتان را فشار دهید و در خروجی‌ها به دنبال عبارت keycode و عدد روبرویش بگردید‌.</p>
<p>exec هم فرمانی است که با استفاده از آن می‌توانیم یک اسکریپت خارجی را اجرا کنیم که در اینجا ما اسکریپتی که layout را بررسی می‌کند و با توجه به وضعیت فعلی‌اش آن را به انگلیسی یا فارسی تغییر می‌دهد را به آن شناساندیم‌. پس لازم است کد زیر را که مربوط به این اسکریپت است در فایل changekb.sh وارد کرده و فایل را به پوشهٔ ‎.i3 در پوشهٔ خانگیتان کپی کنید:</p>
<pre class="code literal-block"><span></span><span class="c1">#This is a script for changing keyboard between English and Persian layouts</span>

<span class="k">if</span> <span class="o">[</span> <span class="sb">`</span>setxkbmap -print <span class="p">|</span> grep xkb_symbols <span class="p">|</span> awk <span class="s1">'{print $4}'</span> <span class="p">|</span> awk -F<span class="s2">"+"</span> <span class="s1">'{print $2}'</span><span class="sb">`</span> <span class="o">=</span> us <span class="o">]</span><span class="p">;</span>

<span class="k">then</span> <span class="nb">echo</span> <span class="s2">"EN"</span><span class="p">;</span> <span class="nb">echo</span> <span class="s2">"changing to IR..."</span><span class="p">;</span> setxkbmap ir<span class="p">;</span>

<span class="k">else</span> <span class="nb">echo</span> <span class="s2">"IR"</span><span class="p">;</span> <span class="nb">echo</span> <span class="s2">"Changing to US..."</span><span class="p">;</span> setxkbmap us <span class="p">;</span>

<span class="k">fi</span>
</pre>


<p>نکته اینجاست که نمی‌دانم چرا Alt+Shift راست پس از تغییر layout به فارسی قادر به بازگردانیش به انگلیسی نیستند‌، در حالی که کلید‌های سمت چپ به راحتی این کار را انجام می‌دهند‌! البته این کار مزیتی برای خودش دارد و آن هم این که با استفاده از کلید‌های سمت راست دیگر خیالم راحت است که کیبورد فارسی است ;-)</p>
<p>در ادامه به حیاتی‌ترین بخش میزکارمان می‌رسیم‌. بخش گزارش‌گیری‌! نوار پایینی میزکار توسط برنامهٔ i3bar کنترل می‌شود‌. این برنامه می‌تواند خروجی برنامه‌های مختلف را در خود نمایش دهد‌. خود i3 برنامه‌ای به اسم i3status برای گزارش‌گیری دارد که من زیاد از آن خوشم نیامد‌. این شد که تصمیم گرفتم از conky برای این بخش استفاده کنم‌. چون هم ابزار‌های بیشتری دارد و هم قابلیت اجرای یک اسکریپت خارجی را بدون درد و خونریزی! این شد که به دنبال خط bar که احتمالا در انتهای فایل کانفیگ قرار دارد می‌گردیم و در میان آکولاد‌های روبرویش دو خط زیر را اضافه می‌کنیم:</p>
<pre class="code literal-block"><span></span>font -*-terminus-bold-*-*-*-12-*-*-*-*-*-iso10646-*

status_command <span class="nb">exec</span> conky -c ~/.i3/i3conky
</pre>


<p>خط اول این دستور که فونت terminus را برای خروجی i3bar تعریف کرده را می‌توانید نادیده بگیرید و یا به صورت xft مثل دفعهٔ قبل تعیین کنید‌. اما خط دوم دستور conky را با فایل کانفیگ i3conky که در شاخهٔ ‎.i3 قرار دارد اجرا می‌کند‌. پس لازم است این فایل را ایجاد کنید و دستورات زیر را در آن کپی کنید:</p>
<pre class="code literal-block"><span></span>background no

out_to_console yes

double_buffer no

short_units yes

out_to_x no

update_interval 1.0

total_run_times 0

use_spacer right



TEXT

CPU: <span class="si">${</span><span class="nv">cpu</span><span class="p"> cpu1</span><span class="si">}</span>,<span class="si">${</span><span class="nv">cpu</span><span class="p"> cpu2</span><span class="si">}</span>,<span class="si">${</span><span class="nv">cpu</span><span class="p"> cpu3</span><span class="si">}</span>,<span class="si">${</span><span class="nv">cpu</span><span class="p"> cpu4</span><span class="si">}</span> @ FRQ: <span class="nv">$freq</span> <span class="p">|</span> RAM:<span class="nv">$mem</span>/<span class="si">${</span><span class="nv">memmax</span><span class="si">}</span> <span class="o">(</span><span class="nv">$memperc</span>%<span class="o">)</span> <span class="si">${</span><span class="nv">if_up</span><span class="p"> eth0</span><span class="si">}</span><span class="p">|</span> LAN: D:<span class="si">${</span><span class="nv">downspeed</span><span class="p"> eth0</span><span class="si">}</span> U:<span class="si">${</span><span class="nv">upspeed</span><span class="p"> eth0</span><span class="si">}</span> <span class="si">${</span><span class="nv">endif</span><span class="si">}</span> <span class="se">\</span>

<span class="p">|</span> <span class="si">${</span><span class="nv">exec</span><span class="p"> ~/.i3/kbstatus.sh</span><span class="si">}</span> <span class="p">|</span> VOL: <span class="nv">$mixer</span> <span class="p">|</span> <span class="si">${</span><span class="nv">time</span><span class="p"> %a %d.%m.%y</span><span class="si">}</span> <span class="si">${</span><span class="nv">time</span><span class="p"> %H:%M</span><span class="si">}</span>
</pre>


<p>توضیح آرگومان‌های این فایل بماند به عهدهٔ خودتان‌. فقط من برای دیدن وضعیت فعلی صفحه کلید اسکریپت تغییر صفحه کلید را ویرایش کردم و آن را به اسم kbstatus.sh در شاخهٔ ‎.i3 قرار دادم تا از conky آن را فرا بخوانم‌. این اسکریپت فقط layout فعلی را در خروجی نشان می‌دهد و کدش به صورت زیر است:</p>
<pre class="code literal-block"><span></span><span class="ch">#!/usr/bin/bas</span>

setxkbmap -print <span class="p">|</span> grep xkb_symbols <span class="p">|</span> awk <span class="s1">'{print $4}'</span> <span class="p">|</span> awk -F<span class="s2">"+"</span> <span class="s1">'{print $2}'</span>
</pre>


<p>کانفیگ میزکارمان دیگر تقریبا تمام شده‌. فقط می‌ماند یک چند تا ریزه کاری‌. i3 به صورت پیش‌فرض صفحه را از طرفی که بزرگتر است نصف می‌کند‌. پس دز عمدهٔ مانیتور‌ها این مسیر به صورت افقی تعریف می‌شود‌. حال آن که من تقسیم عمودی را بیشتر ترجیح می‌دهم‌. پس با خط زیر به i3 می‌فهمانم که این کار را طبق نظر من انجام دهد:</p>
<pre class="code literal-block"><span></span>default_orientation vertical
</pre>


<p>همچنین می‌خواهم تعدادی از برنامه‌هایم مثل mdic یا vlc به صورت float (تایل نشده) باز شوند که برای این کار دستورات زیر را اضافه می‌کنم:</p>
<pre class="code literal-block"><span></span>for_window <span class="o">[</span><span class="nv">class</span><span class="o">=</span><span class="s2">"Vlc"</span><span class="o">]</span> floating <span class="nb">enable</span>

for_window <span class="o">[</span><span class="nv">class</span><span class="o">=</span><span class="s2">"Mdic"</span><span class="o">]</span> floating <span class="nb">enable</span>

for_window <span class="o">[</span><span class="nv">instance</span><span class="o">=</span><span class="s2">"DTA"</span><span class="o">]</span> floating <span class="nb">enable</span>

for_window <span class="o">[</span><span class="nv">instance</span><span class="o">=</span><span class="s2">"Download"</span><span class="o">]</span> floating <span class="nb">enable</span>

for_window <span class="o">[</span><span class="nv">instance</span><span class="o">=</span><span class="s2">"xfce4-notifyd"</span><span class="o">]</span> floating <span class="nb">enable</span>
</pre>


<p>مقدار class و یا instance را می‌توانید پس از ران کردن دستور xprop WM_CLASS و سپس کلیک روی برنامهٔ مورد نظر به دست آورید‌. مثلا در مورد فایرفاکس خروجی به صورت زیر است:</p>
<pre class="code literal-block"><span></span>WM_CLASS<span class="o">(</span>STRING<span class="o">)</span> <span class="o">=</span> <span class="s2">"Navigator"</span>, <span class="s2">"Firefox"</span>
</pre>


<p>که Nvigator مقدار instance و Firefox مقدار class است‌. توجه داشته باشید که این مقدار Case sensetive است‌!</p>
<p>من فایل کانفیگ i3 و اسکریپت‌های مورد استفاده‌ام را روی <a title="my i3 wm theme on git" href="https://github.com/shahinism/i3-wm-theme" target="_blank">این کانال git</a> گذاشته‌ام‌. برای پی‌بردن بیشتر به جزئیات می‌توانید از آن‌ها استفاده کنید!</p>
</div>
    </div>

    <div class="text-center">
                    <a class="btn btn-success" href="posts/wp/yddshty-bry-khnfyg-i3/#disqus_thread" data-disqus-identifier="cache/posts/wp/yddshty-bry-khnfyg-i3.html">Comments</a>


    </div>

    </article><article class="h-entry post-text"><div class="text-center">

        <h1 class="p-name entry-title"><a href="posts/wp/tjrbh-khr-b-i3-ykh-rgyb-qdr/" class="u-url">تجربهٔ کار با i3 یک رقیب قدر‌!</a></h1>
            شاهین
      <a href="posts/wp/tjrbh-khr-b-i3-ykh-rgyb-qdr/" rel="bookmark"><time class="published dt-published" datetime="2012-07-05T05:46:57+04:30" title="2012-07-05 05:46">2012-07-05 05:46</time></a>
    </div>
    <div class="e-content entry-content">
    <div>
<p></p>
<h4>ویژگی‌ها:</h4>
<h5>مستند‌سازی عالی:</h5>

<p>برای ورود به دنیای i3 جدای از این که اگر از Awesome استفاده کرده باشید نیاز به یادگیری چیز زیادی ندارید‌، می‌توانید به یک <a title="i3 userguide" href="http://i3wm.org/docs/userguide.html" target="_blank">User guide</a> عالی که توسط توسعه دهندگانش حاضر شده مراجعه کنید‌. چیزی که متاسفانه برای Awesome پیدا نمی‌شد‌!</p>
<h5>فایل config:</h5>

<p>کانفیگ میزکار Awesome با زبان lua نوشته می‌شد‌ که همین امر قابلیت‌های زیادی هم برایش به همراه می‌آورد‌. حال ممکن است که text بودن کانفیگ i3 کمی مایوس کننده به نظر برسد‌. اما سادگی و کارایی‌اش به خوبی کمک حالم شد‌. حقیقتش را بخواهید تا آخرین لحظات هم از زبان lua سر در نیاوردم و همین امر باعث شده بوده که بیشتر از کانفیگ‌های دیگران برای تنظیمات Awesome بهره بگیرم‌. ولی الان روی i3 همه چیز تحت کنترل من است‌. از طرفی اگر در فایل کانفیگ اشتباهی رخ داده باشد‌، سیستم خطایاب میزکار به دقت محل خطا و دلیلش را نشان می‌دهد‌، در حالی که در Awesome دیگر فایل کانفیگ لود نمی‌شد و از کانفیگ پیش‌فرض برای لود سیستم استفاده می‌شد‌.</p>
<h5>Tiling دستی</h5>

<p>حقیقتش را بخواهید دلیل جذب شدنم به Awesome قابلیت کنترل تمام و کمالش به کیبورد بود و نه Tilingاش‌! حتما می‌پرسید چرا؟ Tiling در Awesome به صورت خودکار انجام می‌گرفت و با وجود قابلیت استفاده از layout‌های مختلف هنوز هم یک جای کار می‌لنگید‌!‌ مثلا من نیازی ندارم که دیکشنری mdic هم tile شود‌! آن هم هر دفعه که می‌خواهد یک لغت ترجمه کند‌، این شد که کلا قابلیت نمایش پنجرهٔ mdic را بی‌خیال شده بودم و برای ظاهر نشدنش در هر جا به یک میزکار جدا محدودش کرده بودم‌. نرم‌افزار‌هایی از این دست برایم زیاد بودند‌. مثل gimp یا vlc یا صفحهٔ گفتگوی Pidgin! حالا i3 چطور کمکم می‌کند؟ در i3 به راحتی می‌توان تعیین کرد پنجرهٔ بعدی کجا باز شود و یا حالت پیش‌فرضی برای باز شدن پنجره‌ها تایین کرد‌. مثلا با یک meta+v می‌گویم پنجرهٔ بعدی زیر پنجرهٔ حاضر باز شود‌! البته هنوز یک مشکل هم دارم که احتمالا باگ باشد‌ (با این زبان داغانم<a title="i3 faq" href="http://faq.i3wm.org/question/210/split-an-specific-window-horizontally/" target="_blank"> در اینجا</a> به مشکل اشاره کردم‌). یا اصلا می‌توان گفت که یک پنجره tile نشود‌! meta+shift+space پنجره را می‌کند و دیگر خیالت راحت است!</p>
<h5>میزکار‌های داینامیک‌:</h5>

<p>در آوسام شما یک تعدادی میزکار به صورت پیش‌فرض تعیین می‌کنید و باقی فعالیت‌هایتان محدود به همین میزکار‌هاست (البته این اواخر یک پلاگین هم پیدا کرده بودم که امکان ایجاد میزکار‌های جدید به صورت داینامیک را می‌داد). همچنین اگر میزکاری خالی بود هنوز هم جزو میزکار‌هایتان حساب می‌شد‌. اما در i3 شما عملا به تعداد میزکار‌های مورد استفاده‌تان میزکار دارید‌! همچنین میزکار‌های خالی بی‌خودی سیستمتان را معطل نمی‌کنند و بلافاصله حذف می‌شوند‌.</p>
<h4>مشکلات:</h4>

<h5>پشتیبانی نکردن از تایتل‌های فارسی:</h5>

<p>اعلان خط به صورت -misc-fixed-medium-r-normal--13-120-75-75-C-70-iso10646-1 که فکر می‌کنم مربوط به X باشد و با استفاده xfontsel قابل تعیین است‌، متاسفانه امکان استفاده از فونت‌های یونیکد را نمی‌دهد ( یا یه همچین چیزی! هنوز درست مشکل را درک نکرده‌ام! باید بیشتر تحقیق کنم ) همین می‌شود که در تایتل‌های فارسی برنامه‌ها که در فایرفاکس بیشتر از همه نمود پیدا می‌کند‌، به مشکل بر بخوریم‌. البته این مشکل را حل کرده‌ام و در پست بعد در موردش می‌نویسم‌.</p>
<h5>قابلیت‌های گزارش دهی ضعیف i3status:</h5>

<p>این برنامه در واقع برای گزارش‌گیری این نرم‌افزار و دادن اطلاعات برای منوهای میزکار ساخته شده‌. ولی با وجود این که اطلاعات اولیه خوبی ارائه می‌دهد ولی هنوز هم با وجود ابزاری مثل <a title="یادداشتی در مورد conky و داشتن خروجی فارسی روی آن" href="http://shahinism.com/blog/1391/01/08/%db%8c%d8%a7%d8%af%d8%af%d8%a7%d8%b4%d8%aa%db%8c-%d8%af%d8%b1-%d9%85%d9%88%d8%b1%d8%af-conky-%d9%88-%d8%af%d8%a7%d8%b4%d8%aa%d9%86-%d8%ae%d8%b1%d9%88%d8%ac%db%8c-%d9%81%d8%a7%d8%b1%d8%b3%db%8c-%d8%b1/" target="_blank">conky</a> وجودش تقریبا بیهوده است‌.</p>
<h5>keybinding برای تغییر صفحه کلید:</h5>

<p>حقیقتش این یکی نابودم کرد تا حلش کنم‌! دوست نداشتم روی X کلیدی تعریف کنم که صفحه کلید را تغییر دهد‌. از طرفی نمی‌خواستم عادت چندساله‌ام برای Alt+shift را کنار بگذارم‌. یعنی حقیقتش در اولین اقدام آمدم با Capslock این کلیدها را جایگزین کنم که عوض دو حالت‌، سه حالته شد‌! یعنی یک بار که می‌زدی انگلیسی بود‌، بار بعد انگلیسی Capital بود و بار بعد فارسی می‌شد (که باید دنبال دلیلش بگردم و اگر شد این کلید را جایگزین کنم). بگذریم‌! مشکل اینجا بود که برای keybindingها می‌شود از یک کلید یا یک metakey به علاوهٔ یک کلید استفاده کرد‌! حالا مشکل اینجا بود که alt و shift هر دو meta حساب می‌شوند و خوب یعنی نمی‌شد تعیینشان کرد‌! که البته این مشکل هم حل شده و در موردش در پست بعد می‌نویسم‌!</p>
<h4>نتیجه:</h4>

<p>با وجود این که i3 خیلی وقتم را برای کانفیگ و درکش گرفت و Awesome خیلی قابلیت‌های بدرد بخور و خوشگل‌تر از i3 داشت‌، سادگی و سر راست بودن این میزکار جذبم کرده و فعلا می‌خواهم از آن استفاده کنم‌! حتی اگر قابلیت نمایش عکس BackGround هم نداشته باشد D:</p>
<p><strong>*:</strong> همانطور که گفتم برای من این دو تا بودند‌! آن بیرون خیلی خیلی بیشتر از دو انتخاب برای میزکار با این قابلیت‌ها وجود دارد!</p>
</div>
    </div>

    <div class="text-center">
                    <a class="btn btn-success" href="posts/wp/tjrbh-khr-b-i3-ykh-rgyb-qdr/#disqus_thread" data-disqus-identifier="cache/posts/wp/tjrbh-khr-b-i3-ykh-rgyb-qdr.html">Comments</a>


    </div>

    </article><article class="h-entry post-text"><div class="text-center">

        <h1 class="p-name entry-title"><a href="posts/wp/wqy-ngry-shkhsy-szy-emacs-qsmt-wl/" class="u-url">وقایع نگاری شخصی سازی emacs قسمت اول</a></h1>
            شاهین
      <a href="posts/wp/wqy-ngry-shkhsy-szy-emacs-qsmt-wl/" rel="bookmark"><time class="published dt-published" datetime="2012-06-26T15:30:01+04:30" title="2012-06-26 15:30">2012-06-26 15:30</time></a>
    </div>
    <div class="e-content entry-content">
    <div>
<p><strong>اول</strong> این که جهت چینش هر پاراگراف را مثل مرورگر‌های جدید بر اساس نوع نوشتار تعیین می‌کند‌. این یعنی متن فارسی را می‌توان مثل آدمی‌زاد درش نوشت و درد نگرفت‌!</p>
<p><strong>دوم</strong> مدیر بسته‌هاست که کلی چیز جدید می‌تواند به emacsتان اضافه کند‌. بحث ما هم سر همین دومیست‌.</p>
<p>ایمکس به صورت پیش‌فرض خیلی خوب است‌، خیلی‌. ولی می‌توان با دستکاری خیلی چیز بهتر و کارا‌تری هم از تویش در آورد‌. این است که می‌خواهم چند تا بسته برای کار‌هایم توش اضافه کنم‌. اما اول از همه باید یک مخزن درست و درمان به مدیر بسته‌هایم اضافه کنم تا برای نصب بسته‌ها درد کمتری متحمل شوم (بماند که خود این مدیر بسته کلی دردناک می‌شود به وقتش‌!). پس اگر فایل ‎.emacs در پوشهٔ خانگی‌ام ندارم یکی می‌سازم و به صورت زیر مخزن‌هایم را اضافه می‌کنم:</p>
<pre class="code literal-block"><span></span><span class="o">(</span>setq package-archives <span class="err">'</span><span class="o">((</span><span class="s2">"ELPA"</span> . <span class="s2">"http://tromey.com/elpa/"</span><span class="o">)</span>

<span class="o">(</span><span class="s2">"gnu"</span> . <span class="s2">"http://elpa.gnu.org/packages/"</span><span class="o">)</span>

<span class="o">(</span><span class="s2">"marmalade"</span> . <span class="s2">"http://marmalade-repo.org/packages/"</span><span class="o">)))</span>
</pre>


<p>خوب گل سر سبد این مخازن اسمش <a title="Marmalade repo" href="http://marmalade-repo.org/" target="_blank">Marmalade</a> است که از <a title="یادداشت‌های بیت نیمسوز" href="http://cyberrabbits.net/" target="_blank">فرود</a> عزیز بابت معرفیش تشکر می‌کنم ;-). خوب بسته‌ها اضافه شد و کافیست بعد از باز کردن ایمکس کلید M + x را فشار دهیم‌. (M مخفف Meta است و منظور در اینجا کلید Alt و یا اگر نداریدش کلید Esc هست) و در اعلان ظاهر شده بنویسیم package-list-packages (اعلان ایمکس قابلیت Auto Completion دارد پس با Tab کارتان را در نوشتن دستوراتش راحت‌تر کنید). پس از مدتی انتظار لیستی از بسته‌های قابل نصب یا نصب شده روی سیستم‌تان نمایش داده می‌شود. نشانگر را روی هر بسته ببرید‌. Enter را فشار دهید تا توضیحاتش را بخوانید‌. اما فعلا بی‌خیال این بخش شوید و همراه من بیایید تا چند بستهٔ حیاتی به درد بخور را نصب کنیم:</p>
<p><a href="http://cx4a.org/software/auto-complete/" target="_blank"> <strong>Auto-complete:</strong></a></p>
<p>اولین نیاز من برای یک ادیتور به درد بخور همین قابلیت تکمیل خودکار متن است‌. اول این که سرعتم را بالا‌تر می‌برد‌. دوم هم این که خیالم را در خطاهای املایی در برنامه‌نویسی راحت‌تر می‌کند ;-) این می‌شود که در ایمکس دستور زیر را وارد می‌کنم M + x package-install RET auto-complete و بسته نصب می‌شود‌. آن‌وقت فایل ‎.emacs را باز می‌کنم و خط‌های زیر را به آن اضافه می‌کنم‌:</p>
<pre class="code literal-block"><span></span><span class="p">;;</span>Start Auto-complete config

<span class="o">(</span>add-to-list <span class="s1">'load-path "~/.emacs.d/elpa/auto-complete-1.4")</span>

<span class="s1">(require '</span>auto-complete-config<span class="o">)</span>

<span class="o">(</span>add-to-list <span class="err">'</span>ac-dictionary-directories <span class="s2">"~/.emacs.d/elpa/auto-complete-1.4/dict"</span><span class="o">)</span>

<span class="o">(</span>ac-config-default<span class="o">)</span>

<span class="p">;;</span>End Auto-complete config
</pre>


<p>حالا عملا کار باید تمام شده باشد‌. اما یک مشکل وجود دارد که حدود دو سه ساعت وقتم را نابود کرد تا بفهمم از کجاست‌. بستهٔ Auto-complete برای نمایش دادن آن جعبهٔ خوشگلش برای کلمات پیشنهادی از یک بستهٔ دیگر به اسم popup استفاده می‌کند که خوشبختانه مدیر بسته‌ها هم این بسته را به عنوان پیش‌نیاز نصب می‌کند‌. اما در یک پوشهٔ جدا‌. حالا بستهٔ Auto-complete هر چه می‌گردد در پوشهٔ خودش نمی‌تواند popup.el را پیدا کند‌. این می‌شود که می‌نویسیم:</p>
<pre class="code literal-block"><span></span>cp ~/emacs.d/elpa/popup/popup.el ~/emacs.elpa/auto-complete-1.4
</pre>


<p>حالا این بسته نصب شده و در همه‌جا فعال است‌. این بسته در شاخهٔ dict در محل نصبش یک سری فایل با شناسهٔ Modeهای مختلف ایمکس دارد که در واقع لغت‌های پیشنهادی را از آن‌جا می‌یابد‌. لغات در بعضی از دیکشنری‌های مخصوصا برای C+‎+‎ خیلی ناقص است‌. می‌توانید دستی فایل را باز کنید و کاملش کنید‌.</p>
<p><a href="https://github.com/bbatsov/zenburn-emacs" target="_blank"><strong>zenburn-theme:</strong></a></p>
<p>این تم را <a title="تغییر پوسته Emacs با بسته color-theme" href="http://shahinism.com/blog/1391/01/12/%d8%aa%d8%ba%db%8c%db%8c%d8%b1-%d9%be%d9%88%d8%b3%d8%aa%d9%87-emacs-%d8%a8%d8%a7-%d8%a8%d8%b3%d8%aa%d9%87-color-theme/" target="_blank">قبلا</a> معرفی کرده‌ام‌. برای نصبش می‌نویسیم M + x package-install RET zenburn-theme RET و کار تمام است. حالا برای لود شدن این تم به صورت پیش‌فرض خطوط زیر را به ‎.emacs اضافه می‌کنیم:</p>
<pre class="code literal-block"><span></span><span class="p">;;</span>Start: config theme

<span class="o">(</span>add-to-list <span class="s1">'custom-theme-load-path "~/.emacs.d/elpa/zenburn-theme-1.5")</span>

<span class="s1">(load-theme '</span>zenburn t<span class="o">)</span>

<span class="p">;;</span>End: config theme
</pre>


<p>این تم در حالت گرافیکی به راحتی لود می‌شود‌. اما در حالت متنی emacs -nw به خاطر کم بودن رنگ‌ها ممکن است مشکل داشته باشید‌. برای حل این مشکل فعلا الالحساب این خط را به فایل ‎.bashrc یا ‏‏‎.zshrc تان اضافه کنید تا بعدا در یک پست مجزا در موردش توضیح دهم:</p>
<pre class="code literal-block"><span></span><span class="nb">export</span> <span class="nv">TERM</span><span class="o">=</span>xterm-256color
</pre>


<p>بعله‌. الان دیگر تمتان هم خیلی میزان است و همه‌جا قابل استفاده ;-)</p>
<p>php-mode, <a href="http://code.google.com/p/js2-mode/" target="_blank">js2-mode</a>, css-mode:</p>
<p>مهم‌ترین چیز برای برنامه‌نویس‌هایی که می‌خواهند از ایمکس برای توسعهٔ پروژه‌هایشان استفاده کنند همین مد‌های ایمکس هستند‌. در اینجا سه مد مختلف برای زبان‌های php, javascript و CSS معرفی شده‌اند که به نظرم خیلی عالی هستند‌. مخصوصا js2-mode که یک IDE به تمام معنا برایتان مهیا می‌کند‌! برای نصب که دیگر باید بدانید چه کار کنید‌. هیچ خطی هم نیاز نیست به ‎.emacsتان اضافه کنید‌. تنها برای رفتن به هر مد کافیست تایپ کنید M + x mode-name RET همین. فعلا برای قسمت اول کافیست‌. در قسمت بعد با چیز‌های هیجان‌انگیز‌تری بر می‌گردیم D:</p>
</div>
    </div>

    <div class="text-center">
                    <a class="btn btn-success" href="posts/wp/wqy-ngry-shkhsy-szy-emacs-qsmt-wl/#disqus_thread" data-disqus-identifier="cache/posts/wp/wqy-ngry-shkhsy-szy-emacs-qsmt-wl.html">Comments</a>


    </div>

    </article><article class="h-entry post-text"><div class="text-center">

        <h1 class="p-name entry-title"><a href="posts/wp/dnlwd-tmm-khshy-simpledesktop-b-sh-kht-dr-bash/" class="u-url">دانلود تمام عکس‌های SimpleDesktop با سه خط در Bash!</a></h1>
            شاهین
      <a href="posts/wp/dnlwd-tmm-khshy-simpledesktop-b-sh-kht-dr-bash/" rel="bookmark"><time class="published dt-published" datetime="2012-06-21T04:57:20+04:30" title="2012-06-21 04:57">2012-06-21 04:57</time></a>
    </div>
    <div class="e-content entry-content">
    <div>
<pre class="code literal-block"><span></span>http://simpledesktops.com/download/?desktop<span class="o">=</span>301
</pre>


<p>همهٔ آدرس جز عدد ۳۰۱ در انتهایش ثابتند و آن عدد از ۱ یکی‌‌یکی زیاد می‌شود‌. هر کدام از این عکس‌ها پس از درخواست شدنشان به آدرس یکی از عکس‌های روی سرور اشاره می‌کنند‌. خوب دیگر داستان از این هم ساده‌تر می‌شود؟ کافیست که اراده کنیم و با یک حلقهٔ for اعداد را تولید کنیم و جلوی آدرس ثابتمان بنویسیم‌. پس می‌شود این:</p>
<pre class="code literal-block"><span></span><span class="ch">#!/usr/bin/bash</span>



<span class="k">for</span> i in <span class="o">{</span>1..5000<span class="o">}</span>

<span class="k">do</span>

<span class="nb">echo</span> <span class="s2">"http://simpledesktops.com/download/?desktop=</span><span class="nv">$i</span><span class="s2">"</span>

<span class="k">done</span>
</pre>


<p>به بش گفتیم که هر بار یک عدد از یک تا پنج‌هزار (البته به ترتیب از کم به زیاد) تولید کن و در خروجی چاپ کن‌. یک بار اسکریپت را ران می‌کنیم و ... بعله خروجی دقیقا همان آدرس‌هایی که خواستیم می‌شود‌:</p>
<pre class="code literal-block"><span></span>...

http://simpledesktops.com/download/?desktop<span class="o">=</span>4995

http://simpledesktops.com/download/?desktop<span class="o">=</span>4996

http://simpledesktops.com/download/?desktop<span class="o">=</span>4997

http://simpledesktops.com/download/?desktop<span class="o">=</span>4998

http://simpledesktops.com/download/?desktop<span class="o">=</span>4999

http://simpledesktops.com/download/?desktop<span class="o">=</span>5000
</pre>


<p>حالا کافیست در اسکریپت به جای echo که هر چه جلویش باشد را در خروجی استاندارد چاپ می‌کند یک wget بنویسیم تا آدرس‌های جلویش را دانلود کند‌. اما نه‌! در اولین اقدام تیرمان خطا رفت‌! در سرور‌های Apache یک فایلی هست به اسم ‎.htaccess و همان‌طور که از نامش معلوم است کارش این است که کنترل کند چه کسی به کجا دسترسی دارد‌. هر نرم‌افزاری هم که به یکی از این سرور‌ها درخواست بدهد موظف است اول خودش را معرفی کند‌. خوب wget که از نامش فساد می‌بارد عموما از طرف چنین سایت‌هایی مسدود می‌شود‌.</p>
<p>این است که باید به wget بگوییم نقابش را به صورت بزند و دوباره اقدام کند‌. اینبار اسکریپتمان این شکلی می‌شود‌:</p>
<pre class="code literal-block"><span></span><span class="ch">#!/usr/bin/bash</span>



<span class="k">for</span> i in <span class="o">{</span>100..5000<span class="o">}</span>

<span class="k">do</span>

wget -U <span class="s2">"Mozilla/5.0 (Windows NT 5.1; rv:10.0.2) Gecko/20100101 Firefox/10.0.2"</span> <span class="s2">"http://simpledesktops.com/download/?desktop=</span><span class="nv">$i</span><span class="s2">"</span>

<span class="k">done</span>
</pre>


<p>و بعله‌! ران می‌کنیم و خیلی خوشکل اقدام به دانلود عکس‌ها می‌کنیم ;-)</p>
<p><strong>پی‌نوشت:</strong> در حین جستجو برای نوشتن این اسکریپت کشف کردم که قبلا اسکریپت‌هایی با Python یا PHP هم برای شیره‌کشی از این سایت نوشته شده‌. ولی این اسکریپت از همه‌شان کوتاه‌تر بود و خوب سادگی زیبـــــاست ;-)</p>
<p><strong>پی‌نوشت ۲</strong>: دیگر خودتان حواستان باشد که ‎#!‎/‎usr/bin/bash آدرس bash سیستم من است و می‌توانید با یک whereis bash پیدا کنید که مال شما کجاست‌!</p>
<p><span style="color: #ff0000;"><strong>پی‌نوشت ۳:</strong> ممکنه بعد از دانلود متوجه بشین که فایل‌های دانلودی با یه همچین اسمایی ذخیره می‌شن index.html?desktop=100 اتفاقی که برای من روی سرور آرچ افتاد‌. عجیب بود که اسم فایل درست رو می‌دید ولی خودش از رو این Querystring ساخته شده اسم رو می‌نوشت‌. پس از جستجو کشف کردم که باید آپشن زیر هم به wget اضافه بشه:</span></p>
<p>```bash</p>
<p>--content-disposition</p>
<p>```</p>
</div>
    </div>

    <div class="text-center">
                    <a class="btn btn-success" href="posts/wp/dnlwd-tmm-khshy-simpledesktop-b-sh-kht-dr-bash/#disqus_thread" data-disqus-identifier="cache/posts/wp/dnlwd-tmm-khshy-simpledesktop-b-sh-kht-dr-bash.html">Comments</a>


    </div>

    </article><article class="h-entry post-text"><div class="text-center">

        <h1 class="p-name entry-title"><a href="posts/wp/trmyntwr-akhrlzmn-trmynlh/" class="u-url">ترمیناتور، آخر‌الزمان ترمینال‌ها</a></h1>
            شاهین
      <a href="posts/wp/trmyntwr-akhrlzmn-trmynlh/" rel="bookmark"><time class="published dt-published" datetime="2012-06-20T09:34:13+04:30" title="2012-06-20 09:34">2012-06-20 09:34</time></a>
    </div>
    <div class="e-content entry-content">
    <div>
<p>ترمینال قبلی‌ای که استفاده کرده بودم Konsole بود‌! قبل‌تر‌ها هم (در دوران جاهلیت‌) از Terminal گنوم استفاده کرده بودم‌. ولی همیشه یک چیزی کم بود‌. آدم احساس خفگی می‌کرد‌. ابزار‌هایی مثل Screen بودند که کمک کننده باشند ولی خیلی از کار‌ها مثل قاچ کردن (!) صفحه به دو بخش. و یا این که ترمینال کانفیگ شده‌ام در تمام میز‌کار‌ها به یک شکل نشان داده شود‌ به نظرم خیلی مهم‌تر از ترنسپرنت شدن ترمینال می‌آمدند‌.</p>
<p>این شد که از هفت هشت ماه پیش (بخصوص پس از مهاجرت به Awesome) شروع به استفاده از <a title="Terminator official website" href="http://software.jessies.org/terminator/" target="_blank">Terminator</a> کردم‌. قابلیت Tabسازی و Split کردن صفحه‌اش با این کلید‌های میانبری که جدیدا کشف کردم‌، واقعا به سرعت کار کمک می‌کنند‌. (برای دیدن میانبر‌ها از Prefrences تب Keybinding را باز کنید)</p>
<p>همچنین قابلیت‌های دیگری هم مثل پشتیبانی از یونیکد (که به درد ما نخورد) نیز می‌تواند جالب توجه باشد‌.</p>
<p style="text-align: center;"><img class="aligncenter" title="نمونه‌ای از کار با Terminator" src="http://dl.dropbox.com/u/25017694/Blog-photos/Terminator.png" alt="نمونه‌ای از کار با Terminator" width="442" height="332"></p>

<p></p>
</div>
    </div>

    <div class="text-center">
                    <a class="btn btn-success" href="posts/wp/trmyntwr-akhrlzmn-trmynlh/#disqus_thread" data-disqus-identifier="cache/posts/wp/trmyntwr-akhrlzmn-trmynlh.html">Comments</a>


    </div>

    </article>
</div>
        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-20.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-18.html" rel="next">Older posts</a>
            </li>
        </ul></nav><script>var disqus_shortname="shahinism";(function(){var a=document.createElement("script");a.async=true;a.src="//"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script>
</div>
    </div>
    <!--End of body content-->
  </div>

  <footer id="footer" class="site-footer">
    Contents © 2016         <a href="mailto:me@5hah.in">شاهین</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         
    
  </footer><script src="assets/js/all-nocdn.js"></script><script>$('a.image-reference:not(.islink) img:not(.islink)').parent().colorbox({rel:"gal",maxWidth:"100%",maxHeight:"100%",scalePhotos:true});</script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
  </script><!-- end fancy dates -->
</body>
</html>

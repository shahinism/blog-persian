<!DOCTYPE html>
<html prefix="
og: http://ogp.me/ns#
article: http://ogp.me/ns/article#
" dir="rtl" lang="fa">
<head>
<meta charset="utf-8">
<base href="http://5hah.in/index-85.html">
<meta name="description" content="Sometimes you gotta run before you can walk ">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>شاهین (صفحهٔ ارسال‌های قدیمی 85) | شاهین</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta content="#5670d4" name="theme-color">
<link rel="alternate" type="application/rss+xml" title="RSS" href="rss.xml">
<link rel="canonical" href="http://5hah.in/index-85.html">
<link rel="icon" href="favicon.ico" sizes="32x32">
<link rel="prev" href="index-86.html" type="text/html">
<link rel="next" href="index-84.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">متن اصلی را نادیده بگیر</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="http://5hah.in/">

                <span id="blog-title">شاهین</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href=".">Home</a>
                </li>
<li>
<a href="stories/about-me.html">About</a>
                </li>
<li>
<a href=".">Resume</a>
                </li>
<li>
<a href="archive.html">Archives</a>
                </li>
<li>
<a href="categories/index.html">Tags</a>
                </li>
<li>
<a href="rss.xml">RSS</a>

                
            </li>
</ul>
<!-- Custom search --><form method="get" id="search" action="http://duckduckgo.com/" class="navbar-form pull-left">
<input type="hidden" name="sites" value="http://5hah.in/"><input type="hidden" name="k8" value="#444444"><input type="hidden" name="k9" value="#D51920"><input type="hidden" name="kt" value="h"><input type="text" placeholder="جستجو…" maxlength="255" name="q"><input id="searchsubmit" type="submit" value="DDG Search">
</form>
<!-- End of custom search -->


            <ul class="nav navbar-nav navbar-right"></ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
<div class="postindex">
    <article class="h-entry post-text"><header><h1 class="p-name entry-title"><a href="posts/new/apples-30th-birthdaywp.html" class="u-url">اپل ۳۰ ساله و آی پاد و آی تونز .. date: 2007/9/26 17:58:39</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">
                شاهین آزاد
            </span></p>
            <p class="dateline"><a href="posts/new/apples-30th-birthdaywp.html" rel="bookmark"><time class="published dt-published" datetime="2015-11-01T00:00:00+03:30" title="2015-11-01 00:00">2015-11-01 00:00</time></a></p>
                <p class="commentline">            <a href="posts/new/apples-30th-birthdaywp.html#disqus_thread" data-disqus-identifier="cache/posts/new/apples-30th-birthday.wp.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <div>
<p></p>
<p>داشتم وبلاگ تک کرانچ رو می خوندم که تو این پستش فهمیدم که اپل امروز سی
ساله شد و تصمیم گرفتم در باره ی ابزارهای ارئه شده از این شرکت مقاله ای
بنویسم :</p>
<p>در داخل ایران بیشتر کاربران از ویندوز استفاده می کنند و عده ی بسیار کمی
هم از توزیعهای مختلف لینوکس استفاده می کنند ولی در کشورهای اروپایی و
آمریکا یکی از جدیترین رقیبان برای ویندوز سیستم عامل مکینتاش از اپل هست
که بر روی سیستم های مخصوص اپل به صورت یک کامپیوتر کامل خریداری میشه و
قابل اسستفاده است یکی از برتریهای این سیستمها قدرت گرافیکی این سیستم ها
می باشد که برای کارهای گرافیکی و میکس و مونتاژ و نمایش انواع فیلم ها
استفاده می شود که هم اکنون در استودیوهای هالیوود استفاده های زیادی از
این کامپیوتر ها می شود . در کنار این سیستم ها اپل به تولید ابزارهای
مختلفی می پردازد که از جمله ی معروف ترین آنها پلیر ipod هست که در مدت
زمان کمی به سرعت در بین جهانیان معروف شد که از جمله برتریهای این پلیر
توانایی دانلود موسیقی از سایت اینترنتی می باشد . از دیگر محصولات ارائه
شده از این شرکت می توان به نرم افزار فروشگاهی itunes ارائه کرد که طبق
گفته ی مدیر شرکت اپل استیو جابز طبق نظر سنجی های انجام شده به یکی از
محبوبترین نرم افزار های تحت ویندوز کاربران تبدیل شده .</p>
<p>اما سر انجام جدیدترین محصول شرکت اپل که طبق گزارش عصرونه در ۲۹ ژوئن
امسال به صورت محدود پخش میشه هست که بر اساس سازندگان گوشی ۵ سال از تمامی
گوشی های حال حاضر دنیا جلوتر هست که اینجوری که من فهمیدم این گوشی علاوه
بر لمسی بودن از نوعی فناوری خاص استفاده میکنه که بر خلاف دیگر گوشی های
لمسی برخورد های سطحی دست بر روی گوشی را فیلتر می کند و تنها به فشارهایی
عمل می کنند که به مقصود انجام عمل فشار داده شده است از قدرتهای دیگر این
گوشی میشه به قدرت بالای گرافیکی LCD نسبتا بزرگ آن اشاره کرد که اینجور که
از تصاویر ارائه شده معلومه فوق العاده شفاف است . به تازگی ویدئویی
تبلیغاتی برای این گوشی آماده شده که می توانید از این لینک آن را مشاهده
کنید .</p>
<p>در پایان هم شما رو به خواندن مطالبی چند در مورد شرکت اپل و محصولاتش در
بلاگستان فارسی و انگلیسی منتشر شده جلب می کنم :</p>
<p>استیو جابز : ویندوز جهنم است</p>
<p>روباتی که با ipod می رقصی</p>
<p>منتظر آی پاد باشید در همین ماه</p>
<p>اپل ۳۰ ساله شد (انگلیسی)</p>
<p>وبلاگ استیو جابز مدیر شرکن گوگل (انگلیسی)</p>
<p>ابن همه انتظار برای ۴ میلیون</p>
</div>
    </div>
    </article><article class="h-entry post-text"><header><h1 class="p-name entry-title"><a href="posts/new/anky-card-generatorwp.html" class="u-url">تولید خودکار فلش کارت انگلیسی به فارسی برای Anki با کمی شل</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">
                شاهین آزاد
            </span></p>
            <p class="dateline"><a href="posts/new/anky-card-generatorwp.html" rel="bookmark"><time class="published dt-published" datetime="2015-11-01T00:00:00+03:30" title="2015-11-01 00:00">2015-11-01 00:00</time></a></p>
                <p class="commentline">            <a href="posts/new/anky-card-generatorwp.html#disqus_thread" data-disqus-identifier="cache/posts/new/anky-card-generator.wp.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <div>
<p></p>
<p>حقیقتش آدم خیلی تنبلی هستم‌. آن‌قدر تنبل که گاها وقتی می‌توانم کارم را
فقط با یک کمی کار بیشتر راحت کنم‌، کالیبر بالا مانع می‌شود و آن کار را
هر چقدر هم تکراری و خسته کننده باشد انجام می‌دهم‌ (دروغ می‌گویم‌، حالش
نباشد بی‌خیالش می‌شوم ;-)) دیروز در حین خواندن یک کتاب یودم که دیدم حجم
لغت‌های انگلیسی‌ای که نمی‌دانم، در جملات کتاب دارد غوغا می‌کند‌. قبلا به
مدل‌های مختلف سعی کرده‌ام که این لغت‌ها را یاد بگیرم‌. روی کاغذ ردیفشان
کرده‌ام‌، جعبهٔ فلش کارت مقوایی ساخته‌ام‌‌، چه می‌دانم روی یک تکه کاغذ
نوشته‌ام‌! ولی هیچ‌کدام‌شان برایم عادت نشده‌اند‌. این می‌شود که کلا بعد
از مدتی بی‌خیال این روش‌ها می‌شوم‌. اما مدتی است که دوباره به Anki روی
آورده‌ام‌. آن وقت‌ها نتوانسته بودم که نصبش کنم و خورده بود توی ذوقم‌.
ضمن این که بعد‌ها هم پس از نصب چند باگ کوچک به فنایم داده بود‌. ولی الان
مدتی می‌شود که با هم رفیق شده‌ایم‌. ولی خوب چون همانطور که قبلا ذکرش رفت
کالیبر بالاست‌، خودم حال کارت درست کردن ندارم. این است که از فلش
کارت‌های خوبی که ایمان آماده می‌کند استفاده می‌کنم‌.</p>
<p>ولی خوب‌، ایمان هم کالیبرش بالاست‌. شاید هم کمال همنشین… این است که بعد
از یک مدتی که خیلی ذوق داشت و همه مدل فلش کارت آماده می‌کرد‌، چون سختش
بود‌، کم کم فرمت‌های آماده شده را آنقدر کم کرد که این اواخر دیگر تنها
kvtml آماده می‌کرد‌. فرمتی که آماده کردنش خیلی آسان‌تر از باقی قضایا
بود‌، ولی مال نرم‌افزار بسیار به درد نخور kwordquiz میزکار KDE بود! این
بود که دو سه هفته پیش‌، این ایده به سرم افتاد که اول کمی از کار ایمان کم
کنم‌! بندهٔ خدا زحمت زیادی می‌کشد و به هر حال حیف است که فقط مصرف کننده
باشم‌. این شد که با پایتون اسکریپتی برایش نوشتم که kvtml‌ها را خیلی راحت
به anki تبدیل کند‌. ذکر خیر این اسکریپت را خودش کرده‌.</p>
<p>معنی این اسکریپت قبلی این بود که حالا حالاها خوراک اضافه خواهم داشت‌.
ولی حقیقتش کلمه‌های ایمان‌، حداقل تا این‌جایی که من دیده‌ام‌، اکثریتشان‌
در سطح من نیست‌. اگر هم باشد من خودم خیلی خیلی بیشتر از آن‌ها را در
کتاب‌ها و مطالبی که روزانه می‌خوانم می‌بینم! مساله این‌جاست که از روی
تنبلی‌، فقط به زور دیکشنری (mdic روی میزکار، google translate روی
اینترنت و mobidic روی موبایل) ترجمه‌شان می‌کنم و بعد از چند جمله
معنی‌شان از یادم می‌پرد‌. خسته کننده است‌. این طور نیست؟</p>
<p>خوب کمی با خودم دو دو تا چهارتا می‌کنم و یادم می‌آید که روی آن اسکریپت
تبدیل kvtml دوست خوبم anki یک فرمت متنی خیلی تمیزی را به عنوان ورودی
می‌گرفت و فلش کارتش می‌کرد‌. (اصلا آن اسکریپت بر همین مبنا کار می‌کند)
یک همچین نحوی:</p>
<pre class="code bash"><a name="rest_code_674bffc3721349aa99c3a0ac21f5cc7d-1"></a>English<span class="p">;</span>انگلیسی
</pre>
<p>که البته می‌توان بهش فایل‌های چند رسانه‌ای هم چسباند و یا با HTML خوشگلش
کرد‌. خوب این یعنی می‌شود هر وقت که کلمه‌ای ترجمه می‌کنم‌، ترمینالم را
باز کنم و مثلا از یک همچین دستوری استفاده کنم:</p>
<pre class="code bash"><a name="rest_code_5b78db08492b4ea99674c44086279204-1"></a><span class="nb">echo</span> <span class="s2">"English;انگلیسی"</span> <span class="p">&amp;</span>gt<span class="p">;&amp;</span>gt<span class="p">;</span> deck.txt
</pre>
<p>یا شایدم همیشه یک ادیتور زیر دستم باز بگذارم‌! ولی نه فکر کنم همان اولی
بهتر است‌ (چون ترمینال در دسترس‌تر است). ولی خوب این این‌قدر‌ها هم خوشگل
نیست‌. ضمن این که مثل فلش کارت‌های ایمان صدا و عکس ندارد‌. حالا عکس به
کنار‌، تلفظ برای من از نان شب واجب‌تر است‌. بعضی کلمات آن‌قدر به چشمم
سخت می‌آیند که اصلا نمی‌خوانمشان D:</p>
<p>خوب تلفظ را هم می‌شود مشکلش را با espeak حل کرد‌ (هر چند صدای روباتیکش
خیلی نچسب است!). جهنم‌، شروع می‌کنم به نوشتن یک اسکریپت‌. این ایده‌، در
میانهٔ راه آن‌قدر این در و آن در می‌خورد‌. آن‌قدر از ابزار‌ها و وسایلی
که بقیه نوشته‌اند توش استفاده می‌شود که می‌شود اسکریپتی که اگر اینترنت
دم دستش باشد‌، خودش عبارت وارد شده را با استفاده از google translate
ترجمه می‌کند و تلفظ google translate را می‌چسباند تنگش و کار را تمام
می‌کند‌.</p>
<p>چون می‌دانم همه حوصلهٔ خواندن نکات فنی اسکریپت را ندارند‌، این پست را در
دو بخش می‌نویسم‌. بخش اول‌، برای کاربرانی که فقط می‌خواهند از آن استفاده
کنند‌، و بخش دوم برای اشاره به نکات فنی کار ;-)</p>
<h5></h5>
<p>معرفی:</p>
<p>این اسکریپت برای اجرا به fribidi, ffmpeg, curl و html2text نیاز دارد‌.
سه تای اول که عموما وضع و حال‌شان مشخص است‌. اما این آخری یک اسکریپت
پایتون است که می‌توانید از مخازن‌تان نصب کنید‌. ولی من پیشنهاد می‌کنم به
جای آن distribute یا pysetuptools پایتون را نصب کنید و پس از آن با دستور
زیر سر و ته این اسکریپت را هم بیاورید:</p>
<pre class="code bash"><a name="rest_code_6316574c0e8a4fcfb23f9899c635c6b9-1"></a>sudo pip install html2text
</pre>
<p>دلیلش هم ساده است‌. مخازن پایتون خیلی سریع‌تر از مخازن توزیع‌تان به روز
می‌شوند و صد البته در آخر کار مدیریت این بسته‌ها با آن‌ها آسان‌تر است‌!
حالا اسکریپت را از این‌جا دانلود کنید و به صورت زیر چشم‌تان را به جمالش
روشن کنید:</p>
<pre class="code bash"><a name="rest_code_7aa90c3c8c8f4492a56d516540f69173-1"></a>chmod +x fcgenerator.sh
<a name="rest_code_7aa90c3c8c8f4492a56d516540f69173-2"></a>
<a name="rest_code_7aa90c3c8c8f4492a56d516540f69173-3"></a>./fcgenerator.sh -w <span class="s2">"Some english word"</span> -d firstDeck
</pre>
<p>مقدار Some english word که به اپراتور ‎-w نسبت داده شده‌، همان عبارت
انگلیسی‌ای است که می‌خواهیم ترجمه‌اش کنیم‌. مقدار firstDeck هم اسم
Deckای (مجموعه فلش کارت) که می‌خواهیم این لغت به آن اضافه شود است‌. اگر
اینترنت‌تان وصل است که برنامه مثل پلنگ کارش را انجام می‌دهد و فایل‌ها را
تولید می‌کند‌. اکر هم نه که می‌توانید به روش‌های دیگری کلمه را اضافه
کنید‌.</p>
<p>مثلا فرض کنید که شما از ترجمهٔ google translate حال نمی‌کنید‌. خوب راحت
است‌. کافی است که با استفاده از اپراتور ‎-t ترجمهٔ خودتان را به لغت
بچسبانید‌. همین‌طور می‌توانید به جای تلفظ گوگل‌، از espeak استفاده
کنید‌. برای این کار هم از اپراتور ‎-e استفاده می‌کنید. طرز کارش ساده
است‌، این‌طور نیست؟</p>
<p>بعد از اجرای فرمان بالا اسکریپت برای ما یک فایل firstDeck.txt و یک
دایرکتوری firstDeck.media ساخته‌. اگر کلمات دیگری هم داشتید و خواستید به
این فلش کارت اضافه کنید‌، کافیست به دایرکتوری که این فایل‌ها در آن قرار
دارند بروید و فقط مقدار ‎-w دستور را با کلمهٔ جدید‌تان عوض کنید‌.</p>
<p>حالا نوبت نصب Deck جدید‌تان روی Ankiاست‌. اگر Deck‌های شما هم در مسیر
‎~/.anki/decks قرار دارد (اگر توزیع‌تان خوشمزگی نکرده و جای دیگر نریخته
باشد‌، بعید می‌دانم این مسیر فرق کند) می‌توانید با دستور زیر دایرکتوری
مدیا را در این مسیر کپی کنید:</p>
<pre class="code bash"><a name="rest_code_a4ca6791dae44db6ba9a78ddbb6a8769-1"></a>./fcgenerator.sh -i firstDeck
</pre>
<p>اگر هم نه که دستی کپی کنید! حالا Anki را باز کنید‌ و از منوی File گزینهٔ
Import را انتخاب کنید‌. در قسمت نام Deck همان چیزی را بنویسید که برای
اپراتور ‎-d قرار دادید (در این‌جا firstDeck) و سپس فایل firstDeck.txt را
به آن بخورانید‌. تمام شد‌. فلش‌کارت‌های جدید‌تان آماده‌اند‌.</p>
<p>طرز کار اسکریپت خیلی ساده است‌. دیگر باقی‌اش به خودتان بستگی دارد که
چطور از آن استفاده می‌کنید‌. می‌توانید برای راحتی کار آن را به PATHتان
انتقال دهید و یا یک alias برای خیلی راحت‌تر شدنش تعریف کنید‌. یا حتی
می‌توانید یک اسکریپت کوچک دیگر بنویسید که برای لیستی از لغات این فرمان
را ایجاد کند و به صورت خودکار یک لیست بلند بالا از لغات + ترجمه +
تلفظ‌شان داشته باشید‌! البته جنبه هم در کنارش خوب است‌. با Google
طرفید‌. همچین هم زیاده روی نکنید که IPتان را به خاطر فرستادن درخواست‌های
زیادی بلاک کند‌، یا کلا در گوگل ترنسلیت را گل بگیرد! ها در ضمن‌،
می‌توانید با استفاده از ‎-T (به چه زبانی) و ‎-F (از چه زبانی) به جای
حالت پیش‌فرض انگلیسی به فارسی از زبان‌های دیگر هم استفاده کنید.</p>
<h5></h5>
<p>چطور کار می‌کند؟</p>
<p>خوب اکثر دستورات اگر سواد شل اسکریپتینگ داشته باشید‌، سر راست‌اند‌. من
در این‌جا فقط به چیز‌های جالبی که از کد‌های دیگران بهره گرفتم اشاره
می‌کنم‌. یکی از خوشگل‌ترین‌شان برایم این تابع بود:</p>
<pre class="code bash"><a name="rest_code_e5fb83ebe2f24ef980301161f570ae65-1"></a><span class="k">function</span> deps<span class="o">(){</span>
<a name="rest_code_e5fb83ebe2f24ef980301161f570ae65-2"></a>
<a name="rest_code_e5fb83ebe2f24ef980301161f570ae65-3"></a><span class="nv">DEPENDENCIES</span><span class="o">=</span><span class="nv">$@</span>
<a name="rest_code_e5fb83ebe2f24ef980301161f570ae65-4"></a>
<a name="rest_code_e5fb83ebe2f24ef980301161f570ae65-5"></a><span class="nv">deps_ok</span><span class="o">=</span>YES
<a name="rest_code_e5fb83ebe2f24ef980301161f570ae65-6"></a>
<a name="rest_code_e5fb83ebe2f24ef980301161f570ae65-7"></a><span class="k">for</span> dep in <span class="nv">$DEPENDENCIES</span>
<a name="rest_code_e5fb83ebe2f24ef980301161f570ae65-8"></a>
<a name="rest_code_e5fb83ebe2f24ef980301161f570ae65-9"></a><span class="k">do</span>
<a name="rest_code_e5fb83ebe2f24ef980301161f570ae65-10"></a>
<a name="rest_code_e5fb83ebe2f24ef980301161f570ae65-11"></a><span class="k">if</span> ! which <span class="nv">$dep</span> <span class="p">&amp;</span>amp<span class="p">;&amp;</span>gt<span class="p">;</span>/dev/null<span class="p">;</span> <span class="k">then</span>
<a name="rest_code_e5fb83ebe2f24ef980301161f570ae65-12"></a>
<a name="rest_code_e5fb83ebe2f24ef980301161f570ae65-13"></a><span class="nb">echo</span> <span class="s2">"</span><span class="nv">$dep</span><span class="s2"> is not installed. please install it and try again."</span>
<a name="rest_code_e5fb83ebe2f24ef980301161f570ae65-14"></a>
<a name="rest_code_e5fb83ebe2f24ef980301161f570ae65-15"></a><span class="nv">deps_ok</span><span class="o">=</span>NO
<a name="rest_code_e5fb83ebe2f24ef980301161f570ae65-16"></a>
<a name="rest_code_e5fb83ebe2f24ef980301161f570ae65-17"></a><span class="k">fi</span>
<a name="rest_code_e5fb83ebe2f24ef980301161f570ae65-18"></a>
<a name="rest_code_e5fb83ebe2f24ef980301161f570ae65-19"></a><span class="k">done</span>
<a name="rest_code_e5fb83ebe2f24ef980301161f570ae65-20"></a>
<a name="rest_code_e5fb83ebe2f24ef980301161f570ae65-21"></a><span class="k">if</span> <span class="o">[[</span> <span class="s2">"</span><span class="nv">$deps_ok</span><span class="s2">"</span> <span class="o">==</span> <span class="s2">"NO"</span> <span class="o">]]</span><span class="p">;</span> <span class="k">then</span>
<a name="rest_code_e5fb83ebe2f24ef980301161f570ae65-22"></a>
<a name="rest_code_e5fb83ebe2f24ef980301161f570ae65-23"></a><span class="nb">echo</span> -e <span class="s2">"Unmet dependencies ^"</span>
<a name="rest_code_e5fb83ebe2f24ef980301161f570ae65-24"></a>
<a name="rest_code_e5fb83ebe2f24ef980301161f570ae65-25"></a><span class="nb">echo</span> -e <span class="s2">"Aborting!"</span>
<a name="rest_code_e5fb83ebe2f24ef980301161f570ae65-26"></a>
<a name="rest_code_e5fb83ebe2f24ef980301161f570ae65-27"></a><span class="nb">exit </span>1
<a name="rest_code_e5fb83ebe2f24ef980301161f570ae65-28"></a>
<a name="rest_code_e5fb83ebe2f24ef980301161f570ae65-29"></a><span class="k">else</span>
<a name="rest_code_e5fb83ebe2f24ef980301161f570ae65-30"></a>
<a name="rest_code_e5fb83ebe2f24ef980301161f570ae65-31"></a><span class="k">return</span> 0
<a name="rest_code_e5fb83ebe2f24ef980301161f570ae65-32"></a>
<a name="rest_code_e5fb83ebe2f24ef980301161f570ae65-33"></a><span class="k">fi</span>
<a name="rest_code_e5fb83ebe2f24ef980301161f570ae65-34"></a>
<a name="rest_code_e5fb83ebe2f24ef980301161f570ae65-35"></a><span class="o">}</span>
</pre>
<p>خوب می‌دانم چیز ساده‌ای است. ولی حقیقتش من عقلم نمی‌رسید که می‌توان به
این خوشگلی پیش‌نیاز‌های اسکریپت را بررسی کرد‌. این اسکریپت را از این
لینک برداشتم و کمی دستکاری‌اش کردم تا به اسکریپت من بیاید‌.</p>
<p>بخش بعدی ماجرا‌، هیولا‌ترین قسمت اسکریپت است‌. Google مثل همیشه
احمق‌بازی در آورده و ما را از داشتن یک API ساده محروم کرده‌. ولی خوب این
مرحمت گوگل باعث نشده که این دوست ندیده و نشنیدهٔ عزیزمان دست از انگولک
گوگل و نجات ما بردارد‌.</p>
<pre class="code bash"><a name="rest_code_e4a679b6654f493eb2ebda2ad01d9791-1"></a><span class="nv">result</span><span class="o">=</span><span class="k">$(</span>curl -s -i --user-agent <span class="s2">""</span> -d <span class="s2">"sl=</span><span class="nv">$FROMT</span><span class="s2">"</span> -d <span class="s2">"tl=</span><span class="nv">$TARGETT</span><span class="s2">"</span> --data-urlencode <span class="s2">"text=</span><span class="nv">$WORD</span><span class="s2">"</span> http://translate.google.com<span class="k">)</span>
<a name="rest_code_e4a679b6654f493eb2ebda2ad01d9791-2"></a>
<a name="rest_code_e4a679b6654f493eb2ebda2ad01d9791-3"></a><span class="nv">encoding</span><span class="o">=</span><span class="k">$(</span>awk <span class="s1">'/Content-Type: .* charset=/ {sub(/^.*charset=["'</span><span class="se">\'</span><span class="s1">']?/,""); sub(/[ "'</span><span class="se">\'</span><span class="s1">'].*$/,""); print}'</span> <span class="p">&amp;</span>lt<span class="p">;&amp;</span>lt<span class="p">;&amp;</span>lt<span class="p">;</span><span class="s2">"</span><span class="nv">$result</span><span class="s2">"</span><span class="k">)</span>
<a name="rest_code_e4a679b6654f493eb2ebda2ad01d9791-4"></a>
<a name="rest_code_e4a679b6654f493eb2ebda2ad01d9791-5"></a><span class="nv">TRANSLATION</span><span class="o">=</span><span class="k">$(</span>iconv -f <span class="nv">$encoding</span> <span class="p">&amp;</span>lt<span class="p">;&amp;</span>lt<span class="p">;&amp;</span>lt<span class="p">;</span><span class="s2">"</span><span class="nv">$result</span><span class="s2">"</span> <span class="p">|</span> awk <span class="s1">'BEGIN {RS="</span>
<a name="rest_code_e4a679b6654f493eb2ebda2ad01d9791-6"></a>
<a name="rest_code_e4a679b6654f493eb2ebda2ad01d9791-7"></a>
<a name="rest_code_e4a679b6654f493eb2ebda2ad01d9791-8"></a>
<a name="rest_code_e4a679b6654f493eb2ebda2ad01d9791-9"></a><span class="s1">"};/&amp;lt;span[^&amp;gt;]* id=["'</span><span class="se">\'</span><span class="s1">']?result_box["'</span><span class="se">\'</span><span class="s1">']?/'</span> <span class="p">|</span> html2text<span class="k">)</span>
</pre>
<p>مساله ساده است‌. ما صفحه وبی داریم که می‌توانیم در جای خاصی از آن بگوییم
که ترجمهٔ چه کلمه‌ای را می‌خواهیم و این صفحه در مقابل در جای خاص دیگری
از خودش ترجمهٔ کلمه را به ما نشان می‌دهد‌. اسم این صفحه
<a class="reference external" href="http://translate.google.com">http://translate.google.com</a> است که چون از متد GET (اگر درست یادم باشد)
استفاده می‌کند‌، می‌توان با تغییر متغیر‌هایش نتیجهٔ کلمات مختلف را در آن
دید‌. ضمن این که اضافه کنم که این دوستمان از روش جالبی برای پیدا کردن
این متد‌ها (غیر از نگاه کردن به URL استفاده کرده) که هر چند به نظرم
استفاده‌اش در این‌جا بی‌خود است‌، ولی کاربرد‌های باحال‌تری می‌توان برایش
پیدا کرد. فعلا برای فهمیدن ماجرا از زبان خودش به صفحه‌ای که در بالا گفتم
رجوع کنید‌!</p>
<p>در ادامه کافیست که از صفحه‌ای که گرفته‌ایم‌، آن المنت خاصی که می‌خواهیم
را جدا کنیم (جایی که ترجمه نشان داده می‌شود) و به html2text بخورانیم که
نهایتا فقط متن به ما نشان داده شود‌. ولی از آن‌جا که html2text فقط یک
فرمت یونیکد را می‌فهمد و فرمت کدینگ صفحهٔ نتیجهٔ گوگل با توجه به زبان
پاسخ متفاوت است (چرا؟) با استفاده از iconv سعی می‌کند که کدینگ درست را
به خوردش بدهد‌. و حالا چون نمی‌خواهد هر بار دستی وارد کند که از کدام
کدینگ تبدیل کن‌، با awk سر صفحه را می‌خواند و کدینگ صفحه را پیدا می‌کند
;-)</p>
<p>و آخرین بخش ماجرا مربوط می‌شود به دانلود صدا. برای این کار از این
اسکریپت کمک گرفتم‌. ولی چون نمی‌خواستم نتیجهٔ کار خیلی شلخته شود (دو
فرمت متفاوت در صورت استفاده از espeak و google translate در کنار هم) با
ffmpeg کلیه فرمت‌ها را به ‎.ogg تغییر دادم که آقایمان نیز از ما راضی
باشد.</p>
</div>
    </div>
    </article><article class="h-entry post-text"><header><h1 class="p-name entry-title"><a href="posts/new/aminus3-servicewp.html" class="u-url">فتوبلاگ شما دنیای شما .. date: 2007/7/11 15:53:59</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">
                شاهین آزاد
            </span></p>
            <p class="dateline"><a href="posts/new/aminus3-servicewp.html" rel="bookmark"><time class="published dt-published" datetime="2015-11-01T00:00:00+03:30" title="2015-11-01 00:00">2015-11-01 00:00</time></a></p>
                <p class="commentline">            <a href="posts/new/aminus3-servicewp.html#disqus_thread" data-disqus-identifier="cache/posts/new/aminus3-service.wp.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <div>
<p></p>
<p>تا حالا دلتون خواسته تا یه فتوبلاگ فوق العاده حرفه ای و زیبا که فناوری
آژاکس اون رو زیباتر هم کرده باشه به وبلاگتون پیوند بزنین . و حالا فکرش
رو بکنین که فضاش رایگان هم باشه و آدرس فتوبلاگتون هم یه ساب دامین مثل
دیگر سیستم های وبلاگ باشه . من خیلی شاهد این بودم که دوستانی فتوبلاگشون
رو روی سیستم همای وبلاگ ایرانی راه انداختن یعنی فقط جای مطلب عکس پست می
کردن اما هیچ وقت ندیدم از اونا استقبال خوبی به عمل بیاد . سایت آمینوس ۳
با شعار فتوبلاگ شما دنیای شما اقدام به ارائه ی خدمات رایگان برای طراحی
فتو بلاگ کرده که الحق و الانصاف تو خدماتش یک بوده و از طرفی این که کشور
ایران رو تو لیست کشورهای ثبت نامیش داره و بلاگهای جالبی هم با ملیت ایرای
در ائن ایجاد شده که در زیر لیست کاملی رو ازشون می بینین :</p>
<p dir="rtl" align="justify"></p>
<p>Soodabeh · kaveh · Behrooz · Gomnam · Alborz · Adam آدم · Abbas · Taimaz
· lover · mm · Mo · Mohammad Namazi · Kami · mehdi · fereshteh · CaCTuS
· mahdi · Ehsan · Zamyad · Lilo · marjan · hamidreza · Sina Ahmadi ·
Puya · shahab · Baloot · Ostad · Ardeshir Tayebi · par · sina · Amir ·
Bahare · Silence · hamed · eksir · Hamed · Mehdi · Ophthalmia · RahiL ·
Sahand · Aha · sonia · Lemonasion · Mehdi · ebham · Hamid · تیم طراحی و
گرافیک ایران · iyan · Omid · katauon · Mohsen</p>
</div>
    </div>
    </article>
</div>
        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-86.html" rel="prev">ارسال‌های جدید‌تر</a>
            </li>
            <li class="next">
                <a href="index-84.html" rel="next">پست‌های قدیمی‌تر</a>
            </li>
        </ul></nav><script>var disqus_shortname="shahinism";(function(){var a=document.createElement("script");a.async=true;a.src="//"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2015         <a href="mailto:me@5hah.in">شاهین آزاد</a> - Powered by         <a href="http://getnikola.com" rel="nofollow">Nikola</a>         
            
        </footer>
</div>
</div>

            <script src="assets/js/all-nocdn.js"></script><script src="assets/js/colorbox-i18n/jquery.colorbox-fa.js"></script><script>$('a.image-reference:not(.islink) img:not(.islink)').parent().colorbox({rel:"gal",maxWidth:"100%",maxHeight:"100%",scalePhotos:true});</script><!-- fancy dates --><script>
    moment.locale("fa");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates -->
</body>
</html>

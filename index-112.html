<!DOCTYPE html>
<html prefix="
og: http://ogp.me/ns#
article: http://ogp.me/ns/article#
" dir="rtl" lang="fa">
<head>
<meta charset="utf-8">
<base href="http://5hah.in/index-112.html">
<meta name="description" content="Sometimes you gotta run before you can walk ">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>شاهین (صفحهٔ ارسال‌های قدیمی 112) | شاهین</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta content="#5670d4" name="theme-color">
<link rel="alternate" type="application/rss+xml" title="RSS" href="rss.xml">
<link rel="canonical" href="http://5hah.in/index-112.html">
<link rel="icon" href="favicon.ico" sizes="32x32">
<link rel="prev" href="index-113.html" type="text/html">
<link rel="next" href="index-111.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">متن اصلی را نادیده بگیر</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="http://5hah.in/">

                <span id="blog-title">شاهین</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href=".">Home</a>
                </li>
<li>
<a href="stories/about-me.html">About</a>
                </li>
<li>
<a href=".">Resume</a>
                </li>
<li>
<a href="archive.html">Archives</a>
                </li>
<li>
<a href="categories/index.html">Tags</a>
                </li>
<li>
<a href="rss.xml">RSS</a>

                
            </li>
</ul>
<!-- Custom search --><form method="get" id="search" action="http://duckduckgo.com/" class="navbar-form pull-left">
<input type="hidden" name="sites" value="http://5hah.in/"><input type="hidden" name="k8" value="#444444"><input type="hidden" name="k9" value="#D51920"><input type="hidden" name="kt" value="h"><input type="text" placeholder="جستجو…" maxlength="255" name="q"><input id="searchsubmit" type="submit" value="DDG Search">
</form>
<!-- End of custom search -->


            <ul class="nav navbar-nav navbar-right"></ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
<div class="postindex">
    <article class="h-entry post-text"><header><h1 class="p-name entry-title"><a href="posts/new/blog13901012chchch-10-dstwr-uptime-srwr-bry-pyd-khrdnwp.html" class="u-url">چ‌چ‌چ‌ (۱۰): دستور Uptime سرور برای پیدا کردن اینکه سیستم چه</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">
                شاهین آزاد
            </span></p>
            <p class="dateline"><a href="posts/new/blog13901012chchch-10-dstwr-uptime-srwr-bry-pyd-khrdnwp.html" rel="bookmark"><time class="published dt-published" datetime="2015-11-01T00:00:00+03:30" title="2015-11-01 00:00">2015-11-01 00:00</time></a></p>
                <p class="commentline">            <a href="posts/new/blog13901012chchch-10-dstwr-uptime-srwr-bry-pyd-khrdnwp.html#disqus_thread" data-disqus-identifier="cache/posts/new/blog13901012chchch-10-dstwr-uptime-srwr-bry-pyd-khrdn.wp.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <div>
<p></p>
<p>من می‌خواهم بدانم چه مدت سیستم یونیکسی‌/لینوکسی‌ام فعال بوده‌. چطور این
کار را بکنم‌؟ هر دو سیستم یونیکس و لینوکس با ابزار‌های مختلفی این امکان
را به ما می‌دهند که uptime سیستم را پیدا کنیم‌. در لینوکس فایل
‎/proc/uptime اطلاعات uptime سیستم و فایل ‎/var/run/utmp اطلاعات اینکه
چه کسی در حال حاضر به سیستم متصل است را در خود نگه می‌دارند‌. اطلاعات
ذخیره شده در فایل‌های ذکر شده‌، مستقیما توسط انسان قابل خواندن نیستند‌،
به همین دلیل ما به دستورات زیر نیازمندیم‌.</p>
<p>دستور uptime در یونیکس/لینوکس</p>
<p>یک ترمینال باز کنید‌، و سپس دستور زیر را وارد کنید‌:</p>
<pre class="code bash"><a name="rest_code_fc0317e16da94efdaa9b0b51ccea4234-1"></a><span class="nv">$ </span>uptime
</pre>
<p>نمونه‌ای از خروجی به صورت روبرو خواهد بود‌:</p>
<pre class="code bash"><a name="rest_code_2071a35f5a8d45428ac883d492d5a9b3-1"></a>۱۲: ۱۶: <span class="m">۰۱</span> up <span class="m">۵۷</span> min، <span class="m">۳</span> users، load average: ۰. ۰۲، ۰. ۱۳، ۰. ۲۲
</pre>
<p>این دستور اطلاعات زیر را در یک خط به شما نمایش می‌دهد‌:</p>
<ul><li>
<p>زمان فعلی (۱۲: ۱۶: ۰۱)</p>
</li></ul>
<pre class="literal-block">
&lt;li&gt;چه مدت سیستم در حال اجرا بوده (۵۷ دقیقه)&lt;/li&gt;
&lt;li&gt;در حال حاضر چه تعداد کاربر به سیستم متصلند (۳ کاربر)&lt;/li&gt;
&lt;li&gt;میانگین لود سیستم در ۱‌، ۵ و ۱۵ دقیقه گذشته (۰. ۰۲، ۰. ۱۳، ۰. ۲۲)&lt;/li&gt;
</pre>
<p>این تقریبا‌‌ همان اطلاعاتی است که در سرخط اطلاعات نمایش داده شده توسط
دستورات w و top می‌توانید مشاهده کنید‌:</p>
<pre class="code bash"><a name="rest_code_fdd9964a898a48ea99f0e057dd136409-1"></a>w
</pre>
<p>نمونه‌ای از خروجی به این شکل خواهد بود‌:</p>
<pre class="code bash"><a name="rest_code_51a5d12d857543eeb65bd5e57a161e3f-1"></a>12:20:34 up 1:02, <span class="m">3</span> users, load average: 0.01, 0.07, 0.17
<a name="rest_code_51a5d12d857543eeb65bd5e57a161e3f-2"></a>
<a name="rest_code_51a5d12d857543eeb65bd5e57a161e3f-3"></a>USER TTY FROM LOGIN@ IDLE JCPU PCPU WHAT
<a name="rest_code_51a5d12d857543eeb65bd5e57a161e3f-4"></a>
<a name="rest_code_51a5d12d857543eeb65bd5e57a161e3f-5"></a>master tty1 - 11:19 18:17 0.16s 0.00s /bin/sh /usr/bin/startx
<a name="rest_code_51a5d12d857543eeb65bd5e57a161e3f-6"></a>
<a name="rest_code_51a5d12d857543eeb65bd5e57a161e3f-7"></a>master pts/0 :0 12:02 0.00s 0.07s 0.00s w
<a name="rest_code_51a5d12d857543eeb65bd5e57a161e3f-8"></a>
<a name="rest_code_51a5d12d857543eeb65bd5e57a161e3f-9"></a>master pts/1 :0 12:02 18:01 0.00s 0.94s kdeinit4: kded4 <span class="o">[</span>kdeinit<span class="o">]</span>
</pre>
<pre class="code bash"><a name="rest_code_faa4f73b0c454f1d928991624b31fa65-1"></a><span class="nv">$ </span>top
</pre>
<p>نمونه‌ای از خروجی‌:</p>
<p style="text-align: center;"></p>
<p>منبع</p>
</div>
    </div>
    </article><article class="h-entry post-text"><header><h1 class="p-name entry-title"><a href="posts/new/blog13900926chchch-9-chtwr-bh-swrt-flhy-lynkhhwp.html" class="u-url">چ‌چ‌چ (۹): چطور به صورت فله‌ای لینک‌های یوتیوب را از وب‌سایتی</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">
                شاهین آزاد
            </span></p>
            <p class="dateline"><a href="posts/new/blog13900926chchch-9-chtwr-bh-swrt-flhy-lynkhhwp.html" rel="bookmark"><time class="published dt-published" datetime="2015-11-01T00:00:00+03:30" title="2015-11-01 00:00">2015-11-01 00:00</time></a></p>
                <p class="commentline">            <a href="posts/new/blog13900926chchch-9-chtwr-bh-swrt-flhy-lynkhhwp.html#disqus_thread" data-disqus-identifier="cache/posts/new/blog13900926chchch-9-chtwr-bh-swrt-flhy-lynkhh.wp.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <div>
<p></p>
<p>ببخشید که تیتری از این ساده‌تر و گو‌یاتر پیدا نکردم‌. ولی خوب اصل موضوع
خیلی قشنگ چالش بر‌انگیز است‌. مساله این است‌:</p>
<blockquote>
<p>سایتی به این شکل داریم (‌لینک را باز کنید‌) که شامل یک لیست از پیوند به
صفحات دیگرش است که در آن‌ها علاوه بر قابلیت نمایش ویدیو‌، لینک یوتیوب
همان ویدیو وجود دارد‌. حجم پیوند‌ها برابر ۲۰۰ عدد است</p>
</blockquote>
<p>کار عادی‌اش به این صورت است که بنشینیم و با حوصله تک تک لینک‌ها را کپی
پیست کرده و جایی ذخیره کنیم‌. ولی با وجود دویست صفحه و لینک‌، کمی
(‌خیلی‌) خسته کننده (‌خریت‌ به معنای واقعی کلمه‌، البته ببخشید ;-)) است.
خوب جواب مساله را خودم هم نمی‌دانستم‌، ولی مطمئن بودم‌، با ابزار‌های
گنو‌/‌لینوکسی‌، نتیجه‌ی خیلی خوبی خواهم گرفت‌. اولین کاری که به فکرم
رسید‌، دانلود صفحه‌ی اصلی و صفحه‌های پیوند شده به هر لینک بود که با wget
خیلی خوب بلد بودم! به این صورت‌:</p>
<pre class="code bash"><a name="rest_code_5bcd7723928543ffb8eb5f47e7e4d770-1"></a>wget -rl1 http://thenewboston.org/list.php?cat<span class="o">=</span>11
</pre>
<p>خوب نتیجه‌ مجموعه‌ای از فایل‌ها بود که با اسم‌هایی شبیه به آدرس‌شان در
پوشه‌ی جاری ذخیره شده بود. با استفاده از آرگومان‌های rl1 به wget فهماندم
که صفحه‌ی حاضر را به عمق یک صفحه رو به جلو دانلود کند‌. حالا مساله‌ی سخت
این‌جا بود که چطور به grep بفهمانیم که چه چیزی را (‌در این‌جا لینک ویدیو
در یوتیوب‌) برایمان جدا کند‌. دستوری که با دفعات زیادی آزمون و خطا نتیجه
داد‌، به این صورت بود‌: (‌برای دیدن دستور کامل‌تر به آخر مطلب رجوع
کنید‌، ویرایش۱)</p>
<pre class="code bash"><a name="rest_code_7515ed2453ae4a3f98b8608f7e7cff0e-1"></a>grep -ohE <span class="s2">"http://www.youtube.com/watch\?v=[[:alnum:]-]{11}"</span> * <span class="p">&amp;</span>gt<span class="p">;</span> list
</pre>
<p>کار این دستور این است که یک لیست از الگوی داده شده را ایجاد و در فایل
list ذخیره کند‌. آرگومان‌های ohE به طور خلاصه به grep می‌فهمانند‌ که فقط
عبارت داخل پرانتز را در فایل‌ها پیدا کند و در خروجی نمایش دهد‌. قسمت
جالب قضیه که بیشتر از همه وقتم را گرفت بخش زیر بود‌:</p>
<pre class="code bash"><a name="rest_code_ffba3100db2548888e11f57e98fb75a2-1"></a><span class="o">[[</span>:alnum:<span class="o">]</span>-<span class="o">]{</span>11<span class="o">}</span>
</pre>
<p>که به grep می‌گفت ترکیبی از حروف و ارقام را به تعداد یازده عدد قبول
کند‌. در مورد این عبارت‌ها در آینده‌ای نزدیک پستی در شاهینیسم خواهیم
داشت.</p>
<p>برای دانلود لینک‌ها هم می‌توانید همان فایل خروجی را به صورت زیر به
youtube-dl بدهید‌:</p>
<pre class="code bash"><a name="rest_code_489055c0d8de48b6b253f3d87be812b5-1"></a>youtube-dl -ta list
</pre>
<p>البته سرعت دانلود youtube-dl واقعا پایین است‌. روی سروری با دانلود عادی
ده مگ‌، سرعت به زور می‌توانست به چهل کیلوبایت برسد‌. پیشنهاد من به شما‌،
نصب یک نسخه از RapidLeech است‌. سرعت و کاربرد بسیار بهتری دارد ;-)</p>
<p>ویرایش ۱: بعد از مدتی استفاده از این دستور‌، فهمیدم که از اونجایی که توی
آدرس‌های Youtube امکان وجود آندرلاین هم هست‌، تعدادی از لینک‌ها رو با
دستور بالا از دست می‌دیم‌. به همین دلیل دنبال یه راه دیگه گشتم‌، و
سر‌انجام به دستور زیر رسیدم که نتیجه‌ی خیلی قابل قبول‌تری می‌ده‌:</p>
<pre class="code bash"><a name="rest_code_ece3343604d64b0aaee6cc03d32f1f56-1"></a>grep -ohE <span class="s2">"http://www.youtube.com/watch\?v=[[:alnum:](-|_)]{11}"</span> * <span class="p">|</span> uniq <span class="p">&amp;</span>gt<span class="p">;</span> list2
</pre>
<p>همچنین توی این دستور با استفاده از uniq از تکرار لینک‌ها در صفحه خروجی
جلوگیری می‌شه ;-)</p>
</div>
    </div>
    </article><article class="h-entry post-text"><header><h1 class="p-name entry-title"><a href="posts/new/blog13900911chchch-8-rngy-khrdn-khrwjy-frmn-ls-dr-bashwp.html" class="u-url">چ‌چ‌چ‌ (۸)‌: رنگی کردن خروجی فرمان ls در BASH .. date:</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">
                شاهین آزاد
            </span></p>
            <p class="dateline"><a href="posts/new/blog13900911chchch-8-rngy-khrdn-khrwjy-frmn-ls-dr-bashwp.html" rel="bookmark"><time class="published dt-published" datetime="2015-11-01T00:00:00+03:30" title="2015-11-01 00:00">2015-11-01 00:00</time></a></p>
                <p class="commentline">            <a href="posts/new/blog13900911chchch-8-rngy-khrdn-khrwjy-frmn-ls-dr-bashwp.html#disqus_thread" data-disqus-identifier="cache/posts/new/blog13900911chchch-8-rngy-khrdn-khrwjy-frmn-ls-dr-bash.wp.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <div>
<p></p>
<p>خیلی وقت بود که دنبال این بودم که بفهمم چطوری خروجی ls رو توی bash رنگی
کنم و از این حالت مرده‌ی سادش در بیارم‌. خوبی این رنگ‌بندی موقعی معلوم
می‌شه که توی دایرکتوری‌های تو در تو گم می‌شی‌. خلاصه یه پست از پیروزان
عزیز امروز بانی خیر شد و من رو مجبور کرد که به سمت حل این مشکل برم و
چیزایی یاد بگیرم‌. البته ناگفته نمونه که پیروزان هم چیز جالبی معرفی کرد
که در ادامه‌ی مطلب توضیح استفاده ازش رو می‌دم‌.</p>
<p>برای رنگ کردن نتیجه‌ی خروجی خود دستور ls یه آرگومانی به این صورت داره
‎-‎‎-color که خروجی رو رنگی می‌کنه‌. یعنی هر بار که می‌خواین خروجی رنگی
بگیرین باید یه همچین دستوری رو بزنین‌:</p>
<pre class="code bash"><a name="rest_code_9e21725820ae45dea3887163c2ae2403-1"></a>ls --color
</pre>
<p>که خوب این یه کم ممکنه خسته کننده باشه‌. برای رفع مشکلش هم که طبیعیه
می‌تونین از alias استفاده کنین‌، و برای ماندگار شدنش یه همچین خطی رو به
فایل ‎.bashrc تون اضافه کنین:</p>
<pre class="code bash"><a name="rest_code_41d4804999224b9888d69c7e1b11e333-1"></a><span class="nb">alias </span><span class="nv">ls</span><span class="o">=</span><span class="s2">"ls --color=always"</span>
</pre>
<p>این دقیقا کاریه که خیلی از توزیع‌ها به صورت پیش‌فرض انجامش می‌دن‌. ولی
خوب همونطور که گفتم دوست عزیزم پیروزان یه چیز جالب‌تر هم معرفی کرده
بود‌. ماجرا از این قراره که این آرگومان ‎-‎‎-color که بحثش رو کردیم‌، بر
می‌گرده از یه فایلی به اسم DIR_COLORS توی شاخه‌ی etc الگوی رنگ‌بندیش رو
بر می‌داره‌ (‌که البته با توجه به توزیع‌های مختلف ممکنه جای این فایل فرق
کنه‌). حالا یه آدم باحال نشسته و رنگ‌بندی متنوعی برای سیصد نوع فایل
مختلف آماده کرده و توی این کانال git منتشر کرده‌. برای استفاده از این
فایل اول اون رو دانلود کنین و برای مثال توی شاخه‌ی خانگی لینوکستون ذخیره
کنین‌. حالا با اضافه کردن خط زیر توی فایل ‎.bashrc از رنگ‌بندی جدید لذت
ببرین‌:</p>
<pre class="code bash"><a name="rest_code_a22c9b2b871b4979a9459da7771e75ea-1"></a><span class="nb">eval</span> <span class="k">$(</span>dircolors -b LS_COLORS<span class="k">)</span>
</pre>
<p>نمونه‌ای از خروجی این فایل به صورت زیره‌:</p>
</div>
    </div>
    </article>
</div>
        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-113.html" rel="prev">ارسال‌های جدید‌تر</a>
            </li>
            <li class="next">
                <a href="index-111.html" rel="next">پست‌های قدیمی‌تر</a>
            </li>
        </ul></nav><script>var disqus_shortname="shahinism";(function(){var a=document.createElement("script");a.async=true;a.src="//"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2015         <a href="mailto:me@5hah.in">شاهین آزاد</a> - Powered by         <a href="http://getnikola.com" rel="nofollow">Nikola</a>         
            
        </footer>
</div>
</div>

            <script src="assets/js/all-nocdn.js"></script><script src="assets/js/colorbox-i18n/jquery.colorbox-fa.js"></script><script>$('a.image-reference:not(.islink) img:not(.islink)').parent().colorbox({rel:"gal",maxWidth:"100%",maxHeight:"100%",scalePhotos:true});</script><!-- fancy dates --><script>
    moment.locale("fa");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates -->
</body>
</html>

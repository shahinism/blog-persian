<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0"><channel><title>شاهینیسم (sbopkg)</title><link>http://shahinism.github.io</link><description>بعضی وقت‌ها باید قبل از این که بتوانید راه بروید‌، بدوید‌!</description><lastBuildDate>Mon, 26 Aug 2013 20:35:14 GMT</lastBuildDate><generator>nikola</generator><docs>http://blogs.law.harvard.edu/tech/rss</docs><item><title>از Autojump در ترمینال غافل نشوید‌!</title><link>http://shahinism.github.io/posts/blog13910514z-autojump-dr-trmynl-qfl-nshwyd.html</link><description>&lt;p&gt;&lt;/p&gt;&lt;a title="آدرس‌ها را در خط فرمان Bookmark کنید!" href="http://shahinism.com/blog/1391/01/03/%d8%a2%d8%af%d8%b1%d8%b3%e2%80%8c%d9%87%d8%a7-%d8%b1%d8%a7-%d8%af%d8%b1-%d8%ae%d8%b7-%d9%81%d8%b1%d9%85%d8%a7%d9%86-bookmark-%da%a9%d9%86%db%8c%d8%af/"&gt;قبلا در مورد Bashmark نوشته بودم&lt;/a&gt; و دقیقا همین قبلا بود که &lt;a href="http://cyberrabbits.net/" target="_blank"&gt;فرود&lt;/a&gt; عزیز گفت که از &lt;a title="autojump official git channel" href="https://github.com/joelthelion/autojump" target="_blank"&gt;Autojump&lt;/a&gt; استفاده می‌کند‌. اما آن موقع‌ها بخاطر یک باگ کوچک نادیده گرفته بودمش‌! امروز که دیگر آن باگ یادم نبود بار دیگر تستش کردم و (آخه دیگه چی بگم؟ این لعنتی خیلی با شعوره‌!) اصلا خودتان این ویدئو را ببینید تا زورش را درک کنید:
&lt;p class="aligncenter"&gt;&lt;iframe src="http://www.youtube.com/embed/tnNyoMGnbKg" frameborder="0" width="420" height="315"&gt;&lt;/iframe&gt;&lt;/p&gt;
&lt;p&gt;هــاها‌! کدام ابزار را می‌شناسید که سریع‌تر بین دایرکتوری‌ها جابجایتان کند؟ خوب دیگر پر حرفی بس است‌. برویم سر اصل ماجرا‌. نصب و حل یک مشکل‌!&lt;/p&gt;
&lt;h5&gt;نصب&lt;/h5&gt;

&lt;p&gt;برای نصب اگر پایتون روی سیستم‌تان بالا‌تر از ۲.۷ است که خیال‌تان راحت و تنها کافییست که آن را از کانال گیتش دریافت کنید و پس از ورود به پوشه‌اش اسکریپت install.sh را اجرا کنید‌. اما اگر مثل من با این ترافیک داغان اینترنت روی اسلکور استیبل گیر کرده‌اید (این یعنی پایتون ۲.۶) پس باید یک چند‌تا کار اضافه انجام دهید‌ (یا شاید هم بخواهید به ورژن ۱۹ که توی اسلک‌بیلد‌ها پیدا می‌شود بسنده کنید):&lt;/p&gt;
&lt;div class="code"&gt;&lt;pre&gt;sbopkg -R -i &lt;span class="s2"&gt;"pysetuptools pip"&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;امیدوارم sbopkg را نصب کرده و بی‌خودی زندگی را برای خود سخت نگیرید ;-) حالا هم کافیست که با pip بستهٔ مورد نیاز Autojump را نصب کنید‌:&lt;/p&gt;
&lt;div class="code"&gt;&lt;pre&gt;pip install argparse
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;و سپس:&lt;/p&gt;
&lt;div class="code"&gt;&lt;pre&gt;git clone git://github.com/joelthelion/autojump.git

&lt;span class="nb"&gt;cd &lt;/span&gt;autojump

./install.sh --force
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;و حالا خط زیر را به ‎.zshrc اضافه کنید:&lt;/p&gt;
&lt;div class="code"&gt;&lt;pre&gt;&lt;span class="o"&gt;[[&lt;/span&gt; -s /etc/profile.d/autojump.zsh &lt;span class="o"&gt;]]&lt;/span&gt; &amp;amp;amp;&amp;amp;amp; &lt;span class="nb"&gt;source&lt;/span&gt; /etc/profile.d/autojump.zsh
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;و سر‌انجام:&lt;/p&gt;
&lt;div class="code"&gt;&lt;pre&gt;&lt;span class="nb"&gt;source&lt;/span&gt; ~/.zshrc
&lt;/pre&gt;&lt;/div&gt;


&lt;h5&gt;مشکل&lt;/h5&gt;

&lt;p&gt;و خوب کار باید تمام شده باشد اما دستور زیر را امتحان کنید:&lt;/p&gt;
&lt;div class="code"&gt;&lt;pre&gt;vim ~/.zsh&lt;span class="o"&gt;[&lt;/span&gt;TAB&lt;span class="o"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;که احتمالا چیزی شبیه خروجی زیر نصیبتان می‌شود:&lt;/p&gt;
&lt;div class="code"&gt;&lt;pre&gt;_arguments:439: _vim_files: &lt;span class="k"&gt;function &lt;/span&gt;definition file not found

_arguments:439: _vim_files: &lt;span class="k"&gt;function &lt;/span&gt;definition file not found

_arguments:439: _vim_files: &lt;span class="k"&gt;function &lt;/span&gt;definition file not found
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;و این یعنی اتوکامپلیشن فوق‌العادهٔ ZSH جلوی دستور vim از کار می‌افتد‌! خوب چه کنیم؟ تنها یک راه حل در اینترنت جواب این مساله بود و آن هم &lt;a title="Problem on Arch forum" href="https://bbs.archlinux.org/viewtopic.php?id=37245" target="_blank"&gt;از انجمن آرچر‌های &lt;/a&gt;اعظم:&lt;/p&gt;
&lt;div class="code"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="nv"&gt;$fpath&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;see the &lt;span class="k"&gt;function &lt;/span&gt;PATH of zsh&lt;span class="o"&gt;)&lt;/span&gt;

/usr/share/zsh/site-functions /usr/share/zsh/4.3.11/functions

&lt;span class="nv"&gt;$ &lt;/span&gt;&lt;span class="nb"&gt;cd&lt;/span&gt; /usr/share/zsh/4.3.11/functions

&lt;span class="nv"&gt;$ &lt;/span&gt;ls _vi*

_vim

rm _vim
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;و حالا لذت ببرید ;-)&lt;/p&gt;</description><category>autojump</category><category>pip</category><category>Python</category><category>sbopkg</category><category>Zsh</category><category>اسلکور</category><category>بررسی</category><category>حل مشکل</category><category>نرم افزار</category><category>کدباز</category><category>گنو/لینوکس</category><guid>http://shahinism.github.io/posts/blog13910514z-autojump-dr-trmynl-qfl-nshwyd.html</guid><pubDate>Sat, 04 Aug 2012 17:52:20 GMT</pubDate></item><item><title>نصب Awesome WM روی اسلکور</title><link>http://shahinism.github.io/posts/blog13910106nsb-awesome-wm-rwy-slkhwr.html</link><description>&lt;p&gt;&lt;/p&gt;&lt;p&gt;در چند ماه گذشته یکی از عذاب‌آور‌ترین کار‌هایی که انجام دادم‌، نصب مدیر پنجره‌ی &lt;a title="Awesome wm main page" href="http://awesome.naquadah.org/" target="_blank"&gt;Awesome&lt;/a&gt; روی اسلکور بود‌! بماند که چند باری هم وسوسه شدم که به یکی از توزیع‌های مخزن دار (اسمو D:) کوچ کنم‌. ولی ارزش اسلکور برایم این‌قدر بالا بود که دست به این کار نزنم.
بعد از چند بار آزمایش و خطا‌، شکست و ... روشی که در زیر می‌بینید تمیز‌ترین روش نصب مدیر پنجره‌ی Awesome روی اسلکور است‌:&lt;/p&gt;
&lt;p&gt;اولین کاری که باید انجام دهیم‌، کامپایل دوباره‌ی بسته‌ی Cairo با قابلیت پشتیبانی از xcb است‌. برای این کار در شاخه ‎/source/l/cairo در DVD اسلکور فایل cairo.SlackBuild را با یک ویرایشگر باز کرده و به دنبال عبارت ‎‎‏‎--enable-xcb بگردید‌. پس از یافتنش علامت # را از اول آن بردارید‌. یا آن بخش را به صورت زیر ویرایش کنید‌:&lt;/p&gt;
&lt;div class="code"&gt;&lt;pre&gt;&lt;span class="nv"&gt;CFLAGS&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"$SLKCFLAGS"&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;

./configure &lt;span class="se"&gt;\&lt;/span&gt;

--prefix&lt;span class="o"&gt;=&lt;/span&gt;/usr &lt;span class="se"&gt;\&lt;/span&gt;

--libdir&lt;span class="o"&gt;=&lt;/span&gt;/usr/lib&lt;span class="k"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;LIBDIRSUFFIX&lt;/span&gt;&lt;span class="k"&gt;}&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;

--mandir&lt;span class="o"&gt;=&lt;/span&gt;/usr/man &lt;span class="se"&gt;\&lt;/span&gt;

--sysconfdir&lt;span class="o"&gt;=&lt;/span&gt;/etc &lt;span class="se"&gt;\&lt;/span&gt;

--disable-gtk-doc &lt;span class="se"&gt;\&lt;/span&gt;

--disable-glitz &lt;span class="se"&gt;\&lt;/span&gt;

--disable-quartz &lt;span class="se"&gt;\&lt;/span&gt;

--disable-static &lt;span class="se"&gt;\&lt;/span&gt;

--enable-xcb &lt;span class="se"&gt;\&lt;/span&gt;

--disable-win32
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;فایل را ذخیره کرده و مثل یک SlackBuild عادی نصبش کنید‌. حالا به شاخه‌ی ‎/source/l/startup-notification بروید و به ترتیب دستورات زیر را اجرا کنید‌:&lt;/p&gt;
&lt;div class="code"&gt;&lt;pre&gt;rm startup-notification*.tar.bz2

wget -c http://www.freedesktop.org/software/startup-notification/releases/startup-notification-0.12.tar.gz

gunzip startup-notification-0.12.tar.gz

bzip2 startup-notification-0.12.tar

&lt;span class="nv"&gt;VERSION&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;0.12 ./startup-notification.SlackBuild

upgradepkg /tmp/startup-notification-*.txz
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;حالا به شاخه ‎/source/x/x11/src/xcb در DVD بروید و دستورات زیر را اجرا کنید‌:&lt;/p&gt;
&lt;div class="code"&gt;&lt;pre&gt;rm xcb-util-*

wget -c http://xcb.freedesktop.org/dist/xcb-util-0.3.8.tar.bz2 http://xcb.freedesktop.org/dist/xcb-util-image-0.3.8.tar.bz2 http://xcb.freedesktop.org/dist/xcb-util-renderutil-0.3.8.tar.bz2 http://xcb.freedesktop.org/dist/xcb-util-wm-0.3.8.tar.bz2 http://xcb.freedesktop.org/dist/xcb-util-keysyms-0.3.8.tar.bz2

&lt;span class="nb"&gt;cd&lt;/span&gt; &lt;span class="nv"&gt;$SLACKWARE_TREE&lt;/span&gt;/source/x/x11

&lt;span class="k"&gt;for &lt;/span&gt;i in xcb-util xcb-util-keysyms xcb-util-renderutil xcb-util-wm xcb-util-image; &lt;span class="k"&gt;do&lt;/span&gt; ./x11.SlackBuild xcb &lt;span class="nv"&gt;$i&lt;/span&gt;; &lt;span class="k"&gt;done&lt;/span&gt;

upgradepkg --install-new /tmp/x11-build/xcb-util-*.txz
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;حال نوبت به نصب چند پیش‌نیاز می‌رسد‌. برای راحتی کار پیشنهاد می‌کنم &lt;a title="sbopkg official page" href="http://sbopkg.org" target="_blank"&gt;sbopkg&lt;/a&gt; و &lt;a title="src2pkg official page" href="http://src2pkg.net" target="_blank"&gt;src2pkg&lt;/a&gt; را دریافت و نصب کنید‌. باقی مراحل را با استفاده از این دو ابزار ادامه می‌دهیم‌.&lt;/p&gt;
&lt;p&gt;برای نصب libev, lua, imlib2, giblib, feh به ترتیب دستورات زیر را وارد می‌کنیم‌:&lt;/p&gt;
&lt;div class="code"&gt;&lt;pre&gt;sbopkg -i imlib2

sbopkg -i lua

sbopkg -i libev

sbopkg -i giblib

sbopkg -i feh
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;و حالا آخرین نسخه libxdg را از&lt;a href="http://n.ethz.ch/~nevillm/download/libxdg-basedir/" target="_blank"&gt; این آدرس&lt;/a&gt; دریافت کرده و به صورت زیر کامپایل می‌کنیم‌:&lt;/p&gt;
&lt;div class="code"&gt;&lt;pre&gt;src2pkg libxdg-basedir-*.tar.gz

installpkg /tmp/libxdg*.txz
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;برای نصب oocairo و oopango نیز از دو اسکریپت به صورت زیر استفاده می‌کنیم‌:&lt;/p&gt;
&lt;div class="code"&gt;&lt;pre&gt;mkdir oocairo

&lt;span class="nb"&gt;cd &lt;/span&gt;oocairo

wget -c https://raw.github.com/cycojesus/slackbuilds/master/l/oocairo/oocairo.SlackBuild

chmod +x oocairo.SlackBuild

./oocairo.SlackBuild

upgradepkg --install-new /tmp/oocairo-*.txz



&lt;span class="nb"&gt;cd&lt;/span&gt; ..

mkdir oopango

&lt;span class="nb"&gt;cd &lt;/span&gt;oopango

wget -c https://raw.github.com/cycojesus/slackbuilds/master/l/oopango/oopango.SlackBuild

chmod +x oopango.SlackBuild

./oopango.SlackBuild

upgradepkg --install-new /tmp/oopango-*.txz
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;و سرانجام نوبت به کامپایل خود Awesome می‌رسد‌. آن را از&lt;a title="Awesome wm download page" href="http://awesome.naquadah.org/download/" target="_blank"&gt; این صفحه&lt;/a&gt; دانلود و استخراج کنید. سپس فایل awesomeConfig.cmake را با یک ویرایشگر باز کرده و عبارت زیر را:&lt;/p&gt;
&lt;div class="code"&gt;&lt;pre&gt;&lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;DEFINED SYSCONFDIR&lt;span class="o"&gt;)&lt;/span&gt;

&lt;span class="nb"&gt;set&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;SYSCONFDIR &lt;span class="k"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;SYSCONFDIR&lt;/span&gt;&lt;span class="k"&gt;}&lt;/span&gt; CACHE PATH &lt;span class="s2"&gt;"config directory"&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;

&lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="o"&gt;()&lt;/span&gt;

&lt;span class="nb"&gt;set&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;SYSCONFDIR &lt;span class="k"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;PREFIX&lt;/span&gt;&lt;span class="k"&gt;}&lt;/span&gt;/etc CACHE PATH &lt;span class="s2"&gt;"config directory"&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;

endif&lt;span class="o"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;به صورت زیر ویرایش کنید‌:&lt;/p&gt;
&lt;div class="code"&gt;&lt;pre&gt;&lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;DEFINED SYSCONFDIR&lt;span class="o"&gt;)&lt;/span&gt;

&lt;span class="nb"&gt;set&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;SYSCONFDIR /etc CACHE PATH &lt;span class="s2"&gt;"config directory"&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;

&lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="o"&gt;()&lt;/span&gt;

&lt;span class="nb"&gt;set&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;SYSCONFDIR /etc CACHE PATH &lt;span class="s2"&gt;"config directory"&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;

endif&lt;span class="o"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;فایل را ذخیره کرده و دستور make را اجرا کنید‌. پس از به پایان رسیدن این دستور به صورت زیر عمل می‌کنیم‌:&lt;/p&gt;
&lt;div class="code"&gt;&lt;pre&gt;mkdir /tmp/awesome-version

make install &lt;span class="nv"&gt;DESTDIR&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;/tmp/awesome-version

&lt;span class="nb"&gt;cd&lt;/span&gt; /tmp/awesome-version

makepkg -l y -c n /tmp/awesome-version.tgz

installpkg /tmp/awesome-version.tgz
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;و سرانجام پس از نصب Awesome برای این که بتوانیم آن را با xwmconfig انتخاب کنیم‌، دستور زیر را وارد کرده‌:&lt;/p&gt;
&lt;div class="code"&gt;&lt;pre&gt;vim /etc/X11/xinit/awesome.xinit
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;و متن زیر را در آن وارد کنید:&lt;/p&gt;
&lt;p&gt;```bash#!/bin/sh&lt;/p&gt;
&lt;h2&gt;$Xorg: xinitrc.cpp,v 1.3 2000/08/17 19:54:30 cpqbld Exp $&lt;/h2&gt;
&lt;p&gt;userresources=$HOME/.Xresources&lt;/p&gt;
&lt;p&gt;usermodmap=$HOME/.Xmodmap&lt;/p&gt;
&lt;p&gt;sysresources=/etc/X11/xinit/.Xresources&lt;/p&gt;
&lt;p&gt;sysmodmap=/etc/X11/xinit/.Xmodmap&lt;/p&gt;
&lt;h2&gt;merge in defaults and keymaps&lt;/h2&gt;
&lt;p&gt;if [ -f $sysresources ]; then&lt;/p&gt;
&lt;p&gt;/usr/bin/xrdb -merge $sysresources&lt;/p&gt;
&lt;p&gt;fi&lt;/p&gt;
&lt;p&gt;if [ -f $sysmodmap ]; then&lt;/p&gt;
&lt;p&gt;/usr/bin/xmodmap $sysmodmap&lt;/p&gt;
&lt;p&gt;fi&lt;/p&gt;
&lt;p&gt;if [ -f $userresources ]; then&lt;/p&gt;
&lt;p&gt;/usr/bin/xrdb -merge $userresources&lt;/p&gt;
&lt;p&gt;fi&lt;/p&gt;
&lt;p&gt;if [ -f $usermodmap ]; then&lt;/p&gt;
&lt;p&gt;/usr/bin/xmodmap $usermodmap&lt;/p&gt;
&lt;p&gt;fi&lt;/p&gt;
&lt;p&gt;exec awesome&lt;/p&gt;
&lt;p&gt;```&lt;/p&gt;
&lt;p&gt;و سرانجام با دستور زیر به آن امکان اجرا می‌دهیم‌:&lt;/p&gt;
&lt;p&gt;```bash&lt;/p&gt;
&lt;p&gt;chmod +x /etc/X11/xinit/awesome.xinit&lt;/p&gt;
&lt;p&gt;```.&lt;/p&gt;
&lt;p&gt;در آینده‌ای نزدیک در مورد این مدیر پنجره و نحوه‌ی کار با آن بیشتر صحبت خواهم کرد ;-)&lt;/p&gt;</description><category>awesome wm</category><category>cairo</category><category>feh</category><category>libxdg</category><category>oocairo</category><category>oopango</category><category>sbopkg</category><category>Slackware</category><category>src2pkg</category><category>اسلکور</category><category>حل مشکل</category><category>نرم افزار</category><category>کدباز</category><category>گنو/لینوکس</category><guid>http://shahinism.github.io/posts/blog13910106nsb-awesome-wm-rwy-slkhwr.html</guid><pubDate>Sun, 25 Mar 2012 10:29:51 GMT</pubDate></item></channel></rss>
<!DOCTYPE html>
<html prefix="
og: http://ogp.me/ns#
article: http://ogp.me/ns/article#
" lang="en">
<head>
<meta charset="utf-8">
<meta name="wot-verification" content="1e0ce5594a67af53269c">
<base href="https://5hah.in/index-23.html">
<meta name="description" content="Sometimes you gotta run before you can walk">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>شاهین (old posts, page 23) | شاهین</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta content="#5670d4" name="theme-color">
<link rel="alternate" type="application/rss+xml" title="RSS" href="rss.xml">
<link rel="canonical" href="https://5hah.in/index-23.html">
<link rel="prev" href="index-24.html" type="text/html">
<link rel="next" href="index-22.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
  <a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

  <div class="navigator">
    
  </div>

  <nav class="navbar navbar-default"><div class="container-fluid">
      <!-- Brand and toggle get grouped for better mobile display -->
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="."><img src="assets/images/logo.png"></a>
      </div>

      <!-- Collect the nav links, forms, and other content for toggling -->
      <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
        <ul class="nav navbar-nav">
<li>
<a href="stories/about-me">درباره</a>
                </li>
<li>
<a href="docs/resume.pdf">رزومه</a>
                </li>
<li>
<a href="archive.html">آرشیو</a>
                </li>
<li>
<a href="categories/">دسته‌ها</a>
                </li>
<li>
<a href="rss.xml">خوراک</a>

                    
        </li>
</ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container-fluid -->
  </nav><div class="jumbotron">
    <section class="container"><div id="headerbox" class="col-md-6 col-md-offset-3 text-center">
        <h1>شاهین</h1>
        <hr class="hdrline">
<a class="social" href="https://github.com/shahinism">
          <img src="assets/images/github.png"></a>
        <a class="social" href="https://twitter.com/shahinism">
          <img src="assets/images/twitter.png"></a>
        <a class="social" href="https://ir.linkedin.com/in/shahinism">
          <img src="assets/images/linkedin.png"></a>
      </div>
    </section>
</div>

  <div class="container" id="content" role="main">
    <!--Body content-->
    <div class="col-md-6 col-md-offset-3">
      <div class="row">
        
<div class="postindex">
    <article class="h-entry post-text"><div class="text-center">

        <h1 class="p-name entry-title"><a href="posts/py3status/" class="u-url">py3status ابزار مناسب برای گرفتن اطلاعات در نوار ابزار i3</a></h1>
            شاهین
      <a href="posts/py3status/" rel="bookmark"><time class="published dt-published" datetime="2013-09-12T11:31:45+04:30" title="2013-09-12 11:31">2013-09-12 11:31</time></a>
    </div>
    <div class="e-content entry-content">
    <div>
<p>قبلا در مورد <a class="reference external" href="http://i3wm.org/">i3</a> <a class="reference external" href="http://shahinism.github.io/posts/blog13910415tjrbh-khr-b-i3-ykh-rgyb-qdr.html">حرف زده‌ام</a> و نوشته‌ام که چطور با شل اسکریپت، و برای جلوگیری از مصرف زیاد رم (که Conky قاتلش بود) اطلاعات وضعیت سیستمم را در i3bar <a class="reference external" href="http://shahinism.github.io/posts/blog13910904dryft-tlt-systm-bdwn-stfdh-z-conky.html">نمایش می‌دهم</a>. خوب، حقیقتش بعد از مدتی فهمیدم که شل اسکریپتم در ازای اجرای طولانی مدت، رم زیادی می‌خورد و از طرفی، خیلی ساده است. خوب یکی از مزیت‌های <a class="reference external" href="http://i3wm.org/i3status/">i3status</a> این است که اطلاعات را به صورت رنگی نمایش می‌دهد که جدای از زیبایی بصری، به درک سریع اطلاعات کمک می‌کند. ولی بدبختی این <a class="reference external" href="http://i3wm.org/i3status/">i3status</a> هم این است که به قدر کافی قابل گسترش نیست و ابزارهایی هم که خودش در اختیارتان می‌گذارد فوق‌العاده محدود است!</p>
<p>این وضعیت از قرار تنها مرا آزار نمی‌داده. ultrabug روی github پروژهٔ پایتونی‌ای را <a class="reference external" href="https://github.com/ultrabug/py3status">شروع کرده</a> که در واقع حکم یک پوشش برای <a class="reference external" href="http://i3wm.org/i3status/">i3status</a> را دارد. وظیفهٔ این پروژه این است که اسکریپت پایتونی شما را تحویل گرفته و آن را با کمک <a class="reference external" href="http://i3wm.org/i3status/">i3status</a> در i3bar به نمایش در آورد. خوبی ویژه‌اش این است که شما هم می‌توانید خودتان اسکریپت بنویسید و هم از ابزارهای آمادهٔ <a class="reference external" href="http://i3wm.org/i3status/">i3status</a> استفاده کنید و در آخر هم از فایل تنظیمات <a class="reference external" href="http://i3wm.org/i3status/">i3status</a> برای تنظیم هر دو ابزار بهره بگیرید.</p>
<div class="section" id="id4">
<h2>نصب و ساخت اسکریپت</h2>
<p>برای شروع کافیست آن را نصب کرده و دستور زیر را در فایل تنظیمات i3‌تان قرار دهید (مسیر ‎ ~/‌.‌i3/config):</p>
<pre class="code bash"><a name="rest_code_fae5258d05904245a9219e793be19808-1"></a>bar <span class="o">{</span>
<a name="rest_code_fae5258d05904245a9219e793be19808-2"></a>  status_command py3status -i ~/.i3/py3status -c ~/.i3/i3status.conf
<a name="rest_code_fae5258d05904245a9219e793be19808-3"></a><span class="o">}</span>
</pre>
<p>با این دستور ما به <a class="reference external" href="http://i3wm.org/">i3</a> می‌فهمانیم که باید از <a class="reference external" href="https://github.com/ultrabug/py3status">py3status</a> برای نمایش داده‌های i3bar استفاده کند. همینطور به <a class="reference external" href="https://github.com/ultrabug/py3status">py3status</a> می‌گوییم که فایل تنظیمات <a class="reference external" href="http://i3wm.org/i3status/">i3status</a> در کدام مسیر واقع شده و در کدام مسیر باید به دنبال اسکریپت‌های پایتونی ما بگردد (‎‌~/‌.‌i3/py3status که یک دایرکتوری برای اسکریپت‌های ماست).</p>
<p>لازمهٔ اسکریپتی که می‌نویسید این است که حتما کلاسی به اسم <a class="reference external" href="https://github.com/ultrabug/py3status">Py3status</a> داشته باشد که اطلاعات نهایی را در آن پردازش کرده و نمایش دهد. همچنین این کلاس باید در پاسخ فراخوانی‌اش موقعیتی که می‌خواهیم نتیجهٔ اسکریپت در آن نمایش داده شود (به عدد) و کل رشتهٔ خروجی را بازگرداند. چیزی مثل return(0, response)‎‌. برای نمونه به این کلاس توجه کنید:</p>
<pre class="code python"><a name="rest_code_1b36b320105e4d38986190b359299714-1"></a><span class="k">class</span> <span class="nc">Py3status</span><span class="p">:</span>
<a name="rest_code_1b36b320105e4d38986190b359299714-2"></a>  <span class="sd">"""</span>
<a name="rest_code_1b36b320105e4d38986190b359299714-3"></a><span class="sd">  System status in i3bar</span>
<a name="rest_code_1b36b320105e4d38986190b359299714-4"></a><span class="sd">  """</span>
<a name="rest_code_1b36b320105e4d38986190b359299714-5"></a>  <span class="k">def</span> <span class="nf">ramInfo</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">json</span><span class="p">,</span> <span class="n">i3status_config</span><span class="p">):</span>
<a name="rest_code_1b36b320105e4d38986190b359299714-6"></a>      <span class="sd">"""calculate the memory (RAM) status and return it.</span>
<a name="rest_code_1b36b320105e4d38986190b359299714-7"></a>
<a name="rest_code_1b36b320105e4d38986190b359299714-8"></a><span class="sd">      """</span>
<a name="rest_code_1b36b320105e4d38986190b359299714-9"></a>      <span class="n">data</span> <span class="o">=</span> <span class="n">GetData</span><span class="p">()</span>
<a name="rest_code_1b36b320105e4d38986190b359299714-10"></a>      <span class="n">response</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'full_text'</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span> <span class="s1">'name'</span><span class="p">:</span> <span class="s1">'ram_info'</span><span class="p">}</span>
<a name="rest_code_1b36b320105e4d38986190b359299714-11"></a>      <span class="n">total_mem</span><span class="p">,</span> <span class="n">used_mem</span><span class="p">,</span> <span class="n">used_mem_percent</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">memory</span><span class="p">()</span>
<a name="rest_code_1b36b320105e4d38986190b359299714-12"></a>
<a name="rest_code_1b36b320105e4d38986190b359299714-13"></a>      <span class="k">if</span> <span class="n">used_mem_percent</span> <span class="o">&lt;=</span> <span class="mi">40</span><span class="p">:</span>
<a name="rest_code_1b36b320105e4d38986190b359299714-14"></a>          <span class="n">response</span><span class="p">[</span><span class="s1">'color'</span><span class="p">]</span> <span class="o">=</span> <span class="n">i3status_config</span><span class="p">[</span><span class="s1">'color_good'</span><span class="p">]</span>
<a name="rest_code_1b36b320105e4d38986190b359299714-15"></a>      <span class="k">elif</span> <span class="n">used_mem_percent</span> <span class="o">&lt;=</span> <span class="mi">75</span><span class="p">:</span>
<a name="rest_code_1b36b320105e4d38986190b359299714-16"></a>          <span class="n">response</span><span class="p">[</span><span class="s1">'color'</span><span class="p">]</span> <span class="o">=</span> <span class="n">i3status_config</span><span class="p">[</span><span class="s1">'color_degraded'</span><span class="p">]</span>
<a name="rest_code_1b36b320105e4d38986190b359299714-17"></a>      <span class="k">else</span><span class="p">:</span>
<a name="rest_code_1b36b320105e4d38986190b359299714-18"></a>          <span class="n">response</span><span class="p">[</span><span class="s1">'color'</span><span class="p">]</span> <span class="o">=</span> <span class="n">i3status_config</span><span class="p">[</span><span class="s1">'color_bad'</span><span class="p">]</span>
<a name="rest_code_1b36b320105e4d38986190b359299714-19"></a>
<a name="rest_code_1b36b320105e4d38986190b359299714-20"></a>      <span class="n">response</span><span class="p">[</span><span class="s1">'full_text'</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"RAM: </span><span class="si">%.2f</span><span class="s2">/</span><span class="si">%.2f</span><span class="s2"> GB (</span><span class="si">%d%%</span><span class="s2">)"</span> <span class="o">%</span> \
<a name="rest_code_1b36b320105e4d38986190b359299714-21"></a>                              <span class="p">(</span><span class="n">used_mem</span><span class="p">,</span> <span class="n">total_mem</span><span class="p">,</span> <span class="n">used_mem_percent</span><span class="p">)</span>
<a name="rest_code_1b36b320105e4d38986190b359299714-22"></a>      <span class="n">response</span><span class="p">[</span><span class="s1">'cached_until'</span><span class="p">]</span> <span class="o">=</span> <span class="n">time</span><span class="p">()</span>
<a name="rest_code_1b36b320105e4d38986190b359299714-23"></a>
<a name="rest_code_1b36b320105e4d38986190b359299714-24"></a>      <span class="k">return</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">response</span><span class="p">)</span>
</pre>
</div>
<div class="section" id="id5">
<h2>پوشهٔ نمونه‌ها</h2>
<img alt="https://dl.dropboxusercontent.com/u/25017694/Blog-photos/py3status_in_use.png" src="https://dl.dropboxusercontent.com/u/25017694/Blog-photos/py3status_in_use.png"><p>کاربران <a class="reference external" href="https://github.com/ultrabug/py3status">py3status</a> ابزارهای مختلفی در این زمینه نوشته‌اند که در پوشهٔ Examples پروژه می‌توانید نمونه‌هایی از آن‌ها را ببینید. برای مثال دو اسکریپت netdata (که وظیفهٔ بررسی سرعت اینترنت و حجم دریافتی یا ارسالی داده را بر عهده دارد) و sysdata (که میزان مصرفی رم را محاسبه می‌کند) را من نوشته‌ام و در پروژه اصلی به اشتراک گذاشته‌ام. همینطور یک اسکریپت قابل کنترل با کیبورد برای <a class="reference external" href="http://shahinism.github.io/posts/blog13900424ashnyy-b-tkhnykh-mdyryt-zmn-pmwdwr-.html">pomodoro</a> هم ساخته شده که می‌توانید مدیریت زمان فعالیتتان را با آن انجام دهید.</p>
</div>
</div>
    </div>

    <div class="text-center">
                    <a class="btn btn-success" href="posts/py3status/#disqus_thread" data-disqus-identifier="cache/posts/py3status.html">Comments</a>


    </div>

    </article><article class="h-entry post-text"><div class="text-center">

        <h1 class="p-name entry-title"><a href="posts/coursera-think-again/" class="u-url">معرفی دورهٔ آموزش تفکر Coursera</a></h1>
            شاهین
      <a href="posts/coursera-think-again/" rel="bookmark"><time class="published dt-published" datetime="2013-09-02T13:58:22+04:30" title="2013-09-02 13:58">2013-09-02 13:58</time></a>
    </div>
    <div class="e-content entry-content">
    <div>
<p>قبلا در مورد <a class="reference external" href="https://www.coursera.org/">Coursera</a> حرف <a class="reference external" href="http://shahinism.github.io/posts/blog13910630skhrypty-bry-khhsh-hzynh-shrkht-dr-khls.html">زده‌ام</a> (و در آینده بیشتر در مورد کلاس‌های آنلاینی که نظرم را جلب می‌کنند حرف خواهم زد). آقایان والتر سینات-آرمسترانگ و رم نتا‌، از دانشگاه دوک (Duke) آمریکا جدیدا یک دورهٔ آموزشی تحت عنوان <a class="reference external" href="https://www.coursera.org/course/thinkagain">Think again: How to reason and argue</a> را در <a class="reference external" href="https://www.coursera.org/">Coursera</a> شروع کرده‌اند که ارزش مطالعه دارد. خصوصا این که جدای از ضعف فرهنگی ما ایرانی جماعت در رابطه با پذیرش نظرات مخالف و یا حتی مباحثهٔ خیلی ساده در رابطه با موضوعات کاملا پذیرفته شده‌، ما به قول خودمان‌، گیک‌های لینوکسی و نرم‌افزار آزادی هم نتوانسته‌ایم در بسیاری از بحث‌هایمان به نتیجه‌ای برسیم!</p>
<p>پس با این تفاسیر‌، نه تنها فرهنگ ناقص ما ایرانیان‌‌، نتوانسته کمکی به آموزش بحث‌، تفکر و نتیجه‌گیریمان کند‌، پیشرفت غربی‌ها هم هنوز نیاز به آموزش درست در چنین زمینه‌هایی را لازم دارد تا به نتیجه‌ای مطلوب برسد.</p>
<img alt="https://upload.wikimedia.org/wikipedia/commons/thumb/7/78/Paris_2010_-_Le_Penseur.jpg/399px-Paris_2010_-_Le_Penseur.jpg" src="https://upload.wikimedia.org/wikipedia/commons/thumb/7/78/Paris_2010_-_Le_Penseur.jpg/399px-Paris_2010_-_Le_Penseur.jpg"><p>به طور کلی این دورهٔ آموزشی به چهار بخش تقسیم شده است که به قرار زیر است:</p>
<ul class="simple">
<li>
<strong>چطور استدلال‌ها را بررسی کنیم:</strong> عمدهٔ بحث در این قسمت مربوط به بررسی ویژگی‌های یک استدلال و چگونه یافتشان در میان عبارات است.</li>
<li>
<strong>چطور استدلال‌های استقرایی را تشخیص دهیم:</strong> این که چطور موضوع ارائه شده توسط یک استدلال را کشف کنیم.</li>
<li><strong>چطور استدلال‌های غیر استقرایی را بشناسیم</strong></li>
<li><strong>و در آخر این که چطور از مغالطه جلوگیری کنیم</strong></li>
</ul>
<p>از جمله نکاتی که در شروع این دوره برایم بسیار چشم‌گیر بوده‌اند‌، تلاش بسیار ارائه دهندگان درس برای فهماندن این است که گفتمان (بحث) یک جنگ نیست‌! این که با توهین‌، یا بلند کردن صدا و نشان دادن زور بازو نمی‌توان از گفتمانی پیروز بیرون آمد و این که نباید تلاش طرف بحث این باشد که تفکرش را به کسی القا کند. نکات بسیار ضریفی که با چیز‌هایی که ما در محیط اطرافمان می‌بینیم فوق‌العاده متفاوت است و مجبوریم تمرین زیادی داشته باشیم تا بتوانیم به درک درستی در موردشان برسیم.</p>
<p>این دورهٔ آموزشی به تازگی شروع شده و سری دوم آموزشش تازه همین دیشب روی سایت قرار گرفته است. به نظرم فرصت خوبی برای پیوستن به این آموزش و پیگیری‌اش برای علاقه‌مندان است.</p>
<div class="section" id="id2">
<h2>چطور دریافتش کنیم؟</h2>
<p>در اول پست هم به یکی از <a class="reference external" href="http://shahinism.github.io/posts/blog13910630skhrypty-bry-khhsh-hzynh-shrkht-dr-khls.html">ارسال‌های قبلی‌ام</a> اشاره کردم که در آن اسکریپت Coursera را معرفی کرده بودم تا کمک کند تا کل بحث‌های یک درس را به راحتی دانلود کنید.</p>
</div>
<div class="section" id="id4">
<h2>کمک به انتشار این دروس</h2>
<p>یکی از ویژگی‌های خوب دوره‌های <a class="reference external" href="https://www.coursera.org/">Coursera</a> همراه داشتن زیرنویس انگلیسی برای دروسش است که به نظرم خیلی می‌تواند کمک کننده باشد. خصوصا این که فکر می‌کنم عمده علاقه‌مندان به این بحث معرفی شده‌، ممکن است به دلیل انگلیسی زبان بودن آموزش از آن فرار کنند‌، که در نتیجه ترجمهٔ این زیرنویس‌ها به فارسی توسط این کاره‌هایش‌، می‌تواند کمک بسیار زیادی در انتشار این چنین آموزشی در سطح گسترده‌تر جامعه وب‌مان داشته باشد.</p>
</div>
<div class="section" id="id5">
<h2>اضافات</h2>
<p>عکس مربوط به مجسمهٔ برنز The thinker ساختهٔ آگوست رودین فرانسوی است که می‌توانید در <a class="reference external" href="https://en.wikipedia.org/wiki/The_Thinker">مدخل</a> ویکی‌پدیائش بیشتر در موردش بخوانید.</p>
</div>
</div>
    </div>

    <div class="text-center">
                    <a class="btn btn-success" href="posts/coursera-think-again/#disqus_thread" data-disqus-identifier="cache/posts/coursera-think-again.html">Comments</a>


    </div>

    </article><article class="h-entry post-text"><div class="text-center">

        <h1 class="p-name entry-title"><a href="posts/antigen/" class="u-url">Antigen جعبه ابزار ZSH که فعلا استفاده‌اش نمی‌کنم</a></h1>
            شاهین
      <a href="posts/antigen/" rel="bookmark"><time class="published dt-published" datetime="2013-08-29T15:55:33+04:30" title="2013-08-29 15:55">2013-08-29 15:55</time></a>
    </div>
    <div class="e-content entry-content">
    <div>
<p>قبلا در مورد <a class="reference external" href="http://zsh.org">ZSH</a> و یکی دو ابزار به درد بخورش که سعی می‌کنند زندگی ما مقیمان ترمینال را آسان کنند صحبت کرده‌ایم (<a class="reference external" href="http://shahinism.github.io/posts/blog13901127zsh-dwst-shmst.html">اینجا</a> و <a class="reference external" href="http://shahinism.github.io/posts/blog13910102syntax-highlighting-bry-kht-frmn-zsh.html">این جا</a>). اگر خیلی دنبال امکانات و ابزار‌های جدید در ترمینال‌تان می‌گردید و مثل من <a class="reference external" href="https://github.com/robbyrussell/oh-my-zsh">Oh-My-ZSH</a> همهٔ زندگی‌تان نیست‌، احتمالا مدیریت پلاگین‌های متنوعی که نصب کرده‌اید‌، برای‌تان سخت خواهد بود. این‌جاست که <a class="reference external" href="http://antigen.sharats.me/">Antigen</a> وارد می‌شود‌، کافیست به راحتی زیر لودش کنید:</p>
<pre class="code bash"><a name="rest_code_b625a701d3284d258777c5fe8cc123b9-1"></a>curl https://raw.github.com/zsh-users/antigen/master/antigen.zsh &gt; antigen.zsh
<a name="rest_code_b625a701d3284d258777c5fe8cc123b9-2"></a><span class="nb">source</span> antigen.zsh
</pre>
<p>و پس از آن از دستور <a class="reference external" href="http://antigen.sharats.me/">antigen</a> برای لود یک تم‌، یا یک مجموعه پلاگین خاص در <a class="reference external" href="http://zsh.org">ZSH</a> تان بهره بگیرید‌، مثلا:</p>
<pre class="code bash"><a name="rest_code_2ac2c71634254c1a967b4f0b93c15981-1"></a>antigen bundle zsh-users/zsh-syntax-highlighting
</pre>
<p>خوب این چه کار می‌کند؟‌ به آن بخش zsh-users/zsh-syntax-highlighting نگاه کنید‌، خیلی شبیه به انتهای آدرس github پروژه است که در پست مربوطه‌اش بهتان معرفی کردم‌، این‌طور نیست؟ خوب این دقیقا کاری است که <a class="reference external" href="http://antigen.sharats.me/">antigen</a> انجام می‌دهد‌، کافیست مسیر مربوط به پلاگین را روی گیت‌هاب نشانش دهید تا خودش برای‌تان دانلود و نصبش کند. دفعهٔ بعد که Promptتان را ببینید‌، این پلاگین رویش فعال است.</p>
<p>به قول توسعه دهندهٔ <a class="reference external" href="http://antigen.sharats.me/">Antigen</a> کاربران زیادی برای <a class="reference external" href="http://zsh.org">ZSH</a> پلاگین‌های ریز و درشت مختلفی می‌نویسند که همه‌شان بدون نیاز به هیچ تنظیم خاصی قابلیت نصب روی <a class="reference external" href="http://antigen.sharats.me/">Antigen</a> را دارند. این قضیه محدود به پلاگین‌ها نمی‌شود‌ و می‌توان روی تم‌ها نیز از آن استفاده کرد. مثلا:</p>
<pre class="code bash"><a name="rest_code_c173a644c3ec4160a1614d30314a7a27-1"></a>antigen theme XsErG/zsh-themes themes/lazyuser
</pre>
<p>خوب حالا اگر احساس نیاز به <a class="reference external" href="http://antigen.sharats.me/">Antigen</a> می‌کنید و می‌خواهید همیشه روی شل‌تان نصب باشد‌، کافیست آن را نصبش کنید و از طریق ‎.zshrc کانفیگش کنید که راهنمای این یکی به تفضیل درون صفحهٔ git پروژه موجود است.</p>
<p>و اما سوال مهم:</p>
<div class="section" id="antigen">
<h2>چرا از <a class="reference external" href="http://antigen.sharats.me/">Antigen</a> استفاده نمی‌کنم؟</h2>
<p>حقیقتش <a class="reference external" href="http://antigen.sharats.me/">Antigen</a> با تمام خوبی‌هایش‌، سرعت لود prompt را در اولین بازگشایی ترمینال‌، خیلی‌، خیلی پایین می‌آورد (منظورم نهایتا یک ثانیه است D:). این برای منی که دائما در حال تغییر ترمینال هستم‌، خیلی زود خسته کننده می‌شود و به خاطر همین‌، فعلا بی‌خیال آن شده‌ام. به همین راحتی. اما همانطور که توسعه دهنده گفته‌، این اسکریپت هنوز در وضعیت beta قرار دارد و مطمئنا در آینده بهتر از این خواهد بود. این است که دلم خواست معرفی‌اش کنم ;-)</p>
</div>
</div>
    </div>

    <div class="text-center">
                    <a class="btn btn-success" href="posts/antigen/#disqus_thread" data-disqus-identifier="cache/posts/antigen.html">Comments</a>


    </div>

    </article><article class="h-entry post-text"><div class="text-center">

        <h1 class="p-name entry-title"><a href="posts/shahin-in-military-service/" class="u-url">شاهین‌، سربازی‌، وبلاگ</a></h1>
            شاهین
      <a href="posts/shahin-in-military-service/" rel="bookmark"><time class="published dt-published" datetime="2013-08-26T20:07:22+04:30" title="2013-08-26 20:07">2013-08-26 20:07</time></a>
    </div>
    <div class="e-content entry-content">
    <div>
<div class="section" id="id1">
<h2>سربازی</h2>
<p>سه ماهی می‌شود که ننوشته‌ام. رفته‌ام اجباری یا به قول این ملت جان بر کف میهن‌، سربازی! آخر یکی نیست بگوید گوساله‌، شاهین کجا دلش می‌خواهد سرش را به این راحتی از دست بدهد و اسمش بشود سرباز؟ همان عبارت اجباری قدیمی‌ها خیلی بهتر حق مطلب را در موردش عدا می‌کند‌، به زور برده‌اندش (-;</p>
<p>لپ مطلب آن که‌، نمی‌توانستم آن‌طور که باید و شاید وقتم را بگذارم پای وبلاگ و برایش بنویسم. راستش خیلی دلم می‌خواهد بنویسم‌، نه برای این که خوانده می‌شود (کسی هم اصلا پیدا می‌شود شاهینیسم بخواند؟)، نه! برای این که چیزی یاد بگیرم، برای این که یادم بماند‌، برای این که پشت این نقاب گم نشوم.</p>
<p>نه این که فکر کنید حتما حرفی برای گفتن ندارد که بنویسد و این حرف‌ها ها‌، نه‌، از این خبر‌ها نیست! مشکل بی‌خوابی است‌، مشکل خستگی است و این اواخر گشنگی! خدا را شکر این مورد آخر به خیر از سرمان گذشت. به حول قوهٔ الهی موفق شدم از ۳۰ روزه‌، ۲۹ تایش را بخورم‌، آن یکی هم سحری خواب ماندخ D:</p>
<p>حتما با خود فکر می‌کنید از بس در حال جنگ و رژه و این حرف‌ها هستم‌، این‌قدر خسته می‌شوم… خوب راستش‌، کار که می‌کنم‌، خیلی هم می‌کنم‌، ولی خوب بخش اصلی‌اش نامه‌نگاری و تایپ و این حرف‌هاست که جز این ویندوز XP و مایکروسافت آفیس که الان هم دارم این مطلب را تویش می‌نویسم چیز خسته کننده دیگری در موردش وجود ندارد.</p>
<p>خسته کننده‌، آدم‌های نادان‌، پر ادعا‌، بی‌سواد و فضایی است که ساخته‌اند. فرسایش اعصاب اولین یادگار سربازیس که به سراغ آدم می‌آید. از آن طرف هم وقتی شب به خانه بر می‌گردم‌، این اینترنت کند و داغانم بیشتر روی اعصاب می‌رود. نتیجه‌اش هم که معلوم است. از زور افسردگی هی خوابت می‌آید. بعد هم چون غم تکرار مکررات فردا صبح را در دل داری‌، این خواب نمی‌خواهد رهایت کند و همین‌طور سنگین‌تر می‌شوی.
تازه اگر هم بتوانی از این‌ها فرار کنی‌، درد عضلانی نقشی که دیروز داشته‌ای (حمال) به قدر کافی داغانت می‌کند. نمی‌دانم می‌دانید رسته چیست یا نه‌! نمی‌دانم می‌دانید که این‌ها رویشان نمی‌شود رستهٔ سرباز را رسمی کنند یا نه‌! چون این‌جایی که من خدمت می‌کنم‌، سرباز اگر درجه‌اش سرهنگ هم باشد‌، نه احترام دارد‌، نه می‌تواند استراحت کند. رسته‌اش همان حمال تمامی است ;-)</p>
<p>این است که می‌خواهم به این‌جا پناه بیاورم. هیچ برنامه‌ای هم ندارم! نمی‌دانم اصلا می‌شود یا نه‌، ولی خوب هفته‌ای دو سه بار نوشتن و لابلایش این دل را خالی کردن‌، فکر کنم خوب بتواند کمک کند.</p>
<p>البته این را هم بگویم که این چند وقته چیز‌هایی هم یاد گرفته‌ام. احتمالا همین‌ها می‌شود موضوع بحث‌های پیش روی وبلاگم. کتاب‌های خوبی هم خوانده‌ام. خیلی دوست دارم در موردشان حرف بزنم. امیدوارم تا سر رسیدن موعد نوشتن مطلب‌شان حس نوشتن در موردشان نپرد که آن موقع مجبورم نوشتن در موردشان را تا مرور دوبارهٔ کتاب‌ها عقب بیاندازم.</p>
</div>
<div class="section" id="id2">
<h2>وبلاگستان فارسی</h2>
<p>راستش نمی‌دانم حواستان هست یا نه‌، وبلاگستان فارسی همین‌طور دارد رمغش را از دست می‌دهد‌ها. اگر گیک هستید‌، کتاب می‌خوانید‌، عاشق موسیقی هستید‌، چه می‌دانم‌، هر هنری دارید و علاقه به شریک شدن لذتش هم درون‌تان وجود دارد‌، وبلاگ ارزان ساختن این روز‌ها کاری ندارد. اگر هم ندارید در وبلاگ‌های گروهی خوب مطلب‌تان را منتشر کنید. لینوکس‌ریویو با آن همه فعالیت‌، الان یک سالی است که یخ زده (مطلب‌های ماهی یک بارش را هم خر پف خواب زمستانی‌اش حساب کنید.) اگر همت نوشتن برایش را دارید مطمئن باشید مسعود آموزگار با علاقه مطلب‌تان را منتشر می‌کند.</p>
</div>
<div class="section" id="id3">
<h2>دامنه</h2>
<p>در آخر هم این که Shahinism.com تعطیل شده است. سرباز جماعت فقیر است و به لطف متخصصین امر کشور‌داری در دنیا فقیرتر به نظر می‌رسد. این است که فعلا Shahinism.github.io آدرس وبلاگ است.</p>
</div>
</div>
    </div>

    <div class="text-center">
                    <a class="btn btn-success" href="posts/shahin-in-military-service/#disqus_thread" data-disqus-identifier="cache/posts/shahin-in-military-service.html">Comments</a>


    </div>

    </article><article class="h-entry post-text"><div class="text-center">

        <h1 class="p-name entry-title"><a href="posts/emacs-as-a-terminal-emulator/" class="u-url">این ایمکس دوست داشتنی (استفاده از ایمکس به عنوان ترمینال!)</a></h1>
            شاهین
      <a href="posts/emacs-as-a-terminal-emulator/" rel="bookmark"><time class="published dt-published" datetime="2013-05-29T14:49:26+04:30" title="2013-05-29 14:49">2013-05-29 14:49</time></a>
    </div>
    <div class="e-content entry-content">
    <div>
<p>خوب همانطور که می‌دانید من خیلی خیلی وابسته به ترمینال‌ام هستم. خصوصا این که با هزار ترفند روی i3 یک چیزی شبیه <a class="reference external" href="http://shahinism.github.io/posts/blog13910801trmynl-dropdown-mthl-quake-dr-mdyr-pnjrh-i3.html">Quake</a> درست کردم تا ترمینال‌ام با کلید F12 در دسترس باشد. به هر حال‌، این در دسترس بودن‌، وسوسه‌ام کرد که همین کار را با ایمکس هم انجام دهم. چند روز گذشته همچین وضعیتی بود. با F12 ترمینالم را داشتم و با Meta+F12 ویرایشگرم را. تا حدی قابل قبول بود. ولی خوب باز آن‌قدر‌ها که باید به دل نمی‌نشست.</p>
<p>مهم‌ترین دلیلش این که به دلیل کوچک بودن صفحهٔ مانیتورم‌، با چند پنجرهٔ باز در آن واحد‌، خیلی شلوغ‌کاری می‌شد. این بود که امروز تصمیم گرفتم تا جای ممکن‌، اجزای اضافی را حذف کنم. و خوب وقتی پای ایمکس در میان باشد‌، هر ابزار دیگری اضافه است D:</p>
<p>در دسترس بودن همیشگی ایمکس چند مزیت عمده دارد. اول این که می‌توانم هر وقت که خواستم‌، با <a class="reference external" href="http://orgmode.org/">org-mode</a> و آن قابلیت Capture خیلی خیلی به درد بخورش‌، هر Note, Link یا TODO‌ای که به ذهنم رسید را سریع ثبت کنم که از دستم نرود (راجع به این یکی خیلی حرف خواهیم زد. خیلی هم زود این کار را می‌کنیم). دومندش را هم نمی‌شود این‌جا گفت‌، باید اول راجع به یک چیز دیگر بگویم‌!‌</p>
<p>خوشبختانه <a class="reference external" href="http://shahinism.github.io/categories/emacs.html">ایمکس</a> قابلیت اجرای پوستهٔ فرمان را در خودش دارد. آن هم به هزار و اندی روش مختلف‌! من هنوز راجع به تفاوت‌ها و مزیت‌های این پوسته‌ها زیاد نمی‌دانم. ولی فعلا می‌خواهم بستهٔ multi-term را نصب و تجربه کنم. این بسته در واقع یک سری امکانات اضافه را نسبت به term که همراه خود ایمکس نصب می‌شود به همراه دارد. خوب ما هم فعلا تستش می‌کنیم تا ببینیم چه می‌شود.</p>
<pre class="code text"><a name="rest_code_74ca75c179d44179b980dbc91c24e5c9-1"></a>package-install multi-term
</pre>
<p>و حالا‌ هم با دستور زیر اجرایش می‌کنم:</p>
<pre class="code text"><a name="rest_code_60de6c0f67a744e68e4059f5d44c675d-1"></a>M-X multi-term
</pre>
<!-- TEASER_END: بیشتر بخوانید -->
<p>یک کمی بالا و پایینش می‌کنم. همه چیز خوب کار می‌کند‌، جز این که قابلیت تکمیل خود‌کار حیاتی <a class="reference external" href="http://shahinism.github.io/posts/blog13901127zsh-dwst-shmst.html">ZSH</a> را از دست داده‌ام. چرا؟ نمی‌دانم ولی بیایید ببینیم این کلید چه فرمانی را اجرا می‌کند:</p>
<pre class="code text"><a name="rest_code_0d88ec7feccc49dfaf0c38e7ff685887-1"></a>C-h k TAB
</pre>
<p>ایمکس می‌گوید که دارد <strong>yas-expand-from-trigger-key</strong> را اجرا می‌کند که مربوط به بستهٔ <a class="reference external" href="https://github.com/capitaomorte/yasnippet">Yasnippet</a> است که برای دسترسی سریع به قالب‌های آماده استفاده می‌کنم. (اگر نمی‌دانید چیست نگران نباشید‌، راجع به این هم خیلی زود می‌نویسم). خوب‌، من <a class="reference external" href="https://github.com/capitaomorte/yasnippet">Yasnippet</a> را به صورت سراسری اجرا کرده‌ام. حالا چطور می‌توانم فقط برای این مد خاص خاموشش کنم؟ (عملا نیازی به قالب آماده در شل نیست D:). کمی جستجو در اینترنت و نتیجه می‌گیرم که اضافه کردن یک hook به مد term بهترین راه‌کار است. منظور این که به مد term بگوییم‌، وقتی اجرا شدی خودت Yasnippet را خاموش کن. حتما می‌پرسید چرا مد term و نه multi-term! جوابش را قبلا هم گفتم‌، multi-term یک جور بستهٔ تکمیلی برای term است و بس. اصل کار را term-mode انجام می‌دهد. پس داریم:</p>
<pre class="code cl"><a name="rest_code_229d5d6ed799494f916a2cac60c1f23b-1"></a><span class="p">(</span><span class="nv">add-hook</span> <span class="ss">'term-mode-hook</span> <span class="p">(</span><span class="k">lambda</span><span class="p">()</span>
<a name="rest_code_229d5d6ed799494f916a2cac60c1f23b-2"></a>                        <span class="p">(</span><span class="nv">yas-minor-mode</span> <span class="mi">-1</span><span class="p">)))</span>
</pre>
<p>و تمام. حالا یک‌بار دیگر multi-term را تست می‌کنیم. عالی است. دقیقا رفتار یک Terminal emulator را انجام می‌دهد. حتی <a class="reference external" href="http://htop.sourceforge.net/">htop</a> و <a class="reference external" href="http://ranger.nongnu.org">ranger</a> هم به خوبی کار می‌کنند.</p>
<div class="section" id="i3">
<h2>ایمکس و i3</h2>
<p>حالا که همه چیز خوب کار می‌کند بیایید پنجرهٔ ایمکس را به صورت Scratchpad به <a class="reference external" href="http://i3wm.org">i3wm</a> اضافه کنیم تا بتوانیم با کلید F12 به آن دسترسی داشته باشیم:</p>
<pre class="code text"><a name="rest_code_ea549cddd5094ef18c9a6e4a7c9b29b8-1"></a>floating_minimum_size 75 x 50
<a name="rest_code_ea549cddd5094ef18c9a6e4a7c9b29b8-2"></a>floating_maximum_size -1 x -1
<a name="rest_code_ea549cddd5094ef18c9a6e4a7c9b29b8-3"></a>
<a name="rest_code_ea549cddd5094ef18c9a6e4a7c9b29b8-4"></a>for_window [instance="emacs"] move to scratchpad, border 1pixel
<a name="rest_code_ea549cddd5094ef18c9a6e4a7c9b29b8-5"></a>bindsym F12 [instance="emacs"] scratchpad show, move position 110px 0px
<a name="rest_code_ea549cddd5094ef18c9a6e4a7c9b29b8-6"></a>
<a name="rest_code_ea549cddd5094ef18c9a6e4a7c9b29b8-7"></a>exec --no-startup-id emacs --no-splash -g 125x30
</pre>
<p>این خطوط همهٔ کاری است که باید انجام دهید. در دو خط اول یک حداقل/حداکثر برای سایز پنجره‌های float روی <a class="reference external" href="http://i3wm.org">i3wm</a> تعیین می‌کنیم. با فرستادن ‎-1 به عنوان مختصات حداکثر پنجره‌، در واقع به <a class="reference external" href="http://i3wm.org">i3wm</a> حالی می‌کنیم که کاری به کار سایز پیش‌فرض خود برنامه نداشته باشد. متاسفانه نمی‌توانم با تغییر سایز‌های i3 کنار بیایم‌، هیچ‌وقت هماهنگ نیستند. این است که ترجیح می‌دهم اندازهٔ پنجره با خود ایمکس تنظیم کنم.</p>
<p>در خط سوم پنجرهٔ emacs را به scratchpad می‌فرستم و با خط چهارم کلید F12 را برای toggle کردنش تعیین می‌کنم. در آخر هم ایمکس را با آرگومان ‎-g برای تعیین سایز و ‎--no-splash اجرا می‌کنم. این کار را می‌توان از داخل خود فایل کانفیگ ‎.emacs هم انجام داد. ولی تا آن کاملا لود شود‌، هزار و یک جور تغییر سایز می‌بینیم که برای در رفتن از این وضعیت تغییر اندازه را به زمان اجرای برنامه می‌سپاریم.</p>
<p>آن ‎--no-splash هم دلیل دارد که در ادامه می‌فهمیم.</p>
<img alt="https://dl.dropboxusercontent.com/u/25017694/Blog-photos/vim_in_emacs.png" src="https://dl.dropboxusercontent.com/u/25017694/Blog-photos/vim_in_emacs.png">
</div>
<div class="section" id="id1">
<h2>اجرای پیش‌فرض ترمینال در ایمکس</h2>
<p>خوب حالا که این تنظیمات را انجام دادیم می‌بینیم که بعد از هر بار روشن شدن سیستم باید خودمان multi-term را اجرا کنیم که اصلا خوب نیست. هر چه باشد عمدهٔ استفادهٔ ما روی ترمینال است. اولین کار این است که از دست آن Splash screen ایمکس خلاص شویم که خوب در مرحلهٔ قبل انجامش دادیم.و حال این خط را به ‎.emacs اضافه می‌کنیم:</p>
<pre class="code cl"><a name="rest_code_77c5a862e6164a40b6d87b381bca0719-1"></a><span class="p">(</span><span class="k">setq</span> <span class="nv">initial-major-mode</span> <span class="ss">'multi-term</span><span class="p">)</span>
</pre>
<p>این متغیر <strong>initial-major-mode</strong> یک مد پیش‌فرض را برای پنجرهٔ اولیه ایمکس تعیین می‌کند که ما با قرار دادن multi-term به عنوان مقدارش‌، به ترمینال‌مان می‌رسیم.</p>
</div>
<div class="section" id="id2">
<h2>تغییر سایز پنجره</h2>
<p>قرار که نیست همیشه در آن سایز کوچک به کارمان برسیم. مثلا برای نوشتن همین پست من به یک اندازهٔ بزرگ نیاز دارم. اما خارج کردن ایمکس از حالت floating روی ایمکس‌، آن را از کلید‌های میانبر تعریف کرده‌مان جدا می‌کند (کلید برای دوباره فرستادن این پنجره به scratchpad تعریف نکرده‌ایم). اولین چیزی که به نظرمان می‌رسد این است که یک کلید هم برای فرستادن پنجره به Scratchpad تعیین کنیم‌، ولی به نظرم یک کمی کثیف کاری می‌شود. بهتر است دنبال راه حل بهتری بگردیم.</p>
<p>ایمکس به صورت پیش‌فرض از Fullscreen پشتیبانی می‌کند. هرچند کلی تنظیمات لازم دارد که بستهٔ <a class="reference external" href="https://github.com/ryantm/fullscreen-mode">Fullscreen-mode</a> برای‌مان انجامش می‌دهد. کافیست بسته را به صورت زیر نصب کنید:</p>
<pre class="code text"><a name="rest_code_bc52166520d3455eb3c693bbc45b47b0-1"></a>package-install fullscreen-mode
</pre>
<p>و بعد از اضافه کردن <strong>(follscreen-mode)</strong> به ‎.emacs آن را با زدن کلید F11 فراخوانی کنیم. عالی است نه؟</p>
<p>حالا خیلی راحت تمامی امکانات پیش‌فرض <a class="reference external" href="http://shahinism.github.io/categories/emacs.html">ایمکس</a> را همراه ترمینال‌مان داریم. خیلی راحت می‌توانیم خروجی‌ها را در فایل‌ها سیو کنیم و یا از فعالیت‌مان یک History کامل بسازیم.</p>
<p><strong>نکته ۱</strong>: این یک پست تجربی است. هر وقت چیز جدیدی در این زمینه یاد گرفتم‌، این پست را ویرایش می‌کنم.
<strong>نکته ۲</strong>: برای زدن C-c در ایمکس‌، باید دوبار آن را بزنید. امکانش هست که آن را تغییر دهیم‌، ولی فعلا من به آن دستی نزده‌ام.</p>
</div>
<div class="section" id="id3">
<h2>ویرایش اول</h2>
<p>خوب بعد از تقریبا دو روز سر و کله زدن با این ترمینال‌، به نکاتی بر خوردم که به نظرم خوب است در این‌جا مستند شود:</p>
<div class="section" id="id4">
<h3>ایجاد ترمینال جدید</h3>
<p>اول این که ممکن است شما هم مثل <strong>علیرضا</strong> عزیز که در بخش کامنت‌ها ذکر کرد‌، با ایجاد یک ترمینال جدید مشکل داشته باشید. خوب این کار تنها با صدا زدن دوبارهٔ multi-term قابل انجام است. همان‌طور که <a class="reference external" href="http://shahinism.github.io/posts/blog13920117yn-ymkhs-dwst-dshtny-tryf-khlyd-mynb.html">قبلا</a> هم در این مورد صحبت کردیم‌، می‌توانید برای این کار یک کلید میانبر تعریف کنید. اما اگر مثل من از <a class="reference external" href="http://shahinism.github.io/posts/blog13920119yn-ymkhs-dwst-dshtny-ergoemacs-mode.html">ergoemacs-mode</a> استفاده می‌کنید‌، کافیست برای ایجاد یک ترمینال جدید از C-n بهره بگیرید ;-) (این کلید‌ها به طور پیش‌فرض یک بافر در حالت lisp-mode ایجاد می‌کنند که با تغییر متغیر initial-major-mode ما آن را به یک شل جدید نسبت می‌دهیم).</p>
</div>
<div class="section" id="id5">
<h3>تغییر خودکار مسیر ایمکس همزمان با ترمینال</h3>
<p>وقتی با ترمینال وارد یک مسیر جدید می‌شویم‌، و تصمیم داریم یک فایل را با ایمکس در آن‌جا ویرایش کنیم‌، بدیهی است که کلید C-o (یا C-x C-f پیش‌فرض) باید از آن مسیر اجازهٔ جستجوی فایل را بدهند. ولی به صورت پیش‌فرض به مسیر خانگی‌مان بر می‌گردند. برای حل این مشکل از کد‌هایی که در <a class="reference external" href="https://github.com/daimrod/Emacs-config/blob/master/config-multi-term.el">این‌جا</a> پیدا کردم استفاده می‌کنیم:</p>
<pre class="code cl"><a name="rest_code_2aebb7a4cdb04f5cb5983f53f37e840c-1"></a><span class="p">(</span><span class="nv">defadvice</span> <span class="nv">term-send-input</span> <span class="p">(</span><span class="nv">after</span> <span class="nv">update-current-directory</span><span class="p">)</span>
<a name="rest_code_2aebb7a4cdb04f5cb5983f53f37e840c-2"></a>       <span class="s">"Update the current directory."</span>
<a name="rest_code_2aebb7a4cdb04f5cb5983f53f37e840c-3"></a>       <span class="p">(</span><span class="k">let*</span> <span class="p">((</span><span class="nv">pid</span> <span class="p">(</span><span class="nv">process-id</span> <span class="p">(</span><span class="nv">get-buffer-process</span> <span class="p">(</span><span class="nv">current-buffer</span><span class="p">))))</span>
<a name="rest_code_2aebb7a4cdb04f5cb5983f53f37e840c-4"></a>          <span class="p">(</span><span class="nv">cwd</span> <span class="p">(</span><span class="nv">file-truename</span> <span class="p">(</span><span class="nb">format</span> <span class="s">"/proc/%d/cwd"</span> <span class="nv">pid</span><span class="p">))))</span>
<a name="rest_code_2aebb7a4cdb04f5cb5983f53f37e840c-5"></a>       <span class="p">(</span><span class="nv">cd</span> <span class="nv">cwd</span><span class="p">)))</span>
<a name="rest_code_2aebb7a4cdb04f5cb5983f53f37e840c-6"></a><span class="p">(</span><span class="nv">ad-activate</span> <span class="ss">'term-send-input</span><span class="p">)</span>
<a name="rest_code_2aebb7a4cdb04f5cb5983f53f37e840c-7"></a>
<a name="rest_code_2aebb7a4cdb04f5cb5983f53f37e840c-8"></a><span class="p">(</span><span class="nv">defadvice</span> <span class="nv">term-send-raw</span> <span class="p">(</span><span class="nv">after</span> <span class="nv">update-current-directory</span><span class="p">)</span>
<a name="rest_code_2aebb7a4cdb04f5cb5983f53f37e840c-9"></a>       <span class="s">"Update the current directory."</span>
<a name="rest_code_2aebb7a4cdb04f5cb5983f53f37e840c-10"></a>       <span class="p">(</span><span class="k">let*</span> <span class="p">((</span><span class="nv">pid</span> <span class="p">(</span><span class="nv">process-id</span> <span class="p">(</span><span class="nv">get-buffer-process</span> <span class="p">(</span><span class="nv">current-buffer</span><span class="p">))))</span>
<a name="rest_code_2aebb7a4cdb04f5cb5983f53f37e840c-11"></a>           <span class="p">(</span><span class="nv">cwd</span> <span class="p">(</span><span class="nv">file-truename</span> <span class="p">(</span><span class="nb">format</span> <span class="s">"/proc/%d/cwd"</span> <span class="nv">pid</span><span class="p">))))</span>
<a name="rest_code_2aebb7a4cdb04f5cb5983f53f37e840c-12"></a>       <span class="p">(</span><span class="nv">cd</span> <span class="nv">cwd</span><span class="p">)))</span>
<a name="rest_code_2aebb7a4cdb04f5cb5983f53f37e840c-13"></a><span class="p">(</span><span class="nv">ad-activate</span> <span class="ss">'term-send-raw</span><span class="p">)</span>
</pre>
<p>خوب سواد من نسبت به این توابع خیلی کم است. اما اول این که با <strong>defadvice</strong> دو تابع term-send-input/raw را به قولی نصیحت می‌کنیم که هر بار با تغییر مسیر ترمینال‌، از مسیر ‎proc آخرین مسیر حاضر را را دریافت کند و به آن وارد شود. دستور cd استفاده شده‌، مربوط به ایمکس است و ربطی به لینوکس ندارد. ولی بدیهی است که این تابع فقط روی سیستم‌های یونیکس بیس کار خواهد کرد.</p>
</div>
<div class="section" id="id7">
<h3>جانشینی کلید‌های میانبر</h3>
<p>بعد از مدتی کار متوجه می‌شوید میانبر‌های ترمینال‌تان به درستی عمل نمی‌کنند. مثلا C-r که در تاریخچهٔ ترمینال جستجو می‌کند‌،‌ درون ایمکس‌، خود بافر را جستجو می‌کند. این است که کلید‌های میانبر را به این صورت تعریف می‌کنیم (این کد‌ها را از <a class="reference external" href="http://paralambda.org/2012/07/02/using-gnu-emacs-as-a-terminal-emulator">این وبلاگ</a> گرفتم):</p>
<pre class="code cl"><a name="rest_code_39b76bda10dc4b1ab31153125fc61097-1"></a><span class="p">(</span><span class="nb">when</span> <span class="p">(</span><span class="nb">require</span> <span class="ss">'multi-term</span> <span class="no">nil</span> <span class="no">t</span><span class="p">)</span>
<a name="rest_code_39b76bda10dc4b1ab31153125fc61097-2"></a>       <span class="p">(</span><span class="nv">global-set-key</span> <span class="p">(</span><span class="nv">kbd</span> <span class="s">"&lt;C-up&gt;"</span><span class="p">)</span> <span class="ss">'multi-term-next</span><span class="p">)</span>
<a name="rest_code_39b76bda10dc4b1ab31153125fc61097-3"></a>       <span class="p">(</span><span class="nv">global-set-key</span> <span class="p">(</span><span class="nv">kbd</span> <span class="s">"&lt;C-down&gt;"</span><span class="p">)</span> <span class="ss">'multi-term-prev</span><span class="p">)</span>
<a name="rest_code_39b76bda10dc4b1ab31153125fc61097-4"></a>       <span class="p">(</span><span class="k">setq</span> <span class="nv">multi-term-buffer-name</span> <span class="s">"term"</span>
<a name="rest_code_39b76bda10dc4b1ab31153125fc61097-5"></a>         <span class="nv">multi-term-program</span> <span class="s">"/bin/zsh"</span><span class="p">))</span>
<a name="rest_code_39b76bda10dc4b1ab31153125fc61097-6"></a>
<a name="rest_code_39b76bda10dc4b1ab31153125fc61097-7"></a><span class="c1">; Define keybindings</span>
<a name="rest_code_39b76bda10dc4b1ab31153125fc61097-8"></a><span class="p">(</span><span class="nb">when</span> <span class="p">(</span><span class="nb">require</span> <span class="ss">'term</span> <span class="no">nil</span> <span class="no">t</span><span class="p">)</span> <span class="c1">; only if term can be loaded..</span>
<a name="rest_code_39b76bda10dc4b1ab31153125fc61097-9"></a>       <span class="p">(</span><span class="k">setq</span> <span class="nv">term-bind-key-alist</span>
<a name="rest_code_39b76bda10dc4b1ab31153125fc61097-10"></a>           <span class="p">(</span><span class="nb">list</span> <span class="p">(</span><span class="nb">cons</span> <span class="s">"C-c C-c"</span> <span class="ss">'term-interrupt-subjob</span><span class="p">)</span>
<a name="rest_code_39b76bda10dc4b1ab31153125fc61097-11"></a>               <span class="p">(</span><span class="nb">cons</span> <span class="s">"M-u"</span> <span class="ss">'previous-line</span><span class="p">)</span>
<a name="rest_code_39b76bda10dc4b1ab31153125fc61097-12"></a>               <span class="p">(</span><span class="nb">cons</span> <span class="s">"M-e"</span> <span class="ss">'next-line</span><span class="p">)</span>
<a name="rest_code_39b76bda10dc4b1ab31153125fc61097-13"></a>               <span class="p">(</span><span class="nb">cons</span> <span class="s">"M-o"</span> <span class="ss">'term-send-forward-word</span><span class="p">)</span>
<a name="rest_code_39b76bda10dc4b1ab31153125fc61097-14"></a>               <span class="p">(</span><span class="nb">cons</span> <span class="s">"M-n"</span> <span class="ss">'term-send-backward-word</span><span class="p">)</span>
<a name="rest_code_39b76bda10dc4b1ab31153125fc61097-15"></a>               <span class="p">(</span><span class="nb">cons</span> <span class="s">"C-c C-j"</span> <span class="ss">'term-line-mode</span><span class="p">)</span>
<a name="rest_code_39b76bda10dc4b1ab31153125fc61097-16"></a>               <span class="p">(</span><span class="nb">cons</span> <span class="s">"C-c C-k"</span> <span class="ss">'term-char-mode</span><span class="p">)</span>
<a name="rest_code_39b76bda10dc4b1ab31153125fc61097-17"></a>               <span class="p">(</span><span class="nb">cons</span> <span class="s">"M-r"</span> <span class="ss">'term-send-backward-kill-word</span><span class="p">)</span>
<a name="rest_code_39b76bda10dc4b1ab31153125fc61097-18"></a>               <span class="p">(</span><span class="nb">cons</span> <span class="s">"M-w"</span> <span class="ss">'term-send-forward-kill-word</span><span class="p">)</span>
<a name="rest_code_39b76bda10dc4b1ab31153125fc61097-19"></a>               <span class="p">(</span><span class="nb">cons</span> <span class="s">"&lt;C-left&gt;"</span> <span class="ss">'term-send-backward-word</span><span class="p">)</span>
<a name="rest_code_39b76bda10dc4b1ab31153125fc61097-20"></a>               <span class="p">(</span><span class="nb">cons</span> <span class="s">"&lt;C-right&gt;"</span> <span class="ss">'term-send-forward-word</span><span class="p">)</span>
<a name="rest_code_39b76bda10dc4b1ab31153125fc61097-21"></a>               <span class="p">(</span><span class="nb">cons</span> <span class="s">"C-r"</span> <span class="ss">'term-send-reverse-search-history</span><span class="p">)</span>
<a name="rest_code_39b76bda10dc4b1ab31153125fc61097-22"></a>               <span class="p">(</span><span class="nb">cons</span> <span class="s">"M-x"</span> <span class="ss">'term-send-raw-meta</span><span class="p">)</span>
<a name="rest_code_39b76bda10dc4b1ab31153125fc61097-23"></a>               <span class="p">(</span><span class="nb">cons</span> <span class="s">"M-m"</span> <span class="ss">'term-send-raw-meta</span><span class="p">)</span>
<a name="rest_code_39b76bda10dc4b1ab31153125fc61097-24"></a>               <span class="p">(</span><span class="nb">cons</span> <span class="s">"M-c"</span> <span class="ss">'term-send-raw</span><span class="p">))))</span>
</pre>
<p>با آن تابع اول دو کلید سراسری را زمانی که یک multi-term ایجاد شد تعیین می‌کنیم. این کلید‌ها امکان دسترسی سریع به ترمینال را وقتی در بافر دیگری هستیم فراهم می‌کنند. همین‌طور اسم بافر ترمینال و نوع پوستهٔ مورد استفاده را تعیین می‌کنیم که زیاد لازم نیست‌، ولی بودنش ضرری هم ندارد (خود multi-term با خواندن متغیر محیطی SHELL پوستهٔ مورد استفاده را کشف می‌کند).</p>
<p>باقی کلید‌های تعریف شده را هم کمی تغییر دادم تا با <a class="reference external" href="http://shahinism.github.io/posts/blog13920119yn-ymkhs-dwst-dshtny-ergoemacs-mode.html">ergoemacs-mode</a> روی چینش <a class="reference external" href="http://shahinism.github.io/posts/blog13920114chynsh-lywt-workman-w-dstn-mhjrtm.html">workman</a> سازگار باشد. شما هم می‌توانید با توجه به نیاز‌تان تغییرشان دهید.</p>
</div>
<div class="section" id="line-mode-char-mode">
<h3>line-mode, char-mode</h3>
<p>این دو مد multi-term هر کدام امکانات متفاوتی دارند. مثلا در line-mode با بافر ترمینال مثل یک بافر معمولی ایمکس برخورد می‌شود که به راحتی قابلیت ویرایش دارد. char-mode همان مد پیش‌فرض ترمینال است. در مرحلهٔ قبل برای این دو مد هم کلید میانبر تعریف کردیم.</p>
</div>
<div class="section" id="openbox">
<h3>هماهنگ‌سازی ایمکس و ترمینالش در OpenBox</h3>
<p>ممکن است شما هم مثل علیرضای عزیز‌، از i3 استفاده نکنید. این است که لازم می‌شود به روش متفاوتی نسبت به میز‌کار‌تان این امکانات بحث شده در این پست را فراهم کنید. علیرضا زحمت کشیده و روشی برای راه‌اندازی همچین چیزی در OpenBox ساخته. این روش را در <a class="reference external" href="http://alinuxgeek.wordpress.com/2013/05/29/%d8%b4%d8%b1%d8%aa%da%a9%d8%a7%d8%aa-%d8%a8%d8%a7%d9%84%d8%a7-%d9%81%d9%88%da%a9%d9%88%d8%b3-%d8%b1%d9%88%db%8c-%d9%be%d9%86%d8%ac%d8%b1%d9%87-%d8%a7%db%8c%d9%85%da%a9%d8%b3">وبلاگش</a> بخوانید.</p>
</div>
</div>
</div>
    </div>

    <div class="text-center">
                    <a class="btn btn-success" href="posts/emacs-as-a-terminal-emulator/#disqus_thread" data-disqus-identifier="cache/posts/emacs-as-a-terminal-emulator.html">Comments</a>


    </div>

    </article><article class="h-entry post-text"><div class="text-center">

        <h1 class="p-name entry-title"><a href="posts/backup_with_dropbox/" class="u-url">پشتیبان‌گیری با rsync, cron, dropbox</a></h1>
            شاهین
      <a href="posts/backup_with_dropbox/" rel="bookmark"><time class="published dt-published" datetime="2013-05-28T10:25:59+04:30" title="2013-05-28 10:25">2013-05-28 10:25</time></a>
    </div>
    <div class="e-content entry-content">
    <div>
<p>خوب قربانش بروم‌، با <a class="reference external" href="http://shahinism.github.io/posts/blog13910825wqty-dzdy-mykhnmnyd.html">اعجوبه‌ای</a> که به نام اینترنت به ما می‌فروشند‌، زیاد سعادت آن را نداریم که از Cloud و امکاناتش در هر زمینه که لازم بود بهره ببریم. این است که عمدتا بیخودی مجبوریم به خودمان استرس وارد کنیم. مساله این‌جاست که تا همین چند وقت پیش من از سرویس‌های تحت وب برای مدیریت برخی از اطلاعات مهم‌ام استفاده می‌کردم. اما الان دیگر بنا به دلایلی به آن‌ها بی‌اعتماد شده‌ام. این است که این فایل‌ها و ابزار‌های مورد نیازم را روی سیستم خودم دارم و حالا با روش‌هایی که طی پست‌های بعد می‌گویم‌، به روز و نگهداری‌شان می‌کنم.</p>
<p>ولی نکته این‌جاست که با این کار مهم‌ترین مزیت سیستم‌های تحت وب را از دست داده‌ام. چطور؟ اول این که قابلیت انتقال این فایل‌های مهم را از دست داده‌ام و ثانیا این که نمی‌توانم ازشان یک backup درست درمان داشته باشم! نمی‌توانم؟ خوب دروغ گفتم‌، قرار است در نگاه اول این‌طور به نظر برسد! با چند ابزار ساده و به درد بخور لینوکسی، کمی هم چاشنی <a class="reference external" href="http://dropbox.com">Dropbox</a> ‌، هم می‌شود قابلیت انتقال را داشت و هم backup!</p>
<div class="section" id="dropbox">
<h2>Dropbox را نصب کنید</h2>
<p>خوشبختانه <a class="reference external" href="http://dropbox.com">dropbox</a> یک نرم‌افزار متن‌باز GPL‌ایه خوب برای لینوکس دارد که قابلیت Sync کردن فایل‌ها با اکانت dropbox‌مان را بهمان می‌دهد. آن را متناسب با توزیع‌تان پیدا و نصب کنید. مثلا من از این <a class="reference external" href="http://slackbuilds.org/repository/14.0/network/dropbox/">SlackBuild</a> استفاده کردم.</p>
<p>بعد از نصب احتمالا اگر خودتان دستکاری‌اش نکرده باشید <strong>‎~/Dropbox</strong> پوشه‌ای است که قرار است با اکانت‌تان Sync شود. من آن را در مسیر دیگری قرار دادم. شما هم می‌توانید بسته به نیاز‌تان مسیر بهتری را انتخاب کنید. هر چه باشد فایل‌های مهمی تویش است‌، خوبیت ندارد همین‌طوری توی چشم باشد که ;-)</p>
<p>برای اجرای خودکار این برنامه در هنگام ورود به سیستم کافیست دستور <strong>dropboxd</strong> را در هنگام ورود به محیط‌کار‌تان اجرا کنید. یعنی یا آن را به فایل <strong>‎~/.xinitrc</strong> تان اضافه کنید. یا مثل من بگذارید توی تنظیمات i3 که اجرا شود. روش‌های دیگری هم هست‌، ولی همین یکی فکر کنم کفایت کند‌!</p>
</div>
<div class="section" id="backup">
<h2>اسکریپت backup</h2>
<p>حالا که تنها کافیست فایل‌های مهم‌مان را درون یک پوشه بریزیم تا خود به خود روی <a class="reference external" href="http://dropbox.com">Dropbox</a> کپی شود‌، یک اسکریپت می‌خواهیم که این کار را به نحو مناسبی برای‌مان انجام دهد. عملا کپی (cp) کردن فایل جواب مساله‌مان نیست. چطور؟ خوب ممکن است بخواهیم فایل‌مان را تغییر دهیم یا چه می‌دانم‌، فایل خاصی به دایرکتوری اضافه کنیم. این است که دوست قدیمی‌مان rsync را صدا می‌زنیم. اسکریپت من یک هم‌چین چیزی از آب در آمد:</p>
<pre class="code bash"><a name="rest_code_fbacd273541b4c329cdea2de7e223114-1"></a>rsync -a -v ~/.pwsafe* ~/Workspace/Dropbox/safe
<a name="rest_code_fbacd273541b4c329cdea2de7e223114-2"></a>rsync -r -v ~/Workspace/org ~/Workspace/Dropbox
</pre>
<p>سر راست است این‌طور نیست؟ فعلا شروع کار است‌، احتمالا در آینده عملش طولانی‌تر هم می‌شود‌، ولی احتمالا باز هم به همین سادگی‌ست. حالا کافیست هر بار آن را اجرا کنم تا فایل‌ها خیلی تمیز کپی شوند داخل پوشهٔ <a class="reference external" href="http://dropbox.com">dropbox</a> ام و برنامهٔ dropbox آن را برایم بفرستد روی Cloud!</p>
</div>
<div class="section" id="id2">
<h2>اجرای خود‌کار اسکریپت</h2>
<p>الان هم اسکریپت‌مان خوب کار می‌کند و هم پوشهٔ <a class="reference external" href="http://dropbox.com">dropbox</a> فایل‌ها را خیلی راحت روی Cloud می‌فرستد. ولی هنوز یک ضعف وجود دارد. این که هر بار باید خودم یادم باشد که اسکریپت را اجرا کنم. خوب با این حافظهٔ من‌، می‌دانم که کل این پروسهٔ backup‌گیری با شکست مواجه می‌شود. اولین انتخابم این است که مثلا کاری کنم که موقع خاموش‌کردن سیستم این اسکریپت اجرا شود که چندان عقلانی به نظر نمی‌رسد! به هر حال اینترنت ماست دیگر‌! همیشه که سر حال نیست.</p>
<p>این است که به سراغ آن یکی دوست قدیمی‌مان می‌رویم‌، cron! وظیفهٔ این دوست‌مان این است که یک دستوری را بگیرد و به طبق زمان‌بندی خاصی اجرایش کند. اگر درست نمی‌شناسیدش کافیست یک سری به manpage‌اش بزنید و یا <a class="reference external" href="http://www.cyberciti.biz/faq/how-do-i-add-jobs-to-cron-under-linux-or-unix-oses/">این پست cyberciti</a> را بخوانید.</p>
<p>برای اضافه‌کردن یک job جدید‌، کافیست دستور <strong>crontab -e</strong> را وارد کنیم. خودش فایل را باز می‌کند و نوبت ویرایش شما می‌رسد. اما قبل از آن بهتر است که تعیین کنید که کدام ویرایش‌گر برای این کار استفاده شود. خودش به صورت پیش‌فرض از vi استفاده می‌کند که من دوستش ندارم. این است که با گذاشتن <strong>export EDITOR=vim</strong> داخل ‎~/.zshrc‌ام بهش می‌گویم که از vim استفاده کند که بسیار قابل تحمل‌تر است.</p>
<p>حالا خط زیر را به عنوان job اضافه می‌کنم.</p>
<pre class="code text"><a name="rest_code_65df566dcebe494d9661aa8dbb633ae1-1"></a>@hourly ID=backup-hourly /home/shahin/Workspace/bin/dropbackup.sh &gt; /home/shahin/.cronstatus
</pre>
<p>یعنی هر ساعت (‎@hourly) دستور dropbackup.sh را اجرا کن و خروجی‌اش را جای ایمیل کردن برایم (ایمیل داخل خود سیستم منظورم است) آن را درون فایل ‎.cronstatus ذخیره کن. به همین راحتی ;-)</p>
<p><strong>ویرایش اول</strong>: تگ ID حتما باید در دستور وجود داشته باشد‌، در غیر این صورت دستور به درستی عمل نمی‌کند.</p>
</div>
</div>
    </div>

    <div class="text-center">
                    <a class="btn btn-success" href="posts/backup_with_dropbox/#disqus_thread" data-disqus-identifier="cache/posts/backup_with_dropbox.html">Comments</a>


    </div>

    </article><article class="h-entry post-text"><div class="text-center">

        <h1 class="p-name entry-title"><a href="posts/introduction-to-irc/" class="u-url">مقدمه‌ای بر IRC</a></h1>
            شاهین
      <a href="posts/introduction-to-irc/" rel="bookmark"><time class="published dt-published" datetime="2013-05-22T10:52:37+04:30" title="2013-05-22 10:52">2013-05-22 10:52</time></a>
    </div>
    <div class="e-content entry-content">
    <div>
<div class="section" id="id1">
<h2>مقدمه</h2>
<p>شروع کارم با IRC به مدت‌ها قبل بر می‌گردد‌. اما همین چند وقت پیش که نیازم به ارتباط همزمان‌، آن هم با دنگ و فنگ‌های چت GMail (که خودتان دلیل عمده‌اش را بهتر از من می‌دانید) بیشتر شد سعی کردم با این ابزار و امکاناتش بیشتر آشنا شوم. در این پست قصد داریم کمی با این ابزار قدیمی‌، ولی خیلی خیلی کاربردی آشنا شویم. در حد مثلا قطره از دریا ;-)</p>
</div>
<div class="section" id="id2">
<h2>این دیگر چیست؟</h2>
<p>IRC را به صورت ناشیانه می‌توان‌، شهری بزرگ دانست که به محلاتی کوچک (شبکه‌ها) که عمدتا‌، هدف خاصی دارند تقسیم شده. مثلا محله‌ای برای نرم‌افزار‌های آزاد (<a class="reference external" href="http://freenode.net">Freenode</a>) یا مثلا محله‌ای برای هکر‌ها الکترونیک و الی آخر. هر کدام از این محلات به تعداد زیادی خانه (Channel) تقسیم شده‌اند که در آن‌ها تنها حول موضوع خاصی صحبت می‌شود. مثلا زبان برنامه‌نویسی C یا توزیع Slackware. یک‌جور‌هایی مثل همان <strong>اتاق‌های چت</strong> است که احتمالا اگر هم دوران من باشید‌، خوب به خاطر دارید.</p>
<p>ولی خوب‌، این‌جا دیگر خبری از آن بی‌نظمی‌ها و ناشی‌گری‌های مرسوم در اتاق‌های چت نیست. عموما مدیران این خانه‌ها می‌توانند اگر دست از پا خطا کردید‌، سر نگون‌تان کنند. همین‌طور امکانات جالبی که شبکه‌های IRC فراهم می‌کنند‌، برنامه‌نویسان را قادر می‌سازند که اسکریپت‌های مدیریتی برای این خانه‌ها بنویسند و عملکرد آن‌ها را به چیزی فراتر از یک اتاق چت <strong>ارتقا</strong> دهند (نمونه‌اش همین <a class="reference external" href="https://github.com/fzerorubigd/pmg">PMG</a> که <a class="reference external" href="http://cyberrabbits.net">فرود</a> عزیز زحمتش را کشیده بود).</p>
<p>کوچک‌ترین فضای گفتگو در این اجتماع نیز‌، اتاق‌های خصوص‌اند. جایی که می‌توانید بدون ایجاد مزاحمت برای دیگران‌، با شریک‌تان به گفتگو و تبادل نظر بپردازید‌! خوشبختانه با وجود تمامی امکاناتی که IRC فراهم می‌کند‌، این تبادل نظر تنها به کاراکتر‌ها محدود شده‌، وگرنه با <strong>ظرفیت</strong> بالای ما ایرانی جماعت‌… اهم اهم‌، کجا بود؟ ها می‌گفتم که عموما اجتماعی که در IRC‌ها می‌بینید‌، افراد حرفه‌ای هستند و قصد اتلاف وقت‌شان را ندارند. این است که همین اول کار پیشنهاد می‌کنم قبل از هول هولکی وارد شدن به این اجتماع‌ها و رونمایی از خودتان‌، ۱۵ دقیقه یک کانال فعال مثلا ‎##C یا چه می‌دانم مثلا ‎#slackware (که هر دو شان در محلهٔ <a class="reference external" href="http://freenode.net">freenode</a> قرار دارند) را مطالعه کنید. منظورم این است که رفتار افراد را ببینید.</p>
<p>آن‌وقت می‌بینید افرادی که با دقت سوال می‌کنند یا حرف می‌زنند چطور جواب می‌گیرند و افرادی که دور از جان‌تان احمقانه به میدان می‌آیند چه نصیب‌شان می‌شود. به هر حال برویم کمی به نقاط فنی قضیه بپردازیم.</p>
<!-- TEASER_END: بیشتر بخوانید -->
</div>
<div class="section" id="irc">
<h2>چطور می‌توان از IRC استفاده کرد؟</h2>
<p>به صورت تکنیکی‌، شما باید یک ارتباط از سمت Client به یکی از Server‌های IRC بر‌قرار کنید. که این به این معناست که انتخاب ابزار اتصال‌تان دست خودتان است. می‌توانید مثلا از ابزار‌های خط فرمانی مثل <a class="reference external" href="http://www.irssi.org">irssi</a> استفاده کنید. یا مثل من از <a class="reference external" href="http://hexchat.org">Hexchat</a> (یک فورک از <a class="reference external" href="http://xchat.org">Xchat</a> غول بازنشستهٔ کلاینت‌های IRC) استفاده کیند. یا شاید مثل من در آینده از <a class="reference external" href="http://www.emacswiki.org/ERC">erc</a> (کلاینت <a class="reference external" href="http://shahinism.github.io/categories/emacs.html">Emacs</a> ای IRC) بهره بگیرید. حتی اگر حال هیچ کدام را ندارید می‌توانید از یک کلاینت تحت وب که مثل مور و ملخ ریخته بهره بگیرید. این دیگر بسته به خود‌تان است.</p>
</div>
<div class="section" id="id3">
<h2>بعد از انتخاب کلاینت چه کنیم؟</h2>
<p>بعد از انتخاب کلاینت‌ (فرض می‌کنیم که <a class="reference external" href="http://hexchat.org">Hexchat</a>) انتخاب‌تان باشد‌، نصبش می‌کنیم و اجرا‌، که همچین چیزی نصیب‌مان می‌شود:</p>
<img alt="https://dl.dropboxusercontent.com/u/25017694/Blog-photos/hexchat_networkList.png" src="https://dl.dropboxusercontent.com/u/25017694/Blog-photos/hexchat_networkList.png"><p>که شرحش به قرار زیر است:</p>
<ul class="simple">
<li>در بخش User information به معرفی خودتان می‌پردازید. <strong>Nick name</strong> همان اسم اصلی‌تان است که اگر ثبتش کرده باشید‌، به تنظیم باقی قضایا کاری ندارید. اما اگر ثبتش نکرده‌اید (منظور از ثبت روی شبکهٔ مورد نظر‌تان (همان محله) است) و کس دیگری در همان زمان در حال استفاده از آن اسم باشد‌ یا این اسم را ثبت کرده باشد‌، به انتخاب دوم این لیست تغییر نام می‌دهید. همین اتفاق و شرایط برای انتخاب‌های بعدی صادق است.</li>
<li>در بخش Networks‌، محلهٔ مورد نظر‌تان را انتخاب می‌کنید. برای منی که عمدهٔ علایقم مربوط به لینوکسی‌هاست‌، <a class="reference external" href="http://freenode.net">Freenode</a> بهترین انتخاب است. همان‌طور که می‌بینید‌، گزینه‌های انتخاب خیلی خیلی بیشتر از این حرف‌هاست. پیشنهاد من این است که اول دنبال این بگردید که دوست دارید در کدام خانه (Channel) به بحث بنشینید. این‌طوری راحت‌تر می‌توانید آدرس محل مورد نظر‌تان را پیدا کنید.</li>
<li>در سمت راست هم یک سری گزینه می‌بینید که از اسم‌شان معلوم است به درد چه کاری می‌خورند. مهم‌ترینش Edit است که اگر Nick name ثبت شده دارید به کار‌تان می‌آید. مثلا من اسم shahinism را در شبکهٔ <a class="reference external" href="http://freenode.net">Freenode</a> ثبت کرده‌ام. برای احراض هویتم (می‌دانم که این عبارت‌های معمول مورد استفاده‌ام نیست. ولی خرداد ۹۲ است و فصل خاصی است که در تمام اجتماعات فارسی زبان وب‌، بسیار عباراتی از این دست می‌شنویم! ما هم مثل اسفنج جذبشان کردیم D:) کافیست در بخش Nickserv password رمز مربوط به Nickname‌ام را وارد کنم که خود <a class="reference external" href="http://hexchat.org">Hexchat</a> مراحل اتصال به نام کاربری‌ام را انجام دهد و نیازی به دستورات IRC نباشد.</li>
</ul>
<p>در آخر هم <strong>Connect</strong> را می‌زنیم و این نصیبمان می‌شود:</p>
<img alt="https://dl.dropboxusercontent.com/u/25017694/Blog-photos/hexchat_connect.png" src="https://dl.dropboxusercontent.com/u/25017694/Blog-photos/hexchat_connect.png"><p>خوب همان‌طور که می‌بینید الان در محلهٔ Freenode‌ایم. خود <a class="reference external" href="http://hexchat.org">Hexchat</a> از ما می‌پرسد که آیا می‌خواهیم به خانه‌ای برویم یا نه‌، که می‌گوییم نه و به صفحهٔ اصلی freenode خیره می‌شویم… بهتر است اول نام‌مان را ثبت کنیم. چطور؟ <a class="reference external" href="http://freenode.net/faq.shtml#nicksetup">این‌جا</a> توضیح داده. خودم توضیح‌اش نمی‌دهم چون با این مقاله خیلی خیلی بهتر از گفته‌های من می‌توانید بفهمید چه خبر است!</p>
<div class="section" id="id5">
<h3>بعد از ثبت نام</h3>
<p>حالا بعد از ثبت نام می‌توانیم به یکی از خانه‌ها برویم؟ بله‌، ولی بهتر است اول به خانهٔ خود <a class="reference external" href="http://freenode.net">freenode</a> به آدرس ‎#freenode برویم تا یک درخواست امنیتی از صاحبانش داشته باشیم. قبل از آن‌، توجه کردید که هر وقت خواستم آدرس خانه‌ای را بدهم‌، اولش یک # (Hash) گذاشتم؟ خوب این روش آدرس‌دهی در محلات IRCاست‌! اما چه در خواست امنیتی‌ای؟</p>
<p>الان‌، با وجود این که ثبت‌نام کرده‌اید‌، دیگر کاربران حاضر در شبکه‌، می‌توانند با یک whois ساده‌، IP آدرس‌تان را به دست آورند. کافیست مثلا برای یوزر shahin (که خودم برای تست از آن استفاده می‌کنم) همچین دستوری بزنم:</p>
<pre class="code text"><a name="rest_code_8f25a1774c5a45f5ac5aa1e815bafa9e-1"></a>/whois shahin
</pre>
<p>که همچین نتیجه‌ای دارد:</p>
<img alt="https://dl.dropboxusercontent.com/u/25017694/Blog-photos/hexchat_whois.png" src="https://dl.dropboxusercontent.com/u/25017694/Blog-photos/hexchat_whois.png"><p>و خوب <a class="reference external" href="http://freenode.net">Freenode</a> یک خدمت رایگانی به اسم Cloak ارائه می‌دهد که به صورت پیش‌فرض فعال نیست. برای فعال کردنش باید یکی از مدیران خانهٔ ‎#freenode این کار را برای‌تان انجام دهد. به این خانه بروید و در خواست‌تان را در همان اتاق اصلی بیان کنید. احتمال خیلی زیاد همان لحظه به درخواست‌تان تکبیر می‌گویند و تمام. حالا وقتی whois می‌شوید همچین چیزی معلوم می‌شود:</p>
<img alt="https://dl.dropboxusercontent.com/u/25017694/Blog-photos/hexchat_whois1.png" src="https://dl.dropboxusercontent.com/u/25017694/Blog-photos/hexchat_whois1.png"><p>در حین نوشتن این مقاله‌، کشف کردم که Whois از یوزر خودی‌، اطلاعات کامل‌تری نسبت به غریبه‌ها در اختیار می‌گذارد. این است که از Timmy پرس و جو کردم و همان‌طور که می‌بینید هیچ خبری از محل تولد‌اش در دسترس نیست (همان IP منظورم است D:).</p>
<p>خوب حالا می‌توانیم وصل شویم؟ بله‌، این گوی و این میدان. از منوی Server گزینهٔ Join a channel را انتخاب کنید. و یا مثلا به صورت زیر دستورتان را وارد کنید:</p>
<pre class="code text"><a name="rest_code_cbde08e2088840f4bc32e3997eef64c7-1"></a>/join technotux
</pre>
<p>و تمام. حالا می‌توانید با هم‌نشینی در میان خدایگان کیفور شوید ;-)</p>
</div>
</div>
<div class="section" id="id6">
<h2>ترفندها:</h2>
<p>احتمالا بعد از چند بار استفاده می‌فهمید که می‌توانید کانال‌ها را Bookmark کنید تا در اتصال‌های بعدی به صورت خودکار به آن‌ها متصل شوید. ولی یک مشکل کوچک وجود دارد. این که کلاینت قبل از این که احراض هویت‌تان قطعی شود شما را به کانال‌ها معرفی می‌کند و این کار دست‌تان می‌دهد. ممکن است مثل کانال ‎‎#‎#c که فقط به اعضای <a class="reference external" href="http://freenode.net">freenode</a> اجازهٔ اتصال می‌دهد‌، تایید صلاحیت نشوید و با اردنگی بیرون‌تان کنند!</p>
<p>خوب خوشبختانه IRC در دورانی توسعه یافته که دستورات کاربردی‌، به جای منو‌های خوشگل حکم‌رانی می‌کردند. این یعنی می‌توانید هر رفتار کلاینت را کنترل کنید. اول دستور زیر را بزنید:</p>
<pre class="code text"><a name="rest_code_f7a9667c81154b6bb4d264467adfa869-1"></a>/set
</pre>
<p>مجموعه‌ای از تنظیمات پیش‌فرض کلاینت را می‌بینید. از جمله <strong>irc_join_delay...............: 3</strong> را که مد نظر ماست. این آپشن‌، مدت زمان Delay قبل از اتصال به کانال‌های مورد علاقه‌تان را کنترل می‌کند. به طور پیش‌فرض پس از اتصال به IRC سه ثانیه طول می‌کشد که درخواست اتصال به شبکه‌ها ارسال شود. خوب این خیلی کم است. بیایید تغییرش دهیم:</p>
<pre class="code text"><a name="rest_code_40f7fd86615f401e8f0914e3c7ee9ef0-1"></a>/set irc_join_delay 30
</pre>
<p>به همین راحتی. حالا ۳۰ ثانیه طول می‌کشد که در خواست‌ها فرستاده شود و در این مدت‌، تمام مراحل احراض هویت مطمئنا به درستی انجام می‌شود ;-)</p>
<div class="section" id="id7">
<h3>فراموشی رمز عبور:</h3>
<p>اگر احیانا فراموش کردید که رمز عبور‌تان چیست‌، کافیست در همان کانال ‎#freenode در خواست کنید که ایمیل بازیابی برای‌تان فرستاده شود.</p>
</div>
<div class="section" id="id8">
<h3>این همه لاگ ورود و خروج:</h3>
<p>هر کاربری که وارد یا خارج می‌شود به صورت پیش‌فرض پیغامی روی صفحهٔ شما نشان داده می‌شود. در کانال‌های کوچک این مشکلی ایجاد نمی‌کند. ولی در کانال‌های بزرگ با دو سه هزار کاربر‌، خیلی خسته کننده است. می‌توانید این ویژگی را با تیک زدن <strong>Hide join and part messagh</strong> از منوی Advanced بخش preferences خاموش کنید.</p>
</div>
</div>
<div class="section" id="id9">
<h2>معرفی چند کانال:</h2>
<p>این لیست کانال‌های محبوب من است. این‌جا می‌گذارم شاید به درد شما هم خورد:</p>
<pre class="code text"><a name="rest_code_a9247c0fbf6c49abb237ff2cc04718ae-1"></a>##c,##slackware,#emacs,#python,#slackbuilds,#technotux,#wikipedia-fa
</pre>
<p>چهار‌تای اول که معلوم است به درد کجا می‌خورند. پنجمی کانال کاربران slackbuilds.org است. ششمی کانال سایت <a class="reference external" href="http://technotux.org">Technotux</a> خودمان است. آخری هم کاربران ویکی‌پدیای فارسی. این دو تای آخر خیلی نسبت به بقیه خلوت‌ترند و عموما بحثی درشان جریان ندارد. شاید چون اصولا ما ایرانی‌ها چیز‌های دیگری جدای از حوضهٔ تخصصیمان‌، مورد توجه‌مان است. اصلا شاید به همین دلیل است که عمرا باید خواب یک Stream حرفه‌ای فارسی زبان را ببینید که از <strong>شکست‌های عشقی</strong> یا دیدگاه‌های فیلسوفانهٔ <strong>سیاسی</strong> خالی باشد!</p>
</div>
</div>
    </div>

    <div class="text-center">
                    <a class="btn btn-success" href="posts/introduction-to-irc/#disqus_thread" data-disqus-identifier="cache/posts/introduction-to-irc.html">Comments</a>


    </div>

    </article><article class="h-entry post-text"><div class="text-center">

        <h1 class="p-name entry-title"><a href="posts/emacs-flyspell-mode/" class="u-url">این ایمکس دوست داشتنی (غلط‌گیر املایی)</a></h1>
            شاهین
      <a href="posts/emacs-flyspell-mode/" rel="bookmark"><time class="published dt-published" datetime="2013-05-20T10:43:10+04:30" title="2013-05-20 10:43">2013-05-20 10:43</time></a>
    </div>
    <div class="e-content entry-content">
    <div>
<p>وقتی که بچه‌تر بودم‌، به بالا بودن نمرات املایم افتخار می‌کردم. ولی خوب انگار آن‌ها ربط مستقیمی به دایرهٔ لغات مورد استفاده‌ام در آن زمان‌ها داشت. به هر حال الان خیلی پیش می‌آید که غلط بنویسم‌! با وسط آمدن پای زبان انگلیسی این مشکل بیشتر خود‌نمایی می‌کند. به هر حال‌، خیلی خوب می‌شود که ویرایشگر محبوبم‌، در درست نوشتن‌هایم کمکم کند.</p>
<div class="section" id="aspell">
<h2>تنظیم aspell</h2>
<p>خوشبختانه <a class="reference external" href="http://shahinism.github.io/categories/emacs.html">Emacs</a> به صورت پیش‌فرض بستهٔ <a class="reference external" href="http://www.emacswiki.org/emacs/InteractiveSpell#toc5">ispell</a> را همراه دارد که قرار است کمک‌مان کند. اول از همه با دستور زیر برنامهٔ غلط‌گیر املایی مورد نظرم را جایگزین برنامهٔ پیش‌فرض <a class="reference external" href="http://www.emacswiki.org/emacs/InteractiveSpell#toc5">ispell</a> می‌کنم.</p>
<pre class="code cl"><a name="rest_code_94e9799a44b643a6aa3a17a3acda0372-1"></a><span class="p">(</span><span class="k">setq</span> <span class="nv">ispell-program-name</span> <span class="s">"aspell"</span><span class="p">)</span>
<a name="rest_code_94e9799a44b643a6aa3a17a3acda0372-2"></a><span class="p">(</span><span class="k">setq</span> <span class="nv">ispell-list-command</span> <span class="s">"list"</span><span class="p">)</span>
</pre>
<p>دستور اول متغیر برنامهٔ غلط‌گیر املایی را به <a class="reference external" href="http://aspell.net/">aspell</a> تغییر می‌دهد و دستور دوم دستور لیستی که همراه با برنامه استفاده می‌شود را مشخص می‌کند. به صورت پیش‌فرض این مقدار برابر ‎-l است که همتای آن در برنامهٔ <a class="reference external" href="http://aspell.net/">aspell</a> مقدار list است.</p>
</div>
<div class="section" id="id1">
<h2>چرا aspell؟</h2>
<p>خوشبختانه این برنامه‌، به زحمت <a class="reference external" href="https://fa.wikipedia.org/wiki/%D8%A2%D9%84%D9%86_%D8%A8%D8%A7%D8%BA%D9%88%D9%85%DB%8C%D8%A7%D9%86">آلن باغومیان</a> عزیز‌، صاحب یک دیکشنری به درد بخور فارسی هم شده. این دیکشنری را که احتمالا همراه <a class="reference external" href="http://aspell.net/">aspell</a> روی سیستم‌تان نصب نمی‌شود را می‌توانید از <a class="reference external" href="ftp://ftp.gnu.org/gnu/aspell/dict/0index.html">این‌جا</a> بگیرید. راهنمای کامپایل و نصبش همراه خود بسته است (عملا یک <strong>‎./configure &amp;&amp; make &amp;&amp; make install</strong> ساده باید کارتان را راه بیاندازد.).</p>
</div>
<div class="section" id="id4">
<h2>نحوهٔ کار</h2>
<p>در عمل شما می‌توانید به چند روش از این غلط‌گیر استفاده کنید. اما اول از همه باید تعیین کنید که از چه زبانی استفاده می‌کنید. زبان پیش‌فرض انگلیسی است. اما شما می‌توانید با فراخوانی تابع <strong>ispell-change-dictionary</strong> (یادتان که نرفته‌، M-x) و وارد کردن اسم دیکشنری (مثل خیلی دیگر از دستورات فراخوانی شده با این روش‌، با tab قابلیت تکمیل خودکار دارد) دیکشنری مد نظر‌تان را صدا کنید. مثلا برای زبان فارسی همچین کاری می‌کنیم:</p>
<pre class="code cl"><a name="rest_code_8de9115aa70c4d8c86fc7b481a338435-1"></a><span class="nv">M-x</span> <span class="nv">ispell-change-dictionary</span> <span class="nv">fa</span>
</pre>
<p>البته دیکشنری‌های متفاوتی با نصب بستهٔ فارسی ispell اضافه می‌شود که بسته به نیاز‌تان (من نفهمیدم فرق‌شان چیست‌، اگر می‌دانید بگویید که ممنون‌تان شوم) یکی را انتخاب کنید.</p>
<div class="section" id="flyspell-mode">
<h3>flyspell-mode</h3>
<p>با فراخوانی این مد‌، کل بافر را تحت تاثیر قرار می‌دهید. در صورت بر خورد با هر غلط املایی‌، لغت تغییر رنگ داده و می‌توانید با کلیک وسط ماوس آن پیشنهاد‌های سیستم‌را انتخاب کنید.</p>
</div>
<div class="section" id="ispell-word-ispell-word">
<h3>
<img alt="ispell-word" src="https://dl.dropboxusercontent.com/u/25017694/Blog-photos/emacs_aspell.png"> ispell-word</h3>
<p>این دستور‌، به درد موقعی می‌خورد که نمی‌خواهید یک flyspell-mode را صدا کنید. به هر حال این مد همیشه هم آن‌قدر که باید خوب عمل نمی‌کند (بیشترین تاثیر را زمانی دارد که کلمه بعد از فراخوانی مد تایپ شود). البته برای رفع مشکلات این مد می‌توانید از <strong>flyspell-region</strong> که محدودهٔ انتخاب شده را بررسی می‌کند استفاده کنید. ولی گاها دوست دارید که تنها یک کلمه که مطمئن نیستید را بررسی کنید. آن وقت است که <strong>ispell-word</strong> دستور مورد نظرتان است. تنها کافیست نشان‌گر را روی لغت ببرید و این دستور را بزنید.</p>
</div>
</div>
<div class="section" id="id5">
<h2>کلید‌های میانبر</h2>
<p>بدیهی است که بهتر است برای این دستورات‌، کلید‌های میانبر تعریف کنیم. مثلا کلید‌های مورد استفادهٔ من این‌ها هستند:</p>
<pre class="code cl"><a name="rest_code_b0975228623e43538d941bda551a8c7b-1"></a><span class="p">(</span><span class="nv">global-set-key</span> <span class="p">(</span><span class="nv">kbd</span> <span class="s">"&lt;f8&gt;"</span><span class="p">)</span> <span class="ss">'ispell-word</span><span class="p">)</span>
<a name="rest_code_b0975228623e43538d941bda551a8c7b-2"></a><span class="p">(</span><span class="nv">global-set-key</span> <span class="p">(</span><span class="nv">kbd</span> <span class="s">"C-S-&lt;f8&gt;"</span><span class="p">)</span> <span class="ss">'flyspell-mode</span><span class="p">)</span>
</pre>
<p>همین‌کار را می‌توانید برای <strong>ispell-change-dictionary</strong> هم انجام دهید. ولی <a class="reference external" href="http://www.emacswiki.org/emacs/InteractiveSpell#toc5">ispell</a> این قابلیت را دارد که از روی سر خط فایل‌، زبان آن را تشخیص دهد. این یعنی این که اگر متنی با زبان فارسی دارم‌، کافیست در خط اول آن یک همچین متنی داشته باشم:</p>
<pre class="code cl"><a name="rest_code_9fae1b352db14695b81ed8177dab82dc-1"></a><span class="nv">-*-</span> <span class="nv">ispell-dictionary:</span> <span class="s">"fa"</span> <span class="nv">-*-</span>
</pre>
<p>تا زبان تنها برای همین بافر حاضر به فارسی تغییر کند. به هر حال این انتخاب‌ها اختیاری است.</p>
</div>
<div class="section" id="id6">
<h2>مشکلات حاضر</h2>
<p>مشکل این است که نمی‌توان دیکشنری را به صورت دو زبانه و همزمان داشت. از طرفی در صفحهٔ ویکی <a class="reference external" href="http://www.emacswiki.org/emacs/InteractiveSpell#toc5">ispell</a> به غلط‌گیر <a class="reference external" href="http://wiki.openoffice.org/wiki/Main_Page">Hunspell</a> اشاره شده که روش خوبی هم برای بررسی متن و تغییر خودکار زبان غلط‌گیر دارد. با توجه به استفاده از این دیکشنری در OpenOffice‌ها خیلی وسوسه شده‌ام که آن را هم تست کنم. به زودی در مورد آن‌ها هم خواهم نوشت.</p>
</div>
</div>
    </div>

    <div class="text-center">
                    <a class="btn btn-success" href="posts/emacs-flyspell-mode/#disqus_thread" data-disqus-identifier="cache/posts/emacs-flyspell-mode.html">Comments</a>


    </div>

    </article><article class="h-entry post-text"><div class="text-center">

        <h1 class="p-name entry-title"><a href="posts/from-wordpress-to-nikola/" class="u-url">از وردپرس به نیکولا</a></h1>
            شاهین
      <a href="posts/from-wordpress-to-nikola/" rel="bookmark"><time class="published dt-published" datetime="2013-05-13T10:21:43+04:30" title="2013-05-13 10:21">2013-05-13 10:21</time></a>
    </div>
    <div class="e-content entry-content">
    <div>
<p>خیلی وقت بود که به فکر انتقال وبلاگم به یکی از سیستم‌های وبلاگ ایستا (Static) بودم. عمده‌ترین دلیلش هم قابلیت خوب Github برای انتشار چنین وبلاگ‌هایی بود. اما بیشتر از یک سال این فکر را عقب انداختم تا دیگر کم کم نگهداری از هاست و دامین وبلاگ آن هم با نوع سرویس دهی شرکت‌های ایرانی‌، برایم خسته کننده شد. وبلاگ‌نویسی قرار نیست تمام فکر و ذکرم را به خودش مشغول کند‌! قرار است یک جای ساده باشد که خیلی راحت بتوان تویش نوشت و منتشر کرد. (الان که دارم می‌نویسم‌، دامین اصلی وبلاگم Shahinism.com لنگ به هواست و نمی‌توانم DNS را به هاست قبلی منتقل کنم)</p>
<div class="section" id="id1">
<h2>چرا یک وبلاگ ایستا؟</h2>
<p>خوب به طور کلی دلایلش از این قرارند:</p>
<ul class="simple">
<li>
<strong>سرعت‌، سرعت‌، سرعت:</strong> دیگر در این نوع از وبلاگ‌، خبری از پایگاه داده نیست. همین‌طور قرار نیست هیچ پردازشی در سمت سرور وبلاگ قرار گیرد. و خوب طبیعتا خیلی خیلی امکاناتی که این ابزار‌ها فراهم می‌کنند را نمی‌توانم داشته باشم. اما حقیقتش در یک وبلاگ‌، به بسیاری از این ابزار‌ها نیاز ندارم. به هر حال این نبودن‌ها‌، یعنی سرعت بیشتر. در مورد من‌، سرعت لود صفحات‌، حدودا سه برابر بیشتر شد.</li>
<li>
<strong>سادگی:</strong> فکر نمی‌کنم چیز زیادی در این زمینه برای گفتن باقی گذاشته باشم.</li>
<li>
<strong>امنیت:</strong> وقتی تنها با صفحات سادهٔ HTML روبرو هستید. وقتی یک سیستم انتشار قابل اطمینان دارید‌‌، دیگر نباید نگران آپدیت بودن ابزار وبلاگ‌نویسی‌تان و یا هک شدنش باشید. این‌طور نیست؟</li>
<li>
<strong>محدود نبودن پهنای باند:</strong> این یکی از آن کابوس‌هایی است که بی‌خبر به سراغ‌تان می‌آید. ولی خوب خوشبختانه روی گیت‌هاب‌، این نگرانی را نداریم ;-)</li>
<li>
<strong>قابلیت بازیابی:</strong> خوب این یکی زیاد مربوط به خود سیستم وبلاگ‌نویسی نیست. ولی چون نتیجهٔ کارش را می‌توان با هر سیستم دلخواهی منتشر کرد و من گیت را انتخاب کرده‌ام‌، خیلی راحت می‌توانم در صورت گند زدن‌، بدون هیچ استرسی آن را به حالت قبل برگردانم. این قابلیت روی هاست‌های اشتراکی پولی و گران است و در سرور‌های اختصاصی‌، خیلی پر دردسر‌تر از چیزی که در این‌جا با آن طرفیم ;-)</li>
</ul>
</div>
<div class="section" id="id2">
<h2>کدام سیستم؟</h2>
<p>به هر حال‌، پس از قطعی شدن تصمیم انتقال‌، باید یکی از سیستم‌ها را انتخاب می‌کردم. به طور کلی این سیستم‌ها اعم از <a class="reference external" href="http://nikola.ralsina.com.ar/">Nikola</a>, <a class="reference external" href="http://docs.getpelican.com/">Pelican</a>, <a class="reference external" href="http://octopress.github.ip/">Octopress</a> و خیلی‌های دیگر که با یک سرچ در اینترنت می‌توانید پیدایشان کنید‌، تفاوت عمده‌ای در نتیجهٔ کار ندارند. طرز کارشان فوق‌العاده ساده است. شما متن پست وبلاگ‌تان را در یک فایل حالا به هر فرمتی که سیستم مورد نظر برای‌تان مهیا کرده می‌نویسید‌، یک قالب هم بر اساس قوائد تعیین شدهٔ سیستم به آن می‌خورانید و می‌گویید که وبلاگ آماده شود. در نهایت این سیستم می‌آید یک سایت کاملا ایستا در فایل‌های html آماده می‌کند که شامل پست‌های شماست و بر اساس قالب مورد نظر‌تان قالب‌بندی شده.</p>
<p>من <a class="reference external" href="http://nikola.ralsina.com.ar/">Nikola</a> را انتخاب کردم‌، چون اولا پایتونی است‌ و بعد از آن خیلی راحت‌تر از <a class="reference external" href="http://docs.getpelican.com/">Pelican</a> که آن هم پایتونی است نصب می‌شود. همین!</p>
<!-- TEASER_END: بیشتر بخوانید -->
</div>
<div class="section" id="id3">
<h2>نام فارسی پست‌ها و مشکلاتش</h2>
<p>برای انتقال وبلاگ وردپرسی‌ام کافی بود که یک خروجی XML از وبلاگم بگیرم و آن را به صورت زیر به نیکولا بخورانم:</p>
<pre class="code sh"><a name="rest_code_d7ff805e372544f69b9450bf00c3a1cd-1"></a>nikola import_wordpress wordpress_output.xml
</pre>
<p>و در این‌جا یک مشکل ساده پیش رویم بود. من روی وبلاگ وردپرسی‌ام از URL‌های فارسی برای پست‌ها استفاده می‌کردم. همان‌طور که می‌دانید کاراکتر‌های Unicode در URL‌ها به صورت خاصی کد می‌شوند و اگر ما آن‌ها را در مرورگرمان به صورت فارسی می‌بینیم‌، این تنها قابلیت مرورگرمان است و بس! یعنی آدرس اصلی URL‌ها همان کد‌های در هم و شلخته است. به هر حال روی وردپرس این امکان مشکل زیادی ایجاد نمی‌کرد و از قرار به SEO سایت هم کمک می‌کرد.</p>
<p>در فرآیند انتقال‌، نیکولا به ازای هر پست یک فایل تکست که حاوی متن پست است با پسوند wp و یک فایل جدا با فرمت meta که حاوی تگ‌ها و اطلاعات دیگر پست است ایجاد می‌کند. نام این فایل‌ها را با کمی دستکاری‌، از روی آدرس قبلی پست‌ها بر می‌دارد. اولین باری که وبلاگ را وارد کردم‌، یک کابوس واقعی بود‌! اسم فایل‌ها همان کاراکتر‌های یونیکد کد شده بود و مدیریت‌شان واقعا سخت.</p>
<p>خوشبختانه پایتون در ماژول urllib متدی به اسم unqoute دارد که می‌تواند این رشته‌ها را به هم‌تای یونیکدی‌شان ترجمه کند. این مساله را با نویسندهٔ <a class="reference external" href="http://nikola.ralsina.com.ar/">Nikola</a> در میان گذاشتم و او هم این قابلیت را به نیکولا اضافه کرد. با این تفاوت که اسم فایل‌ها باز هم فارسی نبود. برای مثال پستی به اسم <strong>این ایمکس دوست داشتنی (بالانس کردن پرانتز‌ها)</strong> اسمی به صورت <strong>yn-ymkhs-dwst-dshtny-blns-khrdn-prn</strong> می‌گرفت. خوب که توجه کنید یک تلاش ناشیانه برای فینگلیش کردن کاراکتر‌ها را می‌بینید. این‌طور نیست؟ خوب این برایم خیلی جالب بود. این عمل با استفاده از تابع <a class="reference external" href="http://www.tablix.org/~avian/blog/archives/2009/01/unicode_transliteration_in_python/">unidecode</a> پایتون در متد slugify نیکولا انجام می‌گرفت. چند نفر دیگر هم این مشکل را با توسعه دهندهٔ <a class="reference external" href="http://nikola.ralsina.com.ar/">Nikola</a> در میان گذاشتند‌، ولی از قرار فعلا نیکولا لازم است که از این تابع استفاده کند‌ و راهی برای دور زدنش نیست (من هم هرچند سوادش را ندارم‌، ولی زیاد درگیرش نشده‌ام).</p>
<p>این است که پست‌های قبلی وبلاگم‌، آدرس‌هایی کوتاه‌تر‌، شکیل‌تر ولی نامفهوم و غیر SEO دارند. اما هر چه باشد‌، فعلا قابل تحمل است‌، شاید در آینده فکری به حالش کردم.</p>
</div>
<div class="section" id="id4">
<h2>طراحی قالب</h2>
<p>نیکولا قابلیت استفاده از دو زبان برای طراحی قالبش را دارد. <a class="reference external" href="http://www.makotemplates.org/">Mako</a> و <a class="reference external" href="http://jinja.pocoo.org/">Jinja2</a>. من به خاطر خوشگلی <a class="reference external" href="http://jinja.pocoo.org/">Jinja2</a> را انتخاب کردم و پس از مطالعهٔ <a class="reference external" href="http://jinja.pocoo.org/docs/templates/">مستنداتش</a> شروع به نوشتن یک قالب برای <a class="reference external" href="http://nikola.ralsina.com.ar/">Nikola</a> کردم. و خوب از آن‌جایی که بنیاد اصلی قالب‌های نیکولا <a class="reference external" href="http://www.makotemplates.org/">Mako</a> بود‌، زیاد دستم به جایی بند نبود. این بود که قالب <strong>Orphan</strong> نیکولا را که با <a class="reference external" href="http://www.makotemplates.org/">Mako</a> نوشته شده بود به <a class="reference external" href="http://jinja.pocoo.org/">Jinja2</a> ترجمه کردم و روی آن کار کردم. ترکیبش با استایل و Markup قالب وردپرسی <a class="reference external" href="http://themes.jimbarraud.com/manifest">Manifest</a> چیزی است که الان روی این وبلاگ می‌بینید.
ترجمهٔ Jinja2‌ای قالب Orphan را برای اضافه شدن به <a class="reference external" href="http://nikola.ralsina.com.ar/">Nikola</a> کامیت کردم‌، ولی هنوز اضافه نشدم (همان بهتر که اضافه نشده‌، چون مشکلاتی دارد که باید حل کنم). قالب فعلی هم بعد از تکامل به لیست قالب‌های <a class="reference external" href="http://nikola.ralsina.com.ar/">Nikola</a> اضافه می‌شود.</p>
</div>
<div class="section" id="syntax-highlighter">
<h2>Syntax highlighter در پست‌ها</h2>
<p>خوب من در وبلاگم زیاد کد به اشتراک می‌گذارم. این است که یک <strong>Syntax highlighter</strong> خوب می‌تواند خیلی کمک کننده باشد. قبلا از دو افزونهٔ مختلف وردپرس که هر کدام نحو مخصوص به خودشان را داشتند استفاده کرده بودم و با هزار بدبختی نحو یکی را با دیگری منطبق کردم که ساختار وبلاگ یک‌پارچه به نظر آید. ولی بعد از انتقال به <a class="reference external" href="http://nikola.ralsina.com.ar/">Nikola</a> هیچ کدام از این نحو‌ها درست کار نمی‌کرد.</p>
<p>باید بیش از ۲۰۰ پست را جستجو می‌کردم و هر جا کدی بود آن را به صورت دستی ویرایش می‌کردم و به شکلی منطبق با <strong>Markdown</strong> در می‌آوردم (<a class="reference external" href="http://nikola.ralsina.com.ar/">Nikola</a> پس از وارد کردن پست‌های وردپرسی به وبلاگ‌، به صورت خودکار آن‌ها را با Markdown کامپایل می‌کند). خوب وقتی <a class="reference external" href="http://shahinism.github.io/categories/emacs.html">Emacs</a> کبیر ویرایش‌گر محبوب‌تان باشد‌، با <strong>dired</strong> و یک Query می‌توانید کل این ویرایش‌ها را یک‌جا انجام دهید (نکات تکنیکی کار را بعدا در پست‌های جداگانه می‌نویسم. ولی همین اشاره‌ها هم باید به قدر کافی روشنگر باشند).</p>
<p>این را هم اضافه کنم که <a class="reference external" href="http://nikola.ralsina.com.ar/">Nikola</a> برای این کار از Pygments استفاده می‌کند که لیست Lexer‌هایش را می‌توانید از <a class="reference external" href="http://pygments.org/docs/lexers/">اینجا</a> ببینید.</p>
</div>
<div class="section" id="id5">
<h2>دیدگاه‌ها</h2>
<p>قبلا گفتم که با <a class="reference external" href="http://nikola.ralsina.com.ar/">Nikola</a> دیگر خبری از پایگاه داده نیست. تنها ابزار خیلی خیلی مهم مورد نیاز برای وبلاگ‌نویسی بخش دیدگاه‌هاست که از چند وقت پیش دوباره برگردانده بودمش روی <a class="reference external" href="http://disqus.com">Disqus</a>. این ابزار فوق‌العاده است. ولی خوب فعلا یک مشکل عمده‌ای که با آن دارم این است که نمی‌توانم متن کامنت‌ها را در آن راست به چپ کنم. قبلا این امکان در آن وجود داشت که با CSS آن را کنترل کنم. ولی در نسخهٔ جدید این امکان را حذف کرده‌اند (چرا؟ نمی‌دانم). با مدیرانش تماس گرفتم و گفتند که در تلاشند تا امکان نمایش درست دیدگاه‌های RTL را به <a class="reference external" href="http://disqus.com">Disqus</a> اضافه کنند. تا آن موقع مجبوریم با این یکی کنار بیاییم D:</p>
<p>اما یک نکتهٔ دیگر هم باقی می‌ماند. همانطور که قبلا گفتیم‌، بعد از انتقال به <a class="reference external" href="http://nikola.ralsina.com.ar/">Nikola</a> آدرس پست‌های‌مان تغییر کرده. در نتیجه‌، <a class="reference external" href="http://disqus.com">Disqus</a> از آدرس‌های جدید برای کامنت‌های وبلاگ‌مان استفاده می‌کند و کامنت‌های قبلی‌مان را در جای درست نشان نمی‌دهد. <a class="reference external" href="http://disqus.com">Disqus</a> برای این کار یک قابلیت Migration دارد که با گرفتن یک فایل ‎.csv آدرس کامنت‌های قبلی را به هم‌تایان جدید‌شان تبدیل می‌کند. <a class="reference external" href="http://nikola.ralsina.com.ar/">Nikola</a> به طور خودکار پس از وارد کردن وردپرس‌، این فایل را در شاخهٔ اصلی ایجاد می‌کند که می‌توانید استفاده کنید.</p>
</div>
<div class="section" id="github">
<h2>استفاده از Github</h2>
<p>برای این‌کار کافی است یک مخزن در <a class="reference external" href="http://github.com">Github</a> ایجاد کنید و پوشهٔ <strong>output</strong> را به آن بسپارید. ضمنا توجه کنید در صورتی که قصد دارید مثل من وبلاگ (برای کاربر یا یک گروه) ایجاد کنید نام مخزن باید به صورت <strong>username.github.io</strong> باشد و صفحات در برنچ <strong>master</strong> آپلود شوند.</p>
<div class="section" id="id6">
<h3>انتقال دامنه</h3>
<p>اگر مثل من قصد داشتید که یک دامنهٔ مستقل به وبلاگ پیوند بزنید‌، کافیست یک فایل به اسم CNAME که تنها حاوی دامنهٔ مورد نظر به صورت text است در شاخهٔ اصلی مخزن اضافه کنید. و سپس در دامنه‌تان یک <a class="reference external" href="http://en.wikipedia.org/wiki/Domain_Name_System">A Record</a> به IP شمارهٔ 204.232.175.78 اضافه کنید (برای این کار باید به DNS Management دامنه‌تان دسترسی داشته باشید).
و خوب مشکل بعدی این‌جا سر راهم سبز شد. در هنگام ثبت دامنه‌ام‌، قرار بود من دسترسی کامل به دامنه داشته باشم و چون قبل از این نمی‌دانستم A Record چیست‌، فکر می‌کردم همین‌طور هم هست. می‌توانستم DNS‌ها را کنترل کنم‌، ولی هیچ‌وقت نیاز به یک Record نداشتم. به هر حال‌‌، چون دیدم به DNS Manager دسترسی ندارم‌، یک تیکت به ثبت کنندهٔ دامنه‌ام زدم و کاشف به عمل آمد این یکی جزء خدمات پولی است‌! خوب چون مدت زیادی به پایان دامنه‌ام نمانده‌، قصد دارم دامنه را به یک Provider اجنبی منتقل کنم که این خدمات و خیلی چیز‌های دیگر که تا قبل از این نمی‌دانستم می‌توانم با دامنه‌ام انجام دهم را مجانی بهم می‌دهد و پول تمدید خیلی کمتری هم طلب می‌کند!</p>
</div>
<div class="section" id="redirect">
<h3>301 Redirect</h3>
<p>چون نمی‌توانستم دامینم را منتقل کنم (این اتفاق بانی خیر شد)‌، یک‌جور‌هایی ناجور بود که دو دامنهٔ متفاوت با یک محتوا فعال باشند (Google به این خاطر امتیاز کم می‌کند). جستجو کردم و دیدم از قبل برای این کار پیش‌بینی‌های لازم شده. این اخطار‌های ۴.۴ یا ۴۰۳ (که این دومی را ما ایرانی‌ها خوب می‌شناسیم) را که یادتان هست. از قرار در زمان اولیه اینترنت اتاق ۳۰۱‌ای بوده که وظیفهٔ انتقال دادن درخواست‌ها را بر عهده داشته.</p>
<p>اما قبل از این که به چگونگی این کار بپردازم به این نکته اشاره کنم که اول از همه به فکرم رسید که دامین را فروارد کنم (که خوشبختانه رایگان بود D:) و این کار را هم کردم. ولی نمی‌دانم Github چرا دامین منتقل شده را درک نمی‌کند و اخطار ۴۰۴ می‌دهد. به هر حال بعدش بود که تغییر مسیر ۳۰۱ را پیدا کردم و دیدم که چقدر بهتر از آن Forward است.</p>
<p>برای این کار چند انتخاب داشتم. اول این که ‎.htaccess را دستکاری کنم. دوم این که به مخزن عظیم پلاگین‌های وردپرس پناه ببرم. خوب من دومی را انتخاب کردم. چون این‌طوری هنوز هم به خیلی از اطلاعات دیگری که وردپرس فعلا می‌تواند در اختیارم بگذارد دسترسی دارم. افزونهٔ <a class="reference external" href="http://wordpress.org/extend/plugins/redirection/">Redirection</a> وردپرس این کار را انجام می‌دهد. و خوشبختانه هم فایل با پسوند CSV‌مان را می‌خواند هم دستور ‎.htaccess را به عنوان ورودی می‌گیرد.</p>
<p>من که یک فایل CSV که <a class="reference external" href="http://nikola.ralsina.com.ar/">Nikola</a> برایم آماده کرده بود را داشتم‌، هدفم هم استفاده از همان بود. ولی یک مشکلی بود! آدرس‌ها با این فرض ساخته شده بود که دامینم بعد از انتقال Shahinism.com می‌ماند که فعلا این‌طور نیست. یعنی یک همچین چیزی:</p>
<pre class="code text"><a name="rest_code_897851bb81714e6887403414dcdce576-1"></a>shahinism.com/oldversion/page1, shahinism.com/page1
</pre>
<p>که من می‌خواستم به همچین شکلی در آید:</p>
<pre class="code text"><a name="rest_code_591791a54ddf4482b055c9f213fadc90-1"></a>shahinism.com/oldversion/page1, shahinsm.github.io/page1
</pre>
<p>خوب برای یک خط ساده است‌‌، ولی برای دویست و خرده‌ای خط و قاطی با کلی کاراکتر کد شدهٔ یونیکد چطور؟ آن هم ساده است. باز هم <a class="reference external" href="http://shahinism.github.io/categories/emacs.html">Emacs</a> و این‌بار با کمک <a class="reference external" href="http://emacsrocks.com/e13.html">Multiple cursor</a> که اعجوبه‌ای است برای خودش. این است که تا موعد سر رسیدن هاستینگم‌، آدرس تمام پست‌های قبلی به این وبلاگ منتقل می‌شوند و گوگل هم گم نمی‌شود.</p>
<p>بعد از آن هم که دیگر امیدوارم دامین اصلی‌ام روی وبلاگ سوار شده باشد.</p>
<p>منابع دیگر:</p>
<ul class="simple">
<li><a class="reference external" href="http://nikola.ralsina.com.ar/handbook.html">راهنمای نیکولا</a></li>
<li><a class="reference external" href="http://pages.github.com/">راهنمای صفحات گیت‌هاب</a></li>
<li>
<a class="reference external" href="http://docutils.sourceforge.net/docs/user/rst/quickref.html#external-hyperlink-targets">راهنمای restructuredText</a> که من برای نوشتن این پست از آن استفاده کردم و فوق‌العاده لذت بردم.</li>
<li><a class="reference external" href="http://nikola.ralsina.com.ar/creating-a-theme.html">راهنمای سادهٔ تغییر قالب Orphan با Mako</a></li>
</ul>
</div>
</div>
</div>
    </div>

    <div class="text-center">
                    <a class="btn btn-success" href="posts/from-wordpress-to-nikola/#disqus_thread" data-disqus-identifier="cache/posts/from-wordpress-to-nikola.html">Comments</a>


    </div>

    </article><article class="h-entry post-text"><div class="text-center">

        <h1 class="p-name entry-title"><a href="posts/wp/yn-ymkhs-dwst-dshtny-blns-khrdn-prn/" class="u-url">این ایمکس دوست داشتنی (بالانس کردن پرانتز‌ها)</a></h1>
            شاهین
      <a href="posts/wp/yn-ymkhs-dwst-dshtny-blns-khrdn-prn/" rel="bookmark"><time class="published dt-published" datetime="2013-04-16T00:44:12+04:30" title="2013-04-16 00:44">2013-04-16 00:44</time></a>
    </div>
    <div class="e-content entry-content">
    <div>
<pre class="code literal-block"><span></span><span class="p">(</span><span class="nv">electric-pair-mode</span><span class="p">)</span>
<span class="p">(</span><span class="nv">show-paren-mode</span><span class="p">)</span>
</pre>


<p>خوب با خط اول‌، به ایمکس می‌گوییم‌، هر وقت ما پرانتزی (که شامل تمام علاماتی است که در بالا اشاره کردیم) باز کردیم‌، خودت به صورت خودکار‌، کاراکتر بستن آن را وارد کن. همین‌طور در خط دوم مجبورش می‌کنیم وقتی روی پرانتزی هستیم‌، اگر جفتی برایش وجود دارد‌، آن را برایمان نمایش دهد (هر دو طرف پرانتز سبز می‌شود معمولا‌. با توجه به تنظیمات پوستهٔ ایمکس)‌. اگر نه‌، سمتی که رویش ایستاده‌ایم را قرمز کن تا بفهمیم تنهاست ;-)</p>
<p><a href="https://dl.dropboxusercontent.com/u/25017694/Blog-photos/emacsparenmatch.png"><img alt="نمونه‌ای از نمایش جفت پرانتز در ایمکس" src="https://dl.dropboxusercontent.com/u/25017694/Blog-photos/emacsparenmatch.png" width="328" height="42"></a> نمونه‌ای از نمایش جفت پرانتز در ایمکس</p>
<p>بخش اول کار که معلوم است. ولی این بخش دوم قابلیت‌های جالب دیگری هم دارد. مثلا می‌توان با(setq show-paren-delay 0) میزان زمانی که طول می‌کشد تا جفت کاراکتر پرانتزمان را نمایش دهد را تعیین کنیم. از قرار به طور پیش‌فرض مقداری Delay تعیین شده که ما با این دستور می‌توانیم صفرش کنیم. من این کار را نکردم چون به نظرم سر موقع نمایش داده می‌شوند.</p>
<p>همین‌طور می‌توان با(setq show-paren-style 'MODE) تعیین کرد که نمایش هر جفت پرانتز چطور باشد. که برای این کار باید عبارت MODE را با یکی از سه گزینهٔ زیر جایگزین کنیم:</p>
<ul>
<li>
<strong>parenthesis</strong> که مد پیش‌فرض است و فقط پرانتز‌های دو طرف را نمایش می‌دهد.</li>
    <li>
<strong>expression</strong> که علاوه بر پرانتز‌ها‌، متن درونشان هم برجسته می‌شود.</li>
    <li>
<strong>mixed</strong> که اگر پرانتز‌ها بالانس باشند مثل مد parenthesis عمل می‌کند و گرنه مثل expression.</li>
</ul>
<p>به همین سادگی می‌توانید آن‌طور که می‌خواهید این رفتار ایمکس را هم کنترل کنید.</p>
<p>من این آموزش را نمی‌دانم از کجای اینترنت یاد گرفتم. ولی این <a title="Emacsfu" href="http://emacs-fu.blogspot.de/2009/01/balancing-your-parentheses.html" target="_blank">وبلاگ</a> هم به آن اشاره کرده که وبلاگ عالی‌ای هم هست. پیشنهاد می‌کنم از دستش ندهید. خیلی خیلی تکنیک‌های جالبی با آن یاد خواهید گرفت.</p>
</div>
    </div>

    <div class="text-center">
                    <a class="btn btn-success" href="posts/wp/yn-ymkhs-dwst-dshtny-blns-khrdn-prn/#disqus_thread" data-disqus-identifier="cache/posts/wp/yn-ymkhs-dwst-dshtny-blns-khrdn-prn.html">Comments</a>


    </div>

    </article>
</div>
        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-24.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-22.html" rel="next">Older posts</a>
            </li>
        </ul></nav><script>var disqus_shortname="shahinism";(function(){var a=document.createElement("script");a.async=true;a.src="//"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script>
</div>
    </div>
    <!--End of body content-->
  </div>

  <footer id="footer" class="site-footer">
    Contents © 2016         <a href="mailto:me@5hah.in">شاهین</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         
    
  </footer><script src="assets/js/all-nocdn.js"></script><script>$('a.image-reference:not(.islink) img:not(.islink)').parent().colorbox({rel:"gal",maxWidth:"100%",maxHeight:"100%",scalePhotos:true});</script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
  </script><!-- end fancy dates -->
</body>
</html>

<!DOCTYPE html><html lang="fa">
  <head>
    
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Sometimes you gotta run before you can walk ">
  <meta name="author" content="شاهین آزاد">
  <title>شاهینیسم (صفحهٔ ارسال‌های قدیمی 74) | شاهینیسم</title>
  
  <link rel="stylesheet" href="assets/css/style.css" type="text/css" media="screen">
  
    <link href="assets/css/custom.css" rel="stylesheet" type="text/css">
  
  <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js" type="text/javascript"></script>
      <![endif]-->

  
    
      <link rel="alternate" type="application/rss+xml" title="RSS fa" href="rss.xml/">
    
  
  

    
    
  </head>
  <body>
    <div class="container">
      <header>
	<p>sometimes you gotta run before you can walk. <small><a href="https://en.wikipedia.org/wiki/Iron_Man">T Stark</a></small></p>
	<a class="nav-link" href="index-74.html#navigation"></a>
      </header><!--/header-->
      <div class="columns four">
	
  
    <article>
      <h2 class="title"><a href="posts/from-wordpress-to-nikola.html">از وردپرس به نیکولا</a></h2>
      <div class="metadata">
	<span class="date">2013-05-13 10:21</span>
	<span class="writer">شاهین آزاد</span>
      </div><!--/metadata-->
      <p>
	</p><p>خیلی وقت بود که به فکر انتقال وبلاگم به یکی از سیستم‌های وبلاگ ایستا (Static) بودم. عمده‌ترین دلیلش هم قابلیت خوب Github برای انتشار چنین وبلاگ‌هایی بود. اما بیشتر از یک سال این فکر را عقب انداختم تا دیگر کم کم نگهداری از هاست و دامین وبلاگ آن هم با نوع سرویس دهی شرکت‌های ایرانی‌، برایم خسته کننده شد. وبلاگ‌نویسی قرار نیست تمام فکر و ذکرم را به خودش مشغول کند‌! قرار است یک جای ساده باشد که خیلی راحت بتوان تویش نوشت و منتشر کرد. (الان که دارم می‌نویسم‌، دامین اصلی وبلاگم Shahinism.com لنگ به هواست و نمی‌توانم DNS را به هاست قبلی منتقل کنم)</p>
<div class="section" id="id1">
<h2>چرا یک وبلاگ ایستا؟</h2>
<p>خوب به طور کلی دلایلش از این قرارند:</p>
<ul class="simple">
<li><strong>سرعت‌، سرعت‌، سرعت:</strong> دیگر در این نوع از وبلاگ‌، خبری از پایگاه داده نیست. همین‌طور قرار نیست هیچ پردازشی در سمت سرور وبلاگ قرار گیرد. و خوب طبیعتا خیلی خیلی امکاناتی که این ابزار‌ها فراهم می‌کنند را نمی‌توانم داشته باشم. اما حقیقتش در یک وبلاگ‌، به بسیاری از این ابزار‌ها نیاز ندارم. به هر حال این نبودن‌ها‌، یعنی سرعت بیشتر. در مورد من‌، سرعت لود صفحات‌، حدودا سه برابر بیشتر شد.</li>
<li><strong>سادگی:</strong> فکر نمی‌کنم چیز زیادی در این زمینه برای گفتن باقی گذاشته باشم.</li>
<li><strong>امنیت:</strong> وقتی تنها با صفحات سادهٔ HTML روبرو هستید. وقتی یک سیستم انتشار قابل اطمینان دارید‌‌، دیگر نباید نگران آپدیت بودن ابزار وبلاگ‌نویسی‌تان و یا هک شدنش باشید. این‌طور نیست؟</li>
<li><strong>محدود نبودن پهنای باند:</strong> این یکی از آن کابوس‌هایی است که بی‌خبر به سراغ‌تان می‌آید. ولی خوب خوشبختانه روی گیت‌هاب‌، این نگرانی را نداریم ;-)</li>
<li><strong>قابلیت بازیابی:</strong> خوب این یکی زیاد مربوط به خود سیستم وبلاگ‌نویسی نیست. ولی چون نتیجهٔ کارش را می‌توان با هر سیستم دلخواهی منتشر کرد و من گیت را انتخاب کرده‌ام‌، خیلی راحت می‌توانم در صورت گند زدن‌، بدون هیچ استرسی آن را به حالت قبل برگردانم. این قابلیت روی هاست‌های اشتراکی پولی و گران است و در سرور‌های اختصاصی‌، خیلی پر دردسر‌تر از چیزی که در این‌جا با آن طرفیم ;-)</li>
</ul>
</div>
<div class="section" id="id2">
<h2>کدام سیستم؟</h2>
<p>به هر حال‌، پس از قطعی شدن تصمیم انتقال‌، باید یکی از سیستم‌ها را انتخاب می‌کردم. به طور کلی این سیستم‌ها اعم از <a class="reference external" href="http://nikola.ralsina.com.ar/">Nikola</a>, <a class="reference external" href="http://docs.getpelican.com/">Pelican</a>, <a class="reference external" href="http://octopress.github.ip/">Octopress</a> و خیلی‌های دیگر که با یک سرچ در اینترنت می‌توانید پیدایشان کنید‌، تفاوت عمده‌ای در نتیجهٔ کار ندارند. طرز کارشان فوق‌العاده ساده است. شما متن پست وبلاگ‌تان را در یک فایل حالا به هر فرمتی که سیستم مورد نظر برای‌تان مهیا کرده می‌نویسید‌، یک قالب هم بر اساس قوائد تعیین شدهٔ سیستم به آن می‌خورانید و می‌گویید که وبلاگ آماده شود. در نهایت این سیستم می‌آید یک سایت کاملا ایستا در فایل‌های html آماده می‌کند که شامل پست‌های شماست و بر اساس قالب مورد نظر‌تان قالب‌بندی شده.</p>
<p>من <a class="reference external" href="http://nikola.ralsina.com.ar/">Nikola</a> را انتخاب کردم‌، چون اولا پایتونی است‌ و بعد از آن خیلی راحت‌تر از <a class="reference external" href="http://docs.getpelican.com/">Pelican</a> که آن هم پایتونی است نصب می‌شود. همین!</p>
<!-- TEASER_END: بیشتر بخوانید -->
</div>
<div class="section" id="id3">
<h2>نام فارسی پست‌ها و مشکلاتش</h2>
<p>برای انتقال وبلاگ وردپرسی‌ام کافی بود که یک خروجی XML از وبلاگم بگیرم و آن را به صورت زیر به نیکولا بخورانم:</p>
<pre class="code sh literal-block">
nikola import_wordpress wordpress_output.xml
</pre>
<p>و در این‌جا یک مشکل ساده پیش رویم بود. من روی وبلاگ وردپرسی‌ام از URL‌های فارسی برای پست‌ها استفاده می‌کردم. همان‌طور که می‌دانید کاراکتر‌های Unicode در URL‌ها به صورت خاصی کد می‌شوند و اگر ما آن‌ها را در مرورگرمان به صورت فارسی می‌بینیم‌، این تنها قابلیت مرورگرمان است و بس! یعنی آدرس اصلی URL‌ها همان کد‌های در هم و شلخته است. به هر حال روی وردپرس این امکان مشکل زیادی ایجاد نمی‌کرد و از قرار به SEO سایت هم کمک می‌کرد.</p>
<p>در فرآیند انتقال‌، نیکولا به ازای هر پست یک فایل تکست که حاوی متن پست است با پسوند wp و یک فایل جدا با فرمت meta که حاوی تگ‌ها و اطلاعات دیگر پست است ایجاد می‌کند. نام این فایل‌ها را با کمی دستکاری‌، از روی آدرس قبلی پست‌ها بر می‌دارد. اولین باری که وبلاگ را وارد کردم‌، یک کابوس واقعی بود‌! اسم فایل‌ها همان کاراکتر‌های یونیکد کد شده بود و مدیریت‌شان واقعا سخت.</p>
<p>خوشبختانه پایتون در ماژول urllib متدی به اسم unqoute دارد که می‌تواند این رشته‌ها را به هم‌تای یونیکدی‌شان ترجمه کند. این مساله را با نویسندهٔ <a class="reference external" href="http://nikola.ralsina.com.ar/">Nikola</a> در میان گذاشتم و او هم این قابلیت را به نیکولا اضافه کرد. با این تفاوت که اسم فایل‌ها باز هم فارسی نبود. برای مثال پستی به اسم <strong>این ایمکس دوست داشتنی (بالانس کردن پرانتز‌ها)</strong> اسمی به صورت <strong>yn-ymkhs-dwst-dshtny-blns-khrdn-prn</strong> می‌گرفت. خوب که توجه کنید یک تلاش ناشیانه برای فینگلیش کردن کاراکتر‌ها را می‌بینید. این‌طور نیست؟ خوب این برایم خیلی جالب بود. این عمل با استفاده از تابع <a class="reference external" href="http://www.tablix.org/~avian/blog/archives/2009/01/unicode_transliteration_in_python/">unidecode</a> پایتون در متد slugify نیکولا انجام می‌گرفت. چند نفر دیگر هم این مشکل را با توسعه دهندهٔ <a class="reference external" href="http://nikola.ralsina.com.ar/">Nikola</a> در میان گذاشتند‌، ولی از قرار فعلا نیکولا لازم است که از این تابع استفاده کند‌ و راهی برای دور زدنش نیست (من هم هرچند سوادش را ندارم‌، ولی زیاد درگیرش نشده‌ام).</p>
<p>این است که پست‌های قبلی وبلاگم‌، آدرس‌هایی کوتاه‌تر‌، شکیل‌تر ولی نامفهوم و غیر SEO دارند. اما هر چه باشد‌، فعلا قابل تحمل است‌، شاید در آینده فکری به حالش کردم.</p>
</div>
<div class="section" id="id4">
<h2>طراحی قالب</h2>
<p>نیکولا قابلیت استفاده از دو زبان برای طراحی قالبش را دارد. <a class="reference external" href="http://www.makotemplates.org/">Mako</a> و <a class="reference external" href="http://jinja.pocoo.org/">Jinja2</a>. من به خاطر خوشگلی <a class="reference external" href="http://jinja.pocoo.org/">Jinja2</a> را انتخاب کردم و پس از مطالعهٔ <a class="reference external" href="http://jinja.pocoo.org/docs/templates/">مستنداتش</a> شروع به نوشتن یک قالب برای <a class="reference external" href="http://nikola.ralsina.com.ar/">Nikola</a> کردم. و خوب از آن‌جایی که بنیاد اصلی قالب‌های نیکولا <a class="reference external" href="http://www.makotemplates.org/">Mako</a> بود‌، زیاد دستم به جایی بند نبود. این بود که قالب <strong>Orphan</strong> نیکولا را که با <a class="reference external" href="http://www.makotemplates.org/">Mako</a> نوشته شده بود به <a class="reference external" href="http://jinja.pocoo.org/">Jinja2</a> ترجمه کردم و روی آن کار کردم. ترکیبش با استایل و Markup قالب وردپرسی <a class="reference external" href="http://themes.jimbarraud.com/manifest">Manifest</a> چیزی است که الان روی این وبلاگ می‌بینید.
ترجمهٔ Jinja2‌ای قالب Orphan را برای اضافه شدن به <a class="reference external" href="http://nikola.ralsina.com.ar/">Nikola</a> کامیت کردم‌، ولی هنوز اضافه نشدم (همان بهتر که اضافه نشده‌، چون مشکلاتی دارد که باید حل کنم). قالب فعلی هم بعد از تکامل به لیست قالب‌های <a class="reference external" href="http://nikola.ralsina.com.ar/">Nikola</a> اضافه می‌شود.</p>
</div>
<div class="section" id="syntax-highlighter">
<h2>Syntax highlighter در پست‌ها</h2>
<p>خوب من در وبلاگم زیاد کد به اشتراک می‌گذارم. این است که یک <strong>Syntax highlighter</strong> خوب می‌تواند خیلی کمک کننده باشد. قبلا از دو افزونهٔ مختلف وردپرس که هر کدام نحو مخصوص به خودشان را داشتند استفاده کرده بودم و با هزار بدبختی نحو یکی را با دیگری منطبق کردم که ساختار وبلاگ یک‌پارچه به نظر آید. ولی بعد از انتقال به <a class="reference external" href="http://nikola.ralsina.com.ar/">Nikola</a> هیچ کدام از این نحو‌ها درست کار نمی‌کرد.</p>
<p>باید بیش از ۲۰۰ پست را جستجو می‌کردم و هر جا کدی بود آن را به صورت دستی ویرایش می‌کردم و به شکلی منطبق با <strong>Markdown</strong> در می‌آوردم (<a class="reference external" href="http://nikola.ralsina.com.ar/">Nikola</a> پس از وارد کردن پست‌های وردپرسی به وبلاگ‌، به صورت خودکار آن‌ها را با Markdown کامپایل می‌کند). خوب وقتی <a class="reference external" href="http://shahinism.github.io/categories/emacs.html">Emacs</a> کبیر ویرایش‌گر محبوب‌تان باشد‌، با <strong>dired</strong> و یک Query می‌توانید کل این ویرایش‌ها را یک‌جا انجام دهید (نکات تکنیکی کار را بعدا در پست‌های جداگانه می‌نویسم. ولی همین اشاره‌ها هم باید به قدر کافی روشنگر باشند).</p>
<p>این را هم اضافه کنم که <a class="reference external" href="http://nikola.ralsina.com.ar/">Nikola</a> برای این کار از Pygments استفاده می‌کند که لیست Lexer‌هایش را می‌توانید از <a class="reference external" href="http://pygments.org/docs/lexers/">اینجا</a> ببینید.</p>
</div>
<div class="section" id="id5">
<h2>دیدگاه‌ها</h2>
<p>قبلا گفتم که با <a class="reference external" href="http://nikola.ralsina.com.ar/">Nikola</a> دیگر خبری از پایگاه داده نیست. تنها ابزار خیلی خیلی مهم مورد نیاز برای وبلاگ‌نویسی بخش دیدگاه‌هاست که از چند وقت پیش دوباره برگردانده بودمش روی <a class="reference external" href="http://disqus.com">Disqus</a>. این ابزار فوق‌العاده است. ولی خوب فعلا یک مشکل عمده‌ای که با آن دارم این است که نمی‌توانم متن کامنت‌ها را در آن راست به چپ کنم. قبلا این امکان در آن وجود داشت که با CSS آن را کنترل کنم. ولی در نسخهٔ جدید این امکان را حذف کرده‌اند (چرا؟ نمی‌دانم). با مدیرانش تماس گرفتم و گفتند که در تلاشند تا امکان نمایش درست دیدگاه‌های RTL را به <a class="reference external" href="http://disqus.com">Disqus</a> اضافه کنند. تا آن موقع مجبوریم با این یکی کنار بیاییم D:</p>
<p>اما یک نکتهٔ دیگر هم باقی می‌ماند. همانطور که قبلا گفتیم‌، بعد از انتقال به <a class="reference external" href="http://nikola.ralsina.com.ar/">Nikola</a> آدرس پست‌های‌مان تغییر کرده. در نتیجه‌، <a class="reference external" href="http://disqus.com">Disqus</a> از آدرس‌های جدید برای کامنت‌های وبلاگ‌مان استفاده می‌کند و کامنت‌های قبلی‌مان را در جای درست نشان نمی‌دهد. <a class="reference external" href="http://disqus.com">Disqus</a> برای این کار یک قابلیت Migration دارد که با گرفتن یک فایل ‎.csv آدرس کامنت‌های قبلی را به هم‌تایان جدید‌شان تبدیل می‌کند. <a class="reference external" href="http://nikola.ralsina.com.ar/">Nikola</a> به طور خودکار پس از وارد کردن وردپرس‌، این فایل را در شاخهٔ اصلی ایجاد می‌کند که می‌توانید استفاده کنید.</p>
</div>
<div class="section" id="github">
<h2>استفاده از Github</h2>
<p>برای این‌کار کافی است یک مخزن در <a class="reference external" href="http://github.com">Github</a> ایجاد کنید و پوشهٔ <strong>output</strong> را به آن بسپارید. ضمنا توجه کنید در صورتی که قصد دارید مثل من وبلاگ (برای کاربر یا یک گروه) ایجاد کنید نام مخزن باید به صورت <strong>username.github.io</strong> باشد و صفحات در برنچ <strong>master</strong> آپلود شوند.</p>
<div class="section" id="id6">
<h3>انتقال دامنه</h3>
<p>اگر مثل من قصد داشتید که یک دامنهٔ مستقل به وبلاگ پیوند بزنید‌، کافیست یک فایل به اسم CNAME که تنها حاوی دامنهٔ مورد نظر به صورت text است در شاخهٔ اصلی مخزن اضافه کنید. و سپس در دامنه‌تان یک <a class="reference external" href="http://en.wikipedia.org/wiki/Domain_Name_System">A Record</a> به IP شمارهٔ 204.232.175.78 اضافه کنید (برای این کار باید به DNS Management دامنه‌تان دسترسی داشته باشید).
و خوب مشکل بعدی این‌جا سر راهم سبز شد. در هنگام ثبت دامنه‌ام‌، قرار بود من دسترسی کامل به دامنه داشته باشم و چون قبل از این نمی‌دانستم A Record چیست‌، فکر می‌کردم همین‌طور هم هست. می‌توانستم DNS‌ها را کنترل کنم‌، ولی هیچ‌وقت نیاز به یک Record نداشتم. به هر حال‌‌، چون دیدم به DNS Manager دسترسی ندارم‌، یک تیکت به ثبت کنندهٔ دامنه‌ام زدم و کاشف به عمل آمد این یکی جزء خدمات پولی است‌! خوب چون مدت زیادی به پایان دامنه‌ام نمانده‌، قصد دارم دامنه را به یک Provider اجنبی منتقل کنم که این خدمات و خیلی چیز‌های دیگر که تا قبل از این نمی‌دانستم می‌توانم با دامنه‌ام انجام دهم را مجانی بهم می‌دهد و پول تمدید خیلی کمتری هم طلب می‌کند!</p>
</div>
<div class="section" id="redirect">
<h3>301 Redirect</h3>
<p>چون نمی‌توانستم دامینم را منتقل کنم (این اتفاق بانی خیر شد)‌، یک‌جور‌هایی ناجور بود که دو دامنهٔ متفاوت با یک محتوا فعال باشند (Google به این خاطر امتیاز کم می‌کند). جستجو کردم و دیدم از قبل برای این کار پیش‌بینی‌های لازم شده. این اخطار‌های ۴.۴ یا ۴۰۳ (که این دومی را ما ایرانی‌ها خوب می‌شناسیم) را که یادتان هست. از قرار در زمان اولیه اینترنت اتاق ۳۰۱‌ای بوده که وظیفهٔ انتقال دادن درخواست‌ها را بر عهده داشته.</p>
<p>اما قبل از این که به چگونگی این کار بپردازم به این نکته اشاره کنم که اول از همه به فکرم رسید که دامین را فروارد کنم (که خوشبختانه رایگان بود D:) و این کار را هم کردم. ولی نمی‌دانم Github چرا دامین منتقل شده را درک نمی‌کند و اخطار ۴۰۴ می‌دهد. به هر حال بعدش بود که تغییر مسیر ۳۰۱ را پیدا کردم و دیدم که چقدر بهتر از آن Forward است.</p>
<p>برای این کار چند انتخاب داشتم. اول این که ‎.htaccess را دستکاری کنم. دوم این که به مخزن عظیم پلاگین‌های وردپرس پناه ببرم. خوب من دومی را انتخاب کردم. چون این‌طوری هنوز هم به خیلی از اطلاعات دیگری که وردپرس فعلا می‌تواند در اختیارم بگذارد دسترسی دارم. افزونهٔ <a class="reference external" href="http://wordpress.org/extend/plugins/redirection/">Redirection</a> وردپرس این کار را انجام می‌دهد. و خوشبختانه هم فایل با پسوند CSV‌مان را می‌خواند هم دستور ‎.htaccess را به عنوان ورودی می‌گیرد.</p>
<p>من که یک فایل CSV که <a class="reference external" href="http://nikola.ralsina.com.ar/">Nikola</a> برایم آماده کرده بود را داشتم‌، هدفم هم استفاده از همان بود. ولی یک مشکلی بود! آدرس‌ها با این فرض ساخته شده بود که دامینم بعد از انتقال Shahinism.com می‌ماند که فعلا این‌طور نیست. یعنی یک همچین چیزی:</p>
<pre class="code literal-block">
shahinism.com/oldversion/page1, shahinism.com/page1
</pre>
<p>که من می‌خواستم به همچین شکلی در آید:</p>
<pre class="code literal-block">
shahinism.com/oldversion/page1, shahinsm.github.io/page1
</pre>
<p>خوب برای یک خط ساده است‌‌، ولی برای دویست و خرده‌ای خط و قاطی با کلی کاراکتر کد شدهٔ یونیکد چطور؟ آن هم ساده است. باز هم <a class="reference external" href="http://shahinism.github.io/categories/emacs.html">Emacs</a> و این‌بار با کمک <a class="reference external" href="http://emacsrocks.com/e13.html">Multiple cursor</a> که اعجوبه‌ای است برای خودش. این است که تا موعد سر رسیدن هاستینگم‌، آدرس تمام پست‌های قبلی به این وبلاگ منتقل می‌شوند و گوگل هم گم نمی‌شود.</p>
<p>بعد از آن هم که دیگر امیدوارم دامین اصلی‌ام روی وبلاگ سوار شده باشد.</p>
<p>منابع دیگر:</p>
<ul class="simple">
<li><a class="reference external" href="http://nikola.ralsina.com.ar/handbook.html">راهنمای نیکولا</a></li>
<li><a class="reference external" href="http://pages.github.com/">راهنمای صفحات گیت‌هاب</a></li>
<li><a class="reference external" href="http://docutils.sourceforge.net/docs/user/rst/quickref.html#external-hyperlink-targets">راهنمای restructuredText</a> که من برای نوشتن این پست از آن استفاده کردم و فوق‌العاده لذت بردم.</li>
<li><a class="reference external" href="http://nikola.ralsina.com.ar/creating-a-theme.html">راهنمای سادهٔ تغییر قالب Orphan با Mako</a></li>
</ul>
</div>
</div>
      
      
        
    
        <a class="commentLink" href="posts/from-wordpress-to-nikola.html#disqus_thread" data-disqus-identifier="cache/posts/from-wordpress-to-nikola.html">Comments</a>
    

    </article>
  

    <article>
      <h2 class="title"><a href="posts/blog13920127yn-ymkhs-dwst-dshtny-blns-khrdn-prn.html">این ایمکس دوست داشتنی (بالانس کردن پرانتز‌ها)</a></h2>
      <div class="metadata">
	<span class="date">2013-04-16 00:44</span>
	<span class="writer">شاهین آزاد</span>
      </div><!--/metadata-->
      <p>
	</p><div class="code"><pre><span class="p">(</span><span class="nv">electric-pair-mode</span><span class="p">)</span>
<span class="p">(</span><span class="nv">show-paren-mode</span><span class="p">)</span>
</pre></div>


<p>خوب با خط اول‌، به ایمکس می‌گوییم‌، هر وقت ما پرانتزی (که شامل تمام علاماتی است که در بالا اشاره کردیم) باز کردیم‌، خودت به صورت خودکار‌، کاراکتر بستن آن را وارد کن. همین‌طور در خط دوم مجبورش می‌کنیم وقتی روی پرانتزی هستیم‌، اگر جفتی برایش وجود دارد‌، آن را برایمان نمایش دهد (هر دو طرف پرانتز سبز می‌شود معمولا‌. با توجه به تنظیمات پوستهٔ ایمکس)‌. اگر نه‌، سمتی که رویش ایستاده‌ایم را قرمز کن تا بفهمیم تنهاست ;-)</p>
<p><a href="https://dl.dropboxusercontent.com/u/25017694/Blog-photos/emacsparenmatch.png"><img alt="نمونه‌ای از نمایش جفت پرانتز در ایمکس" src="https://dl.dropboxusercontent.com/u/25017694/Blog-photos/emacsparenmatch.png" width="328" height="42"></a> نمونه‌ای از نمایش جفت پرانتز در ایمکس</p>
<p>بخش اول کار که معلوم است. ولی این بخش دوم قابلیت‌های جالب دیگری هم دارد. مثلا می‌توان با(setq show-paren-delay 0) میزان زمانی که طول می‌کشد تا جفت کاراکتر پرانتزمان را نمایش دهد را تعیین کنیم. از قرار به طور پیش‌فرض مقداری Delay تعیین شده که ما با این دستور می‌توانیم صفرش کنیم. من این کار را نکردم چون به نظرم سر موقع نمایش داده می‌شوند.</p>
<p>همین‌طور می‌توان با(setq show-paren-style 'MODE) تعیین کرد که نمایش هر جفت پرانتز چطور باشد. که برای این کار باید عبارت MODE را با یکی از سه گزینهٔ زیر جایگزین کنیم:</p>
<ul><li><strong>parenthesis</strong> که مد پیش‌فرض است و فقط پرانتز‌های دو طرف را نمایش می‌دهد.</li>
    <li><strong>expression</strong> که علاوه بر پرانتز‌ها‌، متن درونشان هم برجسته می‌شود.</li>
    <li><strong>mixed</strong> که اگر پرانتز‌ها بالانس باشند مثل مد parenthesis عمل می‌کند و گرنه مثل expression.</li>
</ul>

<p>به همین سادگی می‌توانید آن‌طور که می‌خواهید این رفتار ایمکس را هم کنترل کنید.</p>
<p>من این آموزش را نمی‌دانم از کجای اینترنت یاد گرفتم. ولی این <a title="Emacsfu" href="http://emacs-fu.blogspot.de/2009/01/balancing-your-parentheses.html" target="_blank">وبلاگ</a> هم به آن اشاره کرده که وبلاگ عالی‌ای هم هست. پیشنهاد می‌کنم از دستش ندهید. خیلی خیلی تکنیک‌های جالبی با آن یاد خواهید گرفت.</p>
      
      
        
    
        <a class="commentLink" href="posts/blog13920127yn-ymkhs-dwst-dshtny-blns-khrdn-prn.html#disqus_thread" data-disqus-identifier="cache/posts/blog13920127yn-ymkhs-dwst-dshtny-blns-khrdn-prn.html">Comments</a>
    

    </article>
  

    <article>
      <h2 class="title"><a href="posts/blog13920125yn-ymkhs-dwst-dshtny-backuph-w-autosaveh.html">این ایمکس دوست داشتنی (Backup‌ها و Autosave‌ها)</a></h2>
      <div class="metadata">
	<span class="date">2013-04-14 10:23</span>
	<span class="writer">شاهین آزاد</span>
      </div><!--/metadata-->
      <p>
	</p><p>این است که برای ایمکس یک جای مخصوص درست می‌کنیم که این پشتیبان‌ها را در آن جا بریزد. این‌طوری نه ساختار سیستم فایل‌مان را شلخته می‌کنیم‌، و نه از نعمت وجود پشتیبان‌ها بی‌بهره می‌شویم.</p>


<div class="code"><pre> <span class="p">(</span><span class="nv">custom-set-variables</span>
 <span class="c1">;; custom-set-variables was added by Custom.</span>
 <span class="c1">;; If you edit it by hand, you could mess it up, so be careful.</span>
 <span class="c1">;; Your init file should contain only one such instance.</span>
 <span class="c1">;; If there is more than one, they won't work right.</span>
 <span class="o">'</span><span class="p">(</span><span class="nv">auto-save-file-name-transforms</span> <span class="p">(</span><span class="k">quote</span> <span class="p">((</span><span class="s">".*"</span> <span class="s">"~/.emacs.d/autosaves/\\1"</span> <span class="no">t</span><span class="p">))))</span>
 <span class="o">'</span><span class="p">(</span><span class="nv">backup-directory-alist</span> <span class="p">(</span><span class="k">quote</span> <span class="p">((</span><span class="s">".*"</span> <span class="o">.</span> <span class="s">"~/.emacs.d/backups/"</span><span class="p">)))))</span>
</pre></div>


<p>خوب‌، تمام نکتهٔ اصلی ماجرا این‌جاست که ما با تابع custom-set-variables سر و کار داریم. این تابع را در واقع قرار نیست که ما صدا بزنیم (ولی این یک‌بار اشکال ندارد‌). حقیقتش نیاز هم نیست‌، چون این تنظیمات را می‌توان با خود ایمکس انجام داد. کافیست از منوی ایمکس‌، Options و Customize Emacs را انتخاب کنیم‌، بخش مورد نظر را پیدا و انگولکش کنیم و سپس Apply &amp; Save و خود ایمکس همچین چیزی را برای‌مان اضافه می‌کند! ولی خوب من حال سر و کله زدن با این منو‌ها را ندارم. پس باید بروم و همین متغیر‌ها که می‌بینید را مستقیما تغییر دهم. خوب آن وقت یک کمی کثیف‌کاری می‌شود. چرا؟ چون آن وقت این Customize ایمکس تنظیمات ما را نمی‌خواند و ممکن است برای یک همچین تنظیم پایه‌ای‌، مشکل بزاید برای‌مان.</p>
<p>باauto-save-file-name-transforms ما در واقع شیوهٔ نام‌گذاری Autosave‌ها را با یک Regex تغییر می‌دهیم. خود ایمکس‌، آن بخش آدرس دایرکتوری را‌، به مسیر جدید فایل تبدیل می‌کند و فایل‌ها را در آن‌جا ذخیره می‌کند. Autosave‌ها به صورت #FileName#  و به صورت خودکار ذخیره می‌شوند و شامل آخرین تغییرات یک بافر هستند.</p>
<p>دقیقا همین کار را هم با متغیرbackup-directory-alist انجام می‌دهیم که وظیفهٔ تغییر نام backup‌ها را بر عهده دارد. این پشتیبان‌ها در واقع آخرین وضعیت Save شدهٔ یک بافر را ارائه می‌دهند و به صورت FileName~ ‎ نام‌گذاری می‌شوند.</p>
<p>حالا نکته این‌جاست که احتمالا بعد از Restart ایمکس‌، با این اخطار روبرو می‌شوید که دایرکتوری Autosaves که آدرس داده‌اید وجود ندارد. یک کار این است که آن را به صورت دستی ایجادش کنید. فقط یک بار لازم است. و بعد ایمکس‌تان را اجرا کنید. یک کار دیگر هم می‌توان با دستور لیسپ زیر‌، چک کرد که اگر دایرکتوری وجود نداشت‌، خود ایمکس ایجادش کند:</p>
<div class="code"><pre><span class="p">(</span><span class="nv">make-directory</span> <span class="s">"~/.emacs.d/autosaves/"</span> <span class="no">t</span><span class="p">)</span>
</pre></div>


<p>من این تنظیمات را از <a href="http://snarfed.org/gnu_emacs_backup_files">این پست</a> یاد گرفتم. وبلاگ قدیمی‌ایست‌، و چیز‌های خوبی در مورد ایمکس می‌توان ازش یاد گرفت.</p>
      
      
        
    
        <a class="commentLink" href="posts/blog13920125yn-ymkhs-dwst-dshtny-backuph-w-autosaveh.html#disqus_thread" data-disqus-identifier="cache/posts/blog13920125yn-ymkhs-dwst-dshtny-backuph-w-autosaveh.html">Comments</a>
    

    </article>
  


<div class="pageNav">
  
  <div class="prev">
    <a href="index-75.html">← ارسال‌های جدید‌تر</a>
  </div>
  
  
  <div class="next">
    <a href="index-73.html">پست‌های قدیمی‌تر →</a>
  </div>
  
</div>


    
        <script type="text/javascript">var disqus_shortname="shahinism";(function(){var a=document.createElement("script");a.async=true;a.type="text/javascript";a.src="http://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("HEAD")[0]||document.getElementsByTagName("BODY")[0]).appendChild(a)}());</script>
    


      </div><!--columns four-->
    </div><!--container-->

    <nav id="navigation">
      <div class="logo"></div>
      
<!-- Custom search -->
<form method="get" id="search" action="http://duckduckgo.com/" class="navbar-form pull-left">
<input type="hidden" name="sites" value="http://5hah.in">
<input type="hidden" name="k8" value="#444444">
<input type="hidden" name="k9" value="#D51920">
<input type="hidden" name="kt" value="h">
<input type="text" placeholder="جستجو…" maxlength="255" name="q">
<input id="searchsubmit" type="submit" value="DDG Search">
</form>
<!-- End of custom search -->

      <ul>
	
  
    
      <li><a class="nav-icon home" href=".">Home</a></li>
    
  
    
      <li><a class="nav-icon about" href=".">About</a></li>
    
  
    
      <li><a class="nav-icon resume" href=".">Resume</a></li>
    
  
    
      <li><a class="nav-icon archives" href="archive.html">Archives</a></li>
    
  
    
      <li><a class="nav-icon tags" href="categories/index.html">Tags</a></li>
    
  
    
      <li><a class="nav-icon rss" href="rss.xml">RSS</a></li>
    
  

      </ul><!--/ul-->
    </nav><!--/navigation-->

<!--/container-->
<footer class="container">
  <div class="columns one">
    <h2>About</h2>
    <p>Not much yet!</p>
  </div>
  <div class="columns one">
    <h2>Social</h2>
    <p class="center">
      <a class="social github" href="http://github.com/shahinism"></a>
      <a class="social twitter" href="http://twitter.com/shahinism"></a>
      <a class="social lastfm" href="http://last.fm/shahinism"></a>
      <a class="social reddit" href="http://reddit.com/user/shahinism"></a>
    </p><!-- center -->
  </div>
  <div class="columns one">
    <h2>Projects</h2>
  </div><!-- column one -->
  <div class="columns one">
    <h2>Links</h2>
  </div>
  <div class="columns four copyright">
    <p> Contents © 2014         <a href="mailto:me@5hah.in">شاهین آزاد</a> - Powered by         <a href="http://getnikola.com" rel="nofollow">Nikola</a>          </p>
    <p>Designed by <a href="http://5hah.in">Shahin Azad</a>. All rights reserved.</p>
  </div>
</footer><!--/container-->

</body>
</html>